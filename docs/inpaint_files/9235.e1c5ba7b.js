/*! For license information please see 9235.e1c5ba7b.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["9235"],{601817:function(t,e,r){"use strict";r(300226)},323947:function(t,e){"use strict";e.Z={mobileTipsBanner:"mobileTipsBanner-uuYC_u",image:"image-SRAcyW",icon:"icon-sT5xfu",text:"text-xvjrkj",button:"button-tSdPFr"}},318251:function(t){var e=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,r,i,o){var a=Object.create((r&&r.prototype instanceof v?r:v).prototype);return n(a,"_invoke",{value:function(t,r,i){var n=h;return function(o,a){if(n===f)throw Error("Generator is already running");if(n===_){if("throw"===o)throw a;return I()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=function t(r,i){var n=i.method,o=r.iterator[n];if(e===o)return(i.delegate=null,"throw"===n&&r.iterator.return&&(i.method="return",i.arg=e,t(r,i),"throw"===i.method))?p:("return"!==n&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+n+"' method")),p);var a=d(o,r.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,p;var s=a.arg;return s?s.done?(i[r.resultName]=s.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):s:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,p)}(s,i);if(c){if(c===p)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var u=d(t,r,i);if("normal"===u.type){if(n=i.done?_:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=_,i.method="throw",i.arg=u.arg)}}}(t,i,new L(o||[]))}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",f="executing",_="completed",p={};function v(){}function y(){}function g(){}var m={};u(m,a,function(){return this});var w=Object.getPrototypeOf,T=w&&w(w(A([])));T&&T!==r&&i.call(T,a)&&(m=T);var R=g.prototype=v.prototype=Object.create(m);function C(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){var r;n(this,"_invoke",{value:function(n,o){function a(){return new e(function(r,a){!function r(n,o,a,s){var c=d(t[n],t,o);if("throw"===c.type)s(c.arg);else{var u=c.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}}(n,o,r,a)})}return r=r?r.then(a,a):a()}})}y.prototype=g,n(R,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(R),t},t.awrap=function(t){return{__await:t}},C(S.prototype),u(S.prototype,s,function(){return this}),t.AsyncIterator=S,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new S(l(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})};function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function A(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:I}}function I(){return{value:e,done:!0}}return C(R),u(R,c,"Generator"),u(R,a,function(){return this}),u(R,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else if(u){if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return(a.type=t,a.arg=e,o)?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;E(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:A(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},107551:function(t,e,r){"use strict";r.d(e,{W:function(){return m}});var i=r(876826),n=r(789786),o=r(216342),a=r(843698),s=r(448224),c=r(247170),u=r(836413),l=r(834634),d=r(434712),h=r(490165),f=r(423778),_=r(589643),p=r(468327),v=r(842245),y=r(962484),g=r(986831);class m{get localCredit(){return this._localCredit}get isLocalCreditReady(){return this._isLocalCreditReady}get localCreditHistoryMap(){return this._localCreditHistoryMap}get fetchCreditHistoryTaskIns(){return this._fetchCreditHistoryTaskIns}get localHistoryItemIds(){return this._localHistoryItemIds}init(){var t,e=this;var r=(t=(0,i._)(function*(){(yield e._initFetch((0,c.fC)())).ok&&(e._isLocalCreditReady=!0)}),function(){return t.apply(this,arguments)});this._accountService.hasLogin?r():this._accountService.onDidLogin(()=>{r()})}addLocalCreditHistory(t){var e,r=!!this._getLocalRecord(t);!r&&this._updateLocalRecord(t);var i=(0,p.U)(t);return this._localCredit+=i,null===(e=this._fetchCreditHistoryTaskIns)||void 0===e||e.changeIntervalTime(f.g.VERY_URGENT),this._localCreditChange.fire(i>0?g.h.ADD:g.h.DECREASE,t.tradeSource,i,t.submitId,t),this._localHistoryItemIds.add(t.submitId),(0,s.UQ)(()=>{if(!!this._getLocalRecord(t)&&!!this._localHistoryItemIds.has(t.submitId))this._localHistoryItemIds.delete(t.submitId),!r&&this._deleteLocalRecord(t),this._localCredit-=i,this._checkHasLocalItem(),this._localCreditChange.fire(i>0?g.h.DECREASE:g.h.ADD,t.tradeSource,-i,t.submitId,t)})}syncRemoteCreditHistory(){var t;null===(t=this._fetchCreditHistoryTaskIns)||void 0===t||t.reset(!0)}stopSyncRemoteCreditHistory(){var t;null===(t=this._fetchCreditHistoryTaskIns)||void 0===t||t.stopPolling()}_fetchCreditHistory(t){return(0,_._)(t,this._containerService)}_checkHasLocalItem(){if(!this._localHistoryItemIds.size){var t;null===(t=this._fetchCreditHistoryTaskIns)||void 0===t||t.changeIntervalTime(f.g.NOT_URGENT)}}_updateLocalCredit(t){if(!!t.submitId){var e=this._getLocalRecord(t);if((null==t?void 0:t.submitId)&&e&&this._localHistoryItemIds.has(t.submitId)){var r=(0,p.U)(t)-(0,p.U)(e);this._localCredit+=r,this._localHistoryItemIds.delete(t.submitId),this._updateLocalRecord(t),this._localCreditChange.fire(g.h.SYNCED,t.tradeSource,r,t.submitId,t),this._checkHasLocalItem();return}var i=(0,p.U)(t);this._localCredit+=i,this._updateLocalRecord(t),this._localCreditChange.fire(i>0?g.h.ADD:g.h.DECREASE,t.tradeSource,i,t.submitId,t)}}_initFetch(t){var e=this;return(0,i._)(function*(){var r,i,n=yield e._fetchCreditHistory(t);if(!n.ok)return(0,u.wf)(-1,"init failed");var{value:o}=n;return e._localCreditHistoryMap.clear(),e._localHistoryItemIds.clear(),e._initialRecord=null===(r=o.records)||void 0===r?void 0:r[0],e._localCredit=o.totalCredit,e._localCreditChange.fire(g.h.ADD,l.v.INIT_DATA,o.totalCredit,l.v.INIT_DATA,(0,v.T1)(o.totalCredit,l.P.ISSUED,l.v.INIT_DATA,l.v.INIT_DATA)),void 0!==e._initialRecord&&e._updateLocalRecord(e._initialRecord),e._fetchCreditHistoryTaskIns&&e._fetchCreditHistoryTaskIns.dispose(),e._fetchCreditHistoryTaskIns=e._containerService.createInstance(y.D,f.g.NOT_URGENT,null===(i=n.value.records)||void 0===i?void 0:i[0]),e._fetchCreditHistoryTaskIns.onCreditHistoryChange(e._handleCreditHistoryChange.bind(e)),e._fetchCreditHistoryTaskIns.startPolling(),(0,u.ly)()})()}_handleCreditHistoryChange(t){var e=t.filter(t=>{var e,r;return t.createTime>(null!==(r=null===(e=this._initialRecord)||void 0===e?void 0:e.createTime)&&void 0!==r?r:0)}).filter(t=>{var e=this._getLocalRecord(t);if(this._localHistoryItemIds.has(t.submitId)||void 0===e)return!0;var r=e.createTime===t.createTime,i=e.submitId===t.submitId;return t.submitId&&i&&!r});if(!!e.length)e.sort((t,e)=>t.createTime-e.createTime).map(t=>{this._updateLocalCredit(t)})}_getLocalKey(t){var e;return"".concat(t.submitId,"_").concat(null!==(e=t.tradeSource)&&void 0!==e?e:"")}_getLocalRecord(t){var e=this._getLocalKey(t);return this._localCreditHistoryMap.get(e)}_updateLocalRecord(t){var e=this._getLocalKey(t);this._localCreditHistoryMap.set(e,t)}_deleteLocalRecord(t){var e=this._getLocalKey(t);this._localCreditHistoryMap.delete(e)}dispose(){var t;null===(t=this._fetchCreditHistoryTaskIns)||void 0===t||t.dispose(),this._fetchCreditHistoryTaskIns=void 0,this._isLocalCreditReady=!1}constructor(t,e){this._containerService=t,this._accountService=e,this._localCredit=0,this._isLocalCreditReady=!1,this._initialRecord=void 0,this._fetchCreditHistoryTaskIns=void 0,this._localCreditHistoryMap=new Map,this._localCreditChange=new a.Q,this._localHistoryItemIds=new Set,this.onLocalCreditChange=this._localCreditChange.event}}(0,n.gn)([(0,o.lI)("LocalCreditHelper","initFetch"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context]),(0,n.w6)("design:returntype",Promise)],m.prototype,"_initFetch",null),m=(0,n.gn)([(0,n.fM)(0,d.t),(0,n.fM)(1,h.D),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===d.t?Object:d.t,void 0===h.D?Object:h.D])],m)},564030:function(t,e,r){"use strict";r.d(e,{p:function(){return a}});var i=r(590839),n=r(259273),o=r(642273),a={[i.a.PageRoute]:[{id:n.Sj.ThirdPartyCallback,path:o.EZ[n.Sj.ThirdPartyCallback],layoutConfiguration:{hideSideMenu:!0,hideTitleBar:!0},skeleton:()=>null}]}},829610:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(379311);class n{getEventParams(){var{lang:t,failedReason:e}=this._params;return{lang:t,failedReason:e}}constructor(t){this._params=t,this.eventName="gateway_inject_i18n_failed"}}function o(t,e){(0,i.S$)(t,n,[e])}},362344:function(t,e,r){"use strict";r.d(e,{u:function(){return i}});var i=(t,e)=>{var r=new AbortController,i=i=>{("pagehide"===i.type||"hidden"===document.visibilityState)&&(t(i),e&&r.abort())};return addEventListener("visibilitychange",i,{capture:!0,signal:r.signal}),addEventListener("pagehide",i,{capture:!0,signal:r.signal}),r}},462305:function(t,e,r){"use strict";r.d(e,{X:function(){return a},u:function(){return o}});var i,n=r(971245);var o=((i={}).Explore="explore",i.Story="story",i),a=(0,n.yh)("search-feed-service")},149614:function(t,e,r){"use strict";r.d(e,{v:function(){return o}});var i=r(940140),n=r(951729);function o(t){switch(t){case i.lF.ERROR_DRAFT_NOT_FOUND:return n.W.DRAFT_NOT_FOUND;case i.lF.ERROR_DRAFT_ILLEGAL:return n.W.DRAFT_TYPE_ERROR;case i.lF.ERROR_DRAFT_VERSION_CONFLICT:return n.W.DRAFT_VERSION_CONFLICT;case i.lF.ERROR_DRAFT_NOT_PERMISSION:return n.W.NOT_PERMISSION;case i.lF.ERROR_DRAFT_DUPLICATE_CREATION:return n.W.DRAFT_DUPLICATE_CREATION;case i.lF.ERROR_DRAFT_MATERIAL_LOSS:return n.W.DRAFT_MATERIAL_LOSS;case i.lF.ERROR_CHECK_LOGIN:return n.W.ERR_LOGIN;default:return n.W.NETWORK_ERROR}}},901827:function(t,e,r){"use strict";r.d(e,{A:function(){return R}});var i=r(876826),n=r(85728),o=r(929753),a=r(789786),s=r(836413),c=r(947259),u=r(56935),l=r(346526),d=r(442452),h=r(64300),f=r(474956),_=r(643590),p=r(416105),v=r(875649),y=r(243494),g=r(820266),m=r(131827),w=r(793724),T=r(203180);class R{get _networkClient(){if(!this._networkClientInstance){var t;this._networkClientInstance=(t=new _.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0}),(0,p.mH)(t),(0,l.V)(t,{retries:2}),(0,v.e_)(t),t)}return this._networkClientInstance}getMaterials(t){var e=this;return(0,i._)(function*(){var{count:r,assetSource:i,orderBy:n,order:o,workspaceId:a,spaceId:c}=t.config;try{var{assets:u,has_more:l,new_cursor:h}=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.GET_MATERIAL_LIST}),data:{count:r,asset_source:i,order_by:n,order:o,cursor:"".concat(t.offset),workspace_id:a,space_id:c},withCredentials:!0}),f=(null!=u?u:[]).map(T.M);return(0,s.oW)((0,y.ib)(t.config,f,{hasMore:l,offset:Number(h)}))}catch(t){return(0,s.wf)(-1,null==t?void 0:t.message)}})()}getUserAssets(t){var e=this;return(0,i._)(function*(){var{count:r,orderBy:i,order:n,workspaceId:o,parentId:a,assetTypes:c,isCrossFolder:u,offset:l,entryIds:f}=t.config;try{var{assets:_,has_more:p}=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.GET_ASSET_QUERY}),data:{count:r,asset_types:c,parent_id:a,is_cross_folder:u,order_by:i,order:n,offset:l,workspace_id:o,entry_ids:f},withCredentials:!0}),v=(null!=_?_:[]).map(t=>(0,h.y)(t));return(0,s.oW)((0,y.ib)(t.config,v,{hasMore:p,offset:l+r}))}catch(t){return(0,s.wf)(-1,null==t?void 0:t.message)}})()}getOriginalUserAssets(t){var e=this;return(0,i._)(function*(){var{count:r,orderBy:i,order:n,workspaceId:o,parentId:a,assetTypes:c,isCrossFolder:u,offset:l,entryIds:h}=t.config;try{var{assets:f,has_more:_}=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.GET_ASSET_QUERY}),data:{count:r,asset_types:c,parent_id:a,is_cross_folder:u,order_by:i,order:n,offset:l,workspace_id:o,entry_ids:h},withCredentials:!0});return(0,s.oW)((0,y.ib)(t.config,f,{hasMore:_,offset:l+r}))}catch(t){return(0,s.wf)(-1,null==t?void 0:t.message)}})()}getMaterialsByIds(t){var e=this;return(0,i._)(function*(){var r,i,n=e._splitArray(t.assetIds,100);try{var o=(yield Promise.all(n.map(r=>e._networkClient.request({withCredentials:!0,method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.GET_MATERIALS_BY_IDS}),data:{workspace_id:t.workspaceId,space_id:t.spaceId,asset_ids:r}})))).reduce((t,e)=>t.concat(e.assets.map(T.M)),[]);if(t.assetIds.length>o.length)return(0,s.wf)(-1,"not found all assets");return(0,s.oW)(o)}catch(t){return(0,s.wf)(Number(null!==(r=null==t?void 0:t.ret)&&void 0!==r?r:-1),null!==(i=null==t?void 0:t.errmsg)&&void 0!==i?i:null==t?void 0:t.message)}})()}tryGetMaterialsByIds(t){var e=this;return(0,i._)(function*(){var r,i,n=e._splitArray(t.assetIds,100);try{var o=(yield Promise.all(n.map(r=>e._networkClient.request({withCredentials:!0,method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.GET_MATERIALS_BY_IDS}),data:{workspace_id:t.workspaceId,space_id:t.spaceId,asset_ids:r}})))).reduce((t,e)=>t.concat(e.assets.map(T.M)),[]);return(0,s.oW)(o)}catch(t){return(0,s.wf)(Number(null!==(r=null==t?void 0:t.ret)&&void 0!==r?r:-1),null!==(i=null==t?void 0:t.errmsg)&&void 0!==i?i:null==t?void 0:t.message)}})()}copyMaterialToWorkspace(t){return this.copyAsset((0,o._)((0,n._)({},t),{assetType:f.pS.Material}))}copyAsset(t){var e=this;return(0,i._)(function*(){var r,{fromWorkspaceId:n,toWorkspaceId:o,meta:a,assetId:u,folderId:l,assetType:h}=t;try{var f,_=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.COPY_ASSET}),data:{from_workspace_id:n,to_workspace_id:o,meta:a,asset_id:u,folder_id:l,asset_type:h},withCredentials:!0}),p=0;var v=(f=(0,i._)(function*(){var t=yield e._checkAsyncTaskProcess({workspace_id:o,process_id:_.process_id});if(!t.ok)return++p>10?(0,s.wf)(-2,"process task fetch failure"):(yield(0,c.D)(500),v());return t.value.isProcess?(p=0,yield(0,c.D)(500),v()):t.value.isSuccess?t:(0,s.wf)(-3,"server copy asset task failure")}),function(){return f.apply(this,arguments)});return yield v()}catch(t){return(0,s.wf)((null==t?void 0:t.ret)?Number(null==t?void 0:t.ret):-1,null!==(r=null==t?void 0:t.errmsg)&&void 0!==r?r:null==t?void 0:t.message)}})()}deleteMaterials(t){var e=this;return(0,i._)(function*(){var{workspaceId:r,assetIds:i}=t;try{return yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.DELETE_MATERIALS}),data:{workspace_id:r,asset_ids:i},withCredentials:!0}),(0,s.ly)()}catch(t){return(0,s.Mx)(Number(t.ret)||-1,(null==t?void 0:t.errmsg)||t.message,t)}})()}renameAsset(t){var e=this;return(0,i._)(function*(){var{workspaceId:r,assetId:i,name:n}=t;try{return yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.RENAME_ASSET}),data:{workspace_id:r,asset_id:i,asset_name:n},withCredentials:!0}),(0,s.ly)()}catch(t){return(0,s.Mx)(Number(t.ret)||-1,(null==t?void 0:t.errmsg)||t.message,t)}})()}createAsset(t){var e=this;return(0,i._)(function*(){var{name:r,assetType:i,parentId:n,workspaceId:o,enableOverDeep:a}=t;try{var c=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.CREATE_ASSET}),data:{name:r,asset_type:i,parent_id:n,workspace_id:o,enable_over_deep:a},withCredentials:!0});return(0,s.oW)((0,h.y)(c))}catch(t){if(t.ret===String(w.Zj.HitSensitiveWord))return(0,s.wf)(w.Zj.HitSensitiveWord,t.errmsg);if(t.ret===String(w.Zj.DirectoryExceedMaxDepth))return(0,s.wf)(w.Zj.DirectoryExceedMaxDepth,t.errmsg);if(t.ret===String(w.Zj.FolderNotExist))return(0,s.wf)(w.Zj.FolderNotExist,t.errmsg);return(0,s.wf)(-1,null==t?void 0:t.message)}})()}labelAssetsAsExported(t){var e=this;return(0,i._)(function*(){try{var r,i,n=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.LABEL_AS_EXPORTED}),data:(0,g.X)(t),withCredentials:!0});if("0"!==n.ret)return(0,s.wf)(Number(n.ret),n.errmsg);return(0,s.ly)()}catch(t){return(0,s.wf)(Number(null!==(r=null==t?void 0:t.ret)&&void 0!==r?r:-1),null!==(i=null==t?void 0:t.errmsg)&&void 0!==i?i:null==t?void 0:t.message)}})()}promoteAsset(t){var e=this;return(0,i._)(function*(){try{var r,i,n=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.PROMOTE_ASSET}),data:(0,g.X)(t),withCredentials:!0});if("0"!==n.ret)return(0,s.wf)(Number(n.ret),n.errmsg);return(0,s.ly)()}catch(t){return(0,s.wf)(Number(null!==(r=null==t?void 0:t.ret)&&void 0!==r?r:-1),null!==(i=null==t?void 0:t.errmsg)&&void 0!==i?i:null==t?void 0:t.message)}})()}_checkAsyncTaskProcess(t){var e=this;return(0,i._)(function*(){try{var r=yield e._networkClient.request({method:"POST",url:e._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:m.b.QUERY_PROCESS}),data:t,withCredentials:!0});switch(r.status){case w.tQ.Initial:case w.tQ.Process:return(0,s.oW)({isProcess:!0,isSuccess:!1});case w.tQ.CleanUp:case w.tQ.Failure:return(0,s.oW)({isProcess:!1,isSuccess:!1});case w.tQ.Success:return(0,s.oW)({isProcess:!1,isSuccess:!0,newId:r.new_id_str});default:(0,u.bP)(r.status)}}catch(t){return(0,s.wf)(-1,null==t?void 0:t.message)}})()}_splitArray(t,e){for(var r=[],i=0;i<t.length;i+=e)r.push(t.slice(i,i+e));return r}constructor(t){this._httpApiSettingService=t}}R=(0,a.gn)([(0,a.fM)(0,d.x),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===d.x?Object:d.x])],R)},396200:function(t,e,r){"use strict";r.d(e,{_:function(){return n},l:function(){return i}});var i={getBrandResourcesByResourceTypes:"/cc/v1/workspace/web/get_brand_list",getAllBrandResources:"/cc/v1/workspace/get_all_brand_list",createBrandResource:"/cc/v1/workspace/upload_brand_resource",updateBrandResource:"/cc/v1/workspace/update_brand_resource",deleteBrandResource:"/cc/v1/workspace/delete_brand_resource"},n="99.99.99"},475407:function(t,e,r){"use strict";r.d(e,{F:function(){return y}});var i=r(789786),n=r(917598),o=r(969015),a=r(474956),s=r(649337),c=r(755020),u=r(831210),l=r(490165),d=r(835993),h=r(918046),f=r(442452),_=r(557343),p=r(503006),v=r(627176);class y extends u.L{get resourceType(){return a._g.Font}get resourcePanelType(){return c.q.DreaminaFont}parseHeycanResponseDataToResources(t){return(0,h.es)(t)}buildCustomRequest(t){var e;return{panel_source:n.M8.Loki,app_id:null!==(e=t.appID)&&void 0!==e?e:n.br,loki_opt:{loki_biz_id:n.uy.CN}}}constructor(t,e,r,i,n,o,a,s){super(t,e,r,i,n,o,a,s)}}y=(0,i.gn)([(0,i.fM)(0,l.D),(0,i.fM)(1,d.c),(0,i.fM)(2,s.c),(0,i.fM)(3,o.Ui),(0,i.fM)(4,f.x),(0,i.fM)(5,_.L),(0,i.fM)(6,p.U),(0,i.fM)(7,v.a),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===l.D?Object:l.D,void 0===d.c?Object:d.c,void 0===s.c?Object:s.c,void 0===o.Ui?Object:o.Ui,void 0===f.x?Object:f.x,void 0===_.L?Object:_.L,void 0===p.U?Object:p.U,void 0===v.a?Object:v.a])],y)},971055:function(t,e,r){"use strict";r.d(e,{z:function(){return l}});var i=r(876826),n=r(789786),o=r(267728),a=r(689739),s=r(933787),c=r(953622),u=r(712942);class l{getUploadToken(t){var e=this;return(0,i._)(function*(){return yield e._networkClient.post(e._getUrl(),{scene:t},{[o.$R]:!1})})()}_getUrl(){return"".concat((0,u.H4)()).concat(s.e.GET_IMAGEX_TOKEN.url)}constructor(){this._networkClient=(0,c.G)()}}(0,n.gn)([(0,a.K)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IDreaminaUploadTokenScene?Object:IDreaminaUploadTokenScene]),(0,n.w6)("design:returntype",Promise)],l.prototype,"getUploadToken",null)},293659:function(t,e,r){"use strict";r.d(e,{H:function(){return T}});var i=r(876826),n=r(85728),o=r(929753),a=r(789786),s=r(836413),c=r(346526),u=r(643590),l=r(904337),d=r(416105),h=r(453604),f=r(875649),_=r(820266),p=r(804274),v=r(927457),y=r(660149),g=r(442452),m=r(490165),w=r(879976);class T{get _networkClient(){if(!this._networkClientInstance){var t;this._networkClientInstance=(t=new u.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0}),(0,w.V)(t),(0,l.$)(t),(0,d.mH)(t),(0,h.d)(t),(0,f.i3)(t),(0,c.V)(t),t)}return this._networkClientInstance}_getApi(t){return this._httpApiSettingService.getRequestURL({domainType:g.Y.DEFAULT,path:t})}entitySeg(t,e){var r=this;return(0,i._)(function*(){try{var i=(0,_.X)(t),a=yield r._networkClient.post(r._getApi(y.b.ENTITY_SEG),(0,n._)({},i),{params:(0,o._)((0,n._)({},e),{needCache:!0,needRefresh:!1})});if("0"!==a.ret)return(0,s.wf)(Number(a.ret),a.errmsg);var c=(0,_.b)(a.data,p.zW);return(0,s.oW)(c)}catch(t){return(0,v.m)(t,-1,"entity segment task fail")}})()}entityClass(t,e){var r=this;return(0,i._)(function*(){try{var i=(0,_.X)(t),o=yield r._networkClient.post(r._getApi(y.b.ENTITY_CLASS),(0,n._)({},i),{params:e});if("0"!==o.ret)return(0,s.wf)(Number(o.ret),o.errmsg);var a=(0,_.b)(o.data,p.zW);return(0,s.oW)(a)}catch(t){return(0,v.m)(t,-1,"entity segment task fail")}})()}constructor(t,e){this._httpApiSettingService=t,this._accountService=e}}T=(0,a.gn)([(0,a.fM)(0,g.x),(0,a.fM)(1,m.D),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===g.x?Object:g.x,void 0===m.D?Object:m.D])],T)},689842:function(t,e,r){"use strict";r.d(e,{o:function(){return s}});var i=r(789786),n=r(719800),o=r(874800),a=r(87021);class s extends o.JT{batchGetPhotos(t){return this._batchGetPhotoRepository.batchGetResources(t)}constructor(t){super(),this._instantiationService=t,this._batchGetPhotoRepository=this._instantiationService.createInstance(a.f)}}s=(0,i.gn)([(0,i.fM)(0,n.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===n.T?Object:n.T])],s)},3734:function(t,e,r){"use strict";r.d(e,{VK:function(){return m},lr:function(){return T}});var i,n,o,a,s,c=r(218571),u=r(734781),l=r(601135);function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var h="application/x-www-form-urlencoded";function f(t){return null!=t&&"string"==typeof t.tagName}function _(t){return void 0===t&&(t=""),new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{var i=t[r];return e.concat(Array.isArray(i)?i.map(t=>[r,t]):[[r,i]])},[]))}var p=null,v=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function y(t){return null==t||v.has(t)?t:null}var g=(o||(o=r.t(c,2))).startTransition;function m(t){var{basename:e,children:r,future:i,window:n}=t,o=c.useRef();null==o.current&&(o.current=(0,l.lX)({window:n,v5Compat:!0}));var a=o.current,[s,d]=c.useState({action:a.action,location:a.location}),{v7_startTransition:h}=i||{},f=c.useCallback(t=>{h&&g?g(()=>d(t)):d(t)},[d,h]);return c.useLayoutEffect(()=>a.listen(f),[a,f]),c.createElement(u.F0,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:a})}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;function w(t){var e=React.useContext(UNSAFE_DataRouterContext);return e||UNSAFE_invariant(!1),e}(i=a||(a={})).UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState",(n=s||(s={})).UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration";function T(t){var e=c.useRef(_(t)),r=c.useRef(!1),i=(0,u.TH)(),n=c.useMemo(()=>{var t,n,o;return t=i.search,n=r.current?null:e.current,o=_(t),n&&n.forEach((t,e)=>{!o.has(e)&&n.getAll(e).forEach(t=>{o.append(e,t)})}),o},[i.search]),o=(0,u.s0)(),a=c.useCallback((t,e)=>{var i=_("function"==typeof t?t(n):t);r.current=!0,o("?"+i,e)},[o,n]);return[n,a]}var R=0,C=()=>"__"+String(++R)+"__"},958702:function(t,e,r){"use strict";function i(t,e){if(!("string"==typeof t&&"string"==typeof e))throw TypeError("Expected the arguments to be of type `string`");if(""===t||""===e)return[];let r=t.indexOf(e);return -1===r?[]:[t.slice(0,r),t.slice(r+e.length)]}r.d(e,{Z:function(){return i}})}}]);