"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["4651"],{338665:function(e,t){t.Z={promptWithImgWrapperHeight:"24px",promptWithImgWrapperWidth:"123px",promptSeedIconSize:"12px",videoPromptPaddingVertical:"12px",videoControlsHeight:"32px",videoPaddingTop:"20px",videoMarginBottom:"28px",generateListPadding:"24px",generateListDateWidth:"46px",videoContainerPaddingRight:"86px",feedCarouselHeight:"220px",videoFeedHeaderHeight:"45px",generatePanelMarginLeft:"16px",masonryGap:"8px",generationEntryHeight:"172px",generationEntryMarginBottom:"16px",videoMenuItemWidth:"184px",videoMenuWidth:"160px",exploreFeedTabHeight:"32px",exploreFeedTabPaddingBottom:"20px",headerHeight:"76px",exploreFeedCategoryHeight:"32px",exploreFeedCategoryPaddingBottom:"16px",videoMoreWidth:"16px",generateListPaddingTop:"4px",videoFailPaddingH:"12px",videoFailPaddingV:"8px",videoFailIconMargin:"8px",videoFailIconSize:"16px",personalMarginTop:"100px",personalProfileHeight:"250px",personalProfileWidthLarge:"360px",personalProfileWidthSmall:"320px",personalProfileWidthBreakPoint:"1536px",personalScrollHeaderGap:"24px",storyEditorPadding:"8px",storyExSmallScreenWidth:"1146px",storySmallScreenWidth:"1280px",storyMiddleScreenWidth:"1280px",storyLargeScreenWidth:"1280px",storyExLargeScreenWidth:"1536px",storySmallPromptWidth:"240px",storyMiddlePromptWidth:"280px",storyLargePromptWidth:"320px",pageIconColor:"#8f9ca5",videoRelaxProcessingHeight:"68px",timelineLargeGap:"16px",timelineThumbnailHeightTime:"125px",timelineScrollWidth:"6px",timelineInsertSegmentBtnWidth:"16px",characterGenerateModalPanelWidth:"280px",characterGenerateModalHeaderHeight:"48px",largestScreenWidth:"1920px",largeContainerWidth:"1650px",smallScreenWidth:"1024px",scrollBarWidth:"2px","largeScreenGenerate-Width":"1398px",largeScreenGenerateWidth:"1398px",middleScreenGenerateWidth:"1366px",smallestScreenGenerateWidth:"1024px",generateVideoCardMaxWidth:"526px",generateVideoCardMinWidth:"383px",generateCardMarginLeft:"12px",generateCardSideBarWidth:"24px",generateCardHoverButtonSize:"28px",generateCardBgmButtonWidth:"68px",storyboardContainerPadding:"16px",storyboardGap:"4px",generateContainerAnimationDuration:".5s",videoPromptTabHeight:"36px",videoPromptTabMarginBottom:"8px",agentChatMinHeight:"132px",promptTabHeight:"44px",inputGroup:"inputGroup-lAlgmi",minInputGroupToInteract:"minInputGroupToInteract-PSXJzQ",searchBtnContainer:"searchBtnContainer-kPRy2j",searchText:"searchText-efFGV5",disabled:"disabled-eS97pU",miniSearch:"miniSearch-cTLI1m",miniSearchText:"miniSearchText-SrgBrZ",miniSearchIcon:"miniSearchIcon-i17DwY",rotating:"rotating-qho7zK"}},407294:function(e,t,r){r.d(t,{l:function(){return d}});var i=r(178589),n=r(417699),a=r(70137),o=r(747086),s=r(77922),u=r(490165);class c{get environmentService(){return this._containerService.invokeFunction(e=>e.get(n.e))}get accountService(){return this._containerService.invokeFunction(e=>e.get(u.D))}get platformUiConfigurationService(){return this._containerService.invokeFunction(e=>e.get(i.e))}get commercialCreditService(){return this._containerService.invokeFunction(e=>e.get(a.aG))}get tccService(){return this._containerService.invokeFunction(e=>e.get(o.b))}get resourceService(){return this._containerService.invokeFunction(e=>e.get(s.c))}get __dreaminaUid(){return this._containerService.invokeFunction(e=>e.get(u.D).userProfile.uid)}constructor(e){this._containerService=e}}function d(e){window.__debugger=new c(e)}},803792:function(e,t,r){r.d(t,{l:function(){return c}});var i=r(786377),n=r(626173),a=r(144690),o=r(373722),s=e=>e.toLocaleLowerCase()==="es-LA".toLocaleLowerCase()?"es-ES":e,u="capcut_locale";function c(e){try{var t=[98,121,116,101,100,97,110,99,101].map(function(e){return String.fromCharCode(e)}).join(""),r="https://edit-api-sg.capcut.com";window.__locationInfo?r=window.__locationInfo.domain.web_domain:/^\S+?\.bytedance\.net$/.test(window.location.host)&&(r="https://capcut-web-sg.".concat(t,".net"));var c=new URL("".concat(r,"/lv/v1/event/report")),d=e.getHeader();if(!d.web_id)throw Error("no web_id");c.searchParams.append("is_pwa",d.is_pwa),c.searchParams.append("pwa_from",d.pwa_from),c.searchParams.append("open_from_pwa",d.open_from_pwa),c.searchParams.append("web_id",d.web_id),c.searchParams.append("event_name","user_page_view"),c.searchParams.append("os_name",d.os_name),c.searchParams.append("app_version",d.app_version),c.searchParams.append("is_first_visit_page",d.is_first_visit_page),c.searchParams.append("is_session_start_page",d.is_session_start_page),c.searchParams.append("browser",d.browser),c.searchParams.append("referrer",d.referrer),d.branch&&c.searchParams.append("branch",d.branch),i.Z.get(u)&&c.searchParams.append(u,s(i.Z.get(u)));var{channel:l}=e.getParams(),_=(0,n.Z)(l,["session_start_url","channel_from"]);!(0,a.Z)(_)&&c.searchParams.append("custom",JSON.stringify(_)),c.searchParams.append("seo_info",JSON.stringify((0,o.Z)(l,["session_start_url","channel_from"]))),fetch(c.toString(),{referrerPolicy:"unsafe-url",credentials:"include"})}catch(e){window.ccWebSlardar&&window.ccWebSlardar("captureException",e,{script:"pv-report"})}}},614690:function(e,t,r){r.d(t,{I:function(){return n}});var i=r(786377);class n{static getString(e){return i.Z.get(e)}static setString(e,t,r){i.Z.set(e,t,{expires:r?new Date(r):void 0})}static getJson(e){var t=i.Z.get(e),r=null;if(!t)return null;try{r=JSON.parse(t)}catch(e){console.error("CookiesTool JSON parse Error:",e)}return r}static removeItem(e){i.Z.remove(e)}}},166463:function(e,t,r){r.d(t,{m7:function(){return I}});var i,n,a=r(876826),o=r(85728),s=r(929753),u=r(529227),c=r(495044),d=r(226690),l=r(344752),_=r(136419),p=r(666324),h=r(165046);r(558980);var v=r(421626),g=r(614690),m=r(463904),f=r(856024),y=r(702251),b=r(518063),{wasm_url:w}=r(947352),S=new Map;u.iH.setDependencies({apiFunc:{getEverPhotoToken:(i=(0,a._)(function*(e){var t,r,i,n,a,o=Date.now(),s=new b.v;try{var c,d,l=yield m.p.getWorkspaceEverPhotoToken();return s.addParams({code:"0",msg:"success",costTime:Date.now()-o,lastReqTime:S.has(e)?Date.now()-S.get(e):void 0,spaceId:e}),S.set(e,Date.now()),null===u.iH||void 0===u.iH||null===(d=u.iH.TeaReporter)||void 0===d||null===(c=d.event)||void 0===c||c.call(d,s.event,s.data),l}catch(c){throw s.addParams({code:null==c?void 0:null===(t=c.data)||void 0===t?void 0:t.ret,msg:null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.errmsg,costTime:Date.now()-o,lastReqTime:S.has(e)?Date.now()-S.get(e):void 0,spaceId:e,logId:null==c?void 0:null===(i=c.data)||void 0===i?void 0:i.log_id}),S.set(e,Date.now()),null===u.iH||void 0===u.iH||null===(a=u.iH.TeaReporter)||void 0===a||null===(n=a.event)||void 0===n||n.call(a,s.event,s.data),c}}),function(e){return i.apply(this,arguments)}),getVideoTaskInfo:f.q.getVideoTaskInfo,createVideoData:f.q.createVideoData,getEverPhotoUserSpace:m.p.getEverPhotoUserSpace,promoteAsset:m.p.promoteAsset,createAsset:m.p.createAsset,prepareUpload:m.p.prepareUpload},getUploader:(e,t)=>{var r,i,n="video"===t?d.Q:l.$;if(e.isBoe)r="https://vas-".concat("b","oei18n.").concat("b","y").concat("t","edance.ne").concat("t"),i="boei18n";else switch(e.newIdc){case"useast2a":i="gcp";break;case"sg1":i="sg";break;case"hl":case"lf":case"lq":i="cn";break;default:i="us"}return new _.Q(new n((0,o._)({userId:e.uniqueId,region:i,videoHost:e.videoHost?e.videoHost:r,imageHost:e.videoHost?e.videoHost:r,spaceName:e.vodSpaceName,_getToken:f.q.getUploadToken},e.videoUploader,e.imgUploader)))},getSignUploader:e=>{var{workspaceId:t,userId:r}=e,i=new p.A({workspaceId:t,userId:r});return new h.d(i)},getFileCopyName:v.Gs,overwriteSDKInitOptions:(n=(0,a._)(function*(e){var t=!e.is_boe&&!(null===(i=e.netconf)||void 0===i?void 0:i.base),r=null===(d=window.__locationInfo)||void 0===d?void 0:null===(a=d.domain)||void 0===a?void 0:null===(n=a.web_domain)||void 0===n?void 0:n.includes("https://edit-api-va.capcut.com");if(t){var i,n,a,d,l,_,p={gcp:{base:"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:r?{base:"everphoto-va.capcut.com",media:"everphoto-media-va.capcut.com",is_https:!0}:{base:"vagroup-evercloud-mya.capcutapi.com",media:"media-vagroup-evercloud-mya.capcutapi.com",is_https:!0}};switch(e.dc_name){case u._s.GCP:_=p.gcp;break;case u._s.VA:_=p.va;break;default:throw Error("not found dc_name, please check")}e.netconf=_}var h=g.I.getJson(c.g.COOKIE_CONSENT_PROMPT_CONFIG);if(!e.is_boe&&(null==h||null===(l=h.settings)||void 0===l||l.firstPartyAnalytics,1)){var v=(e,t)=>{var r=u.iH.TeaReporter;return new Promise(i=>{r.getVar(e,t,e=>{i(e)})})},m=yield v("evpt_conf_params_v3",{is_xml:!1,chunk_size:5}),f=yield v("evpt_conf_params_v5",{is_part_upload:!1,chunk_size:20,timeout:300,max_count_of_concurrent_upload:5,downgrade_if_bad_network:!1});if((null==m?void 0:m.is_xml)?(e.backup_conf={chunk_size:m.chunk_size,is_xhr:!0},e.timeout=(0,s._)((0,o._)({},e.timeout),{upload:180})):e.backup_conf={is_xhr:!1},t){var y=yield v("evpt_conf_params_v4",{is_new_domain:!1});if(null==y?void 0:y.is_new_domian){var b,w={gcp:{base:(null==y?void 0:y.gcp)||"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:{base:(null==y?void 0:y.va)||"vagroup-evercloud-mya.capcutapi.com",media:"media-vagroup-evercloud-mya.capcutapi.com",is_https:!0}};switch(e.dc_name){case u._s.GCP:b=w.gcp;break;case u._s.VA:b=w.va;break;default:throw Error("not found dc_name, please check")}e.netconf=b}}(null==f?void 0:f.is_part_upload)&&(e.backup_conf={max_count_of_concurrent_upload:f.max_count_of_concurrent_upload,chunk_size:f.chunk_size,is_part_upload:!0},e.timeout=(0,s._)((0,o._)({},e.timeout),{upload:f.timeout})),e.backup_conf=(0,s._)((0,o._)({},e.backup_conf),{downgrade_if_bad_network:!!(null==f?void 0:f.downgrade_if_bad_network)})}if(e.netconf)for(var[S,I]of Object.entries({"sdksg32-normal.evercloud.capcutapi.com":"sg.evercloud.capcut.com","sdksggcp32-normal.evercloud.capcutapi.com":"sg-gcp.evercloud.capcut.com","sdkva32-normal.evercloud.capcutapi.com":"vagroup-evercloud-mya.capcutapi.com"}))e.netconf.base===S&&(e.netconf.base=I);return e.timeout=(0,s._)((0,o._)({},e.timeout),{upload:300}),e.backup_conf=(0,s._)((0,o._)({},e.backup_conf),{is_part_upload:!0}),e}),function(e){return n.apply(this,arguments)}),constant:{sourceFrom:5,aid:"324442"}});var I=new Proxy(u.iH,{get:(e,t,r)=>{switch(t){case"setOptions":return new Proxy(Reflect.get(e,t,r),{apply:(e,t,r)=>(!I.hasSetOptions&&y.ZP.updateRequestDomain({domain:r[0].reqDomain}),Reflect.apply(e,t,r))});case"setNoSignOptions":return new Proxy(Reflect.get(e,t,r),{apply:(e,t,r)=>(!I.hasSetNoSignOptions&&(y.ZP.updateRequestDomain({domain:r[0].reqDomain}),f.q.fixRequestDomain()),Reflect.apply(e,t,r))});default:return Reflect.get(e,t,r)}}})},210970:function(e,t,r){r.d(t,{q:function(){return s}});var i=r(876826),n=r(82615),a=r(584072),o={appId:"app_id",appVersion:"app_version",userId:"user_id",hasLogin:"user_is_login",stagingFlag:"_staging_flag",enableTTWid:"enable_ttwebid",userType:"user_type"};class s{setConfig(e){var t=this._transformToTeaConfig(e);this._sdk.config(t),(void 0!==t.user_unique_id||void 0!==t.user_id)&&(this._abReady=!1)}getTeaConfig(){return this._sdk.getConfig()}reportPv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{forceReport:r}=t||{};if(!this._canReport()){this._needReportPv=e;return}if(r){this._sdk.predefinePageView(e);return}if(!!this._canReportPv)this._canReportPv=!1,this._needReportPv=void 0,this._sdk.predefinePageView(e)}disableReportPv(){this._canReportPv=!1}setCustomParams(e){Object.assign(this._customParams,e),this._sdk.config({custom:this._customParams})}getCustomParams(){return this._customParams}setCommonEventParams(e){Object.assign(this._evtParams,e),this._sdk.config({evtParams:this._evtParams})}getCommonEventParams(){return this._evtParams}track(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!!this._canReport())r?this._reportBecon(e,t):this._report(e,t)}ensureTrack(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._canReport()){this._pendingEventQueue.push({event:e,params:t,immediately:r});return}r?this._reportBecon(e,t):this._report(e,t)}getABConfig(){var e=this;return(0,i._)(function*(){yield e._abMutex.lock();try{return yield e._getABConfig()}finally{e._abMutex.unLock()}})()}getABTestVar(e,t){var r=this;return(0,i._)(function*(){return yield r._checkAbReady(),new Promise(i=>{if(r._canReport())return r._sdk.getVar(e,t,i);i(t)})})()}getWebId(){var e=this;return(0,i._)(function*(){if(e._webId)return e._webId;if(yield e._webIdMutexLock.lockShared(),e._webId)return e._webId;var t=yield new Promise(t=>{e._sdk.getToken(t,3e3)});return e._webIdMutexLock.unLockShared(),e._webId=t.web_id,e.setCustomParams({web_id:e._webId}),e._webId})()}_getABConfig(){return new Promise(e=>{this._sdk.getABConfig?this._sdk.getABConfig({},e):this._sdk.getABconfig({},e)})}_flush(){for(var e of(this._needReportPv&&this.reportPv(this._needReportPv),this._pendingEventQueue))e.immediately?this._reportBecon(e.event,e.params):this._report(e.event,e.params)}_transformToTeaConfig(e){var t={};return Object.entries(e).forEach(e=>{var[r,i]=e;t[o[r]?o[r]:r]=i}),e.userId?t.user_unique_id=e.userId:""===e.userId&&(t.user_unique_id=void 0),t}_report(e,t){this._sdk.event(e,t)}_reportBecon(e,t){this._sdk.beconEvent(e,t)}_checkAbReady(){var e=this;return(0,i._)(function*(){yield e._abMutex.lock();try{if(e._abReady)return;yield(0,a.Hp)(()=>e._getABConfig(),3e3),e._abReady=!0}finally{e._abMutex.unLock()}})()}constructor(){this._customParams={},this._evtParams={},this._abReady=!1,this._abMutex=new n.L,this._canReportPv=!0,this._pendingEventQueue=[],this._webId="",this._webIdMutexLock=new n.L}}},990943:function(e,t,r){r.d(t,{s:function(){return o}});var i=r(843698),n=r(839141),a=r(260963);class o{get currentAutoRenewPlan(){var e;return null===(e=this.vipInfo)||void 0===e?void 0:e.currentAutoRenewPlan}get vipInfo(){return this._observableData.vipInfo}get currentVipLevel(){var e,t;return null!==(t=null===(e=this._observableData.vipInfo)||void 0===e?void 0:e.curVipLevel)&&void 0!==t?t:this.isVip?n.d.Standard:n.d.None}get isVip(){return this._observableData.isVip&&!this.isVipExpired}get isVipReady(){return this._observableData.isReady}get isVipExpired(){var e,t,r,i,n=null!==(i=null!==(r=null===(e=this.vipInfo)||void 0===e?void 0:e.vipRealEnd)&&void 0!==r?r:null===(t=this.vipInfo)||void 0===t?void 0:t.endTime)&&void 0!==i?i:0;return n>0&&Date.now()>=1e3*n}setVipInfo(e){if(!!e){(0,a.z)(()=>{this._observableData.vipInfo=e,this._observableData.isReady=!0});var t=!!e.flag;this._updateIsVip(t),this._onVipInfoChange.fire(e)}}_updateIsVip(e){e!==this._observableData.isVip&&((0,a.z)(()=>{this._observableData.isVip=e}),this._onIsVipChange.fire(e))}constructor(){this._onVipInfoChange=new i.Q,this.onVipInfoChange=this._onVipInfoChange.event,this._onIsVipChange=new i.Q,this.onIsVipChange=this._onIsVipChange.event,this._observableData=(0,a.LO)({vipInfo:void 0,isVip:!1,isReady:!1})}}},42197:function(e,t,r){r.d(t,{h:function(){return _}});var i=r(772322);r(109163);var n=r(372675),a=r(218571),o=r(105789),s=r.n(o),u=r(150615),c=r(487437),d=r(4046),l=e=>{var{text:t,description:r,isActive:o,externalStyle:l,onOptionClick:_}=e,p=(0,a.useRef)(null),[h,v]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{var e,t;v((null!==(t=null===(e=p.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)>21)},[p]),(0,i.jsxs)("div",{className:s()(d.Z.question2Option,{[d.Z.active]:o}),style:l,onClick:_,children:[(0,i.jsxs)("div",{className:d.Z.textWrap,children:[(0,i.jsx)("div",{className:d.Z.optionText,children:u.ZP.t(t)}),(0,i.jsx)("div",{ref:p,className:s()(d.Z.optionText,d.Z.hideOptionText),children:u.ZP.t(t)})]}),(0,i.jsx)(n.Z,{content:u.ZP.t(r),checkOverflow:c.ob,children:(0,i.jsx)("div",{className:d.Z.optionDescription,style:{WebkitLineClamp:h?1:2},children:u.ZP.t(r)})})]},t)};function _(e){var t,[r,n]=(0,a.useState)(null!==(t=e.value)&&void 0!==t?t:[]),o={height:e.options.map(e=>u.ZP.t(e.content).split("#")).some(e=>e.length>1)?"84px":"72px"},s=t=>{var i=r.findIndex(e=>e.key===t.key);i>-1?n(t=>{var r,n=[...t];return n.splice(i,1),null===(r=e.onChange)||void 0===r||r.call(e,n),n}):n(r=>{var i,n=[...r,t];return null===(i=e.onChange)||void 0===i||i.call(e,n),n})};return(0,i.jsxs)("div",{className:d.Z.optionContainer,children:[(0,i.jsx)("div",{className:d.Z.multiSelectTip,children:u.ZP.t("quest_selectallcontent",{},"Select all that apply")}),(0,i.jsx)("div",{className:d.Z.optionWrap,children:e.options.map((t,n)=>{var[a,c]=u.ZP.t(t.content).split("#");return(0,i.jsx)(l,{text:a,description:c,isActive:r.some(e=>e.key===t.key),externalStyle:o,onOptionClick:()=>s(e.options[n])},a)})})]})}},331162:function(e,t,r){r.d(t,{p:function(){return o}});var i=r(590839),n=r(259273),a=r(642273),o={[i.a.PageRoute]:[{id:n.Sj.HistoryDetail,path:a.EZ[n.Sj.HistoryDetail],skeleton:()=>null}]}},140972:function(e,t,r){r.d(t,{U:function(){return a}});var i=r(379311);class n{getEventParams(){var{key:e,code:t,msg:r}=this._params;return{key:e,code:t,msg:r}}constructor(e){this._params=e,this.eventName="perf_feed_error"}}function a(e,t){(0,i.US)(e,n,[t])}},474182:function(e,t,r){r.d(t,{D8:function(){return y},Iz:function(){return b},dx:function(){return m},zj:function(){return f}});var i=r(85728),n=r(929753),a=r(789786),o=r(379311),s=r(417281),u=r(434712),c=r(243302),d=r(100470),l=r(474297),_=r(475578),p=r(76931),h=r(507801);function v(e){var t,{imagePromptList:r=[]}=null!==(t=e.blendImageParams)&&void 0!==t?t:{};return{templateStyleCode:r.reduce((e,t)=>{if(t.name===s.UI.StyleCode){var r;return e.concat(null!==(r=t.commonAsset.assetCode)&&void 0!==r?r:"")}return e},[]).filter(Boolean)}}class g{getEventParams(){var e,t;return(0,i._)((0,n._)((0,i._)({},this._params),{template_from:(0,p.lg)(this._params.template_id,this._params.type),template_type_id:(0,p.pm)(this._params.template_id,this._params.type),impression_id:null!==(t=this._params.impression_id)&&void 0!==t?t:(0,p.ww)((null!==(e=this._params.template_id)&&void 0!==e?e:"").split(",").shift())}),(0,p.Oj)(this._containerService))}constructor(e,t){this._params=e,this._containerService=t,this.eventName="publish_status"}}function m(e,t){(0,o.Kl)(e,g,[t])}function f(e){var t=function(e){var t,r,a=G.find(t=>t.commonAttr.id===e.itemId);if(!a)return"continue";var{commonAttr:o,aigcImageParams:s,clientTraceData:u}=a,{text2imageParams:d,requestId:p,firstGenerateType:v}=s||{},{modelConfig:g}=d||{},{generateId:m,model:f,prompt:y,promptSource:b,scale:H,steps:N,seed:W,generateCount:U,templateId:B,templateSource:q,usePe:Z}=(0,l.JD)((0,n._)((0,i._)({},d),{model:null!==(t=null==g?void 0:g.modelReqKey)&&void 0!==t?t:""}),s);w.push(o.id),S.push(p),I.push(m),T.push(f),P.push(y),D.push(b),C.push(H),R.push(N),k.push(W),A.push(U),E.push(B),x.push(q),M.push(_.eD.True),L.push(v===c.pi.Blend),O.push(Z?_.eD.True:_.eD.False),(null==u?void 0:u.impressionId)&&V.push(u.impressionId),F.push((0,h.$S)(a)),j.push(null!==(r=null==d?void 0:d.scheduleConf)&&void 0!==r?r:"")},{records:r,imageItems:a,resultCode:o,collectionId:s,channel:u,activity:p,activityId:g,title:m,description:f,authorType:y,publishStyleCode:b}=e,w=[],S=[],I=[],T=[],P=[],D=[],C=[],R=[],k=[],A=[],E=[],x=[],M=[],L=[],O=[],V=[],F=[],j=[],H=r.reduce((e,t)=>{var{templateStyleCode:r}=v(t);return e.concat(r)},[]),G=r.flatMap(e=>e.itemList);for(var N of null!=a?a:[])t(N);var W=o===d.b.ErrSuccess?_.T9.Success:_.T9.Fail,U=o?_.r$[o]:"";return{request_id:S.join(","),generate_id:I.join(","),content_id:w.join(","),is_super_resolution:M.join(","),model:T.join(","),prompt:P.join(","),prompt_source:D.join(","),scale:C.join(","),steps:R.join(","),seed:k.join(","),template_source:x.join(","),status:W,fail_reason:U,generate_cnt:A.join(","),template_id:E.join(","),picture_cnt:r.length,collection_id:s,is_reference:L.join(","),type:"composition",channel:u,activity_id:g,activity:p,title:m,description:f,author_type:y,use_pre_llm:O.join(","),impression_id:V.shift(),ab_tags:F.join(";"),schedule_conf:j.join(";"),template_style_code:H.join(","),publish_style_code:b}}function y(e){var t,r,a,o,s,u,p,{record:g,resultCode:m,channel:f,activity:y,activityId:b,title:w,description:S,authorType:I,itemId:T,publishStyleCode:P}=e,{commonAttr:D,aigcImageParams:C,clientTraceData:R}=g.itemList[0],{text2imageParams:k,requestId:A,firstGenerateType:E}=C||{},{modelConfig:x}=k||{},M=(0,h.$S)(g.itemList[0]),{templateStyleCode:L}=v(g),{generateId:O,model:V,prompt:F,promptSource:j,scale:H,steps:G,seed:N,generateCount:W,templateId:U,templateSource:B}=(0,l.JD)((0,n._)((0,i._)({},k),{model:null!==(p=null==x?void 0:x.modelReqKey)&&void 0!==p?p:""}),C),q=m===d.b.ErrSuccess?_.T9.Success:_.T9.Fail,Z=m?_.r$[m]:"";var Q=(t=g,r=T,null==(o=t.itemList.find(e=>e.commonAttr.id===r))?void 0:null===(a=o.aigcImageParams.text2imageParams)||void 0===a?void 0:a.usePe);return{request_id:A,generate_id:O,content_id:D.id,is_super_resolution:"true",model:V,prompt:F,prompt_source:j,scale:H,steps:null==G?void 0:null===(s=G.toString)||void 0===s?void 0:s.call(G),seed:null==N?void 0:null===(u=N.toString)||void 0===u?void 0:u.call(N),template_source:B,status:q,fail_reason:Z,generate_cnt:W,template_id:U,picture_cnt:1,is_reference:E===c.pi.Blend,type:"picture",channel:f,title:w,description:S,activity_id:b,activity:y,author_type:I,use_pre_llm:"".concat(Q?_.eD.True:_.eD.False),impression_id:null==R?void 0:R.impressionId,ab_tags:null!=M?M:"",schedule_conf:null==k?void 0:k.scheduleConf,template_style_code:L.join(","),publish_style_code:P}}function b(e){var{authorType:t,activityId:r,activity:i,resultCode:n,channel:a,title:o,description:s,draftId:u,isPublishTemplate:c}=e;return{content_id:u,template_source:"canvas",status:n===d.b.ErrSuccess?_.T9.Success:_.T9.Fail,fail_reason:n?_.r$[n]:"",type:"canvas",channel:a,title:o,description:s,activity_id:r,activity:i,author_type:t,is_publish_template:c?_.eD.True:_.eD.False}}g=(0,a.gn)([(0,a.fM)(1,u.t),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IPublishStatusParams?Object:IPublishStatusParams,void 0===u.t?Object:u.t])],g)},959709:function(e,t,r){r.d(t,{Q:function(){return a},x:function(){return o}});var i,n=r(971245);var a=((i={}).Stopped="stopped",i.Playing="playing",i.Paused="paused",i),o=(0,n.yh)("audio-play-service")},175120:function(e,t,r){r.d(t,{P:function(){return h}});var i=r(85728),n=r(929753),a=r(789786),o=r(260963),s=r(959709),u=r(42891),c=r(728622),d=r(434712),l=r(689717),_=r(369617),p=r(150615);class h{static get _defaultObservableData(){return{audioList:{audios:[]},currentAudioIndex:0,currentAudioInfo:null,currentLyricInfo:null,playState:s.Q.Stopped,progress:0,lyricsProgress:null,volume:.5,muted:!1,get hasNext(){return this.currentAudioIndex<this.audioList.audios.length-1},get hasPrevious(){return this.currentAudioIndex>0}}}get observableData(){return this._observableData}setAudioList(e){this._observableData.audioList=e}play(e){return(!this._audioPlayer||void 0!==e)&&this.preload(e),this._audioPlayer.play()}preload(){var e,t,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=this._observableData.audioList.audios[null!=a?a:0].url;this._observableData.progress=0,this._observableData.lyricsProgress=null,this._observableData.currentAudioIndex=null!=a?a:0,this._observableData.currentAudioInfo=(0,n._)((0,i._)({},this._observableData.audioList.audios[null!=a?a:0]),{duration:(null!==(r=this._durationMap.get(null!=c?c:""))&&void 0!==r?r:0)*1e3}),this._observableData.currentLyricInfo=null,this._audioPlayer&&(this._audioPlayer.dispose(),this._audioPlayer=null);var d=Date.now();this._audioPlayer=this._audioPlayerService.createAudioPlayer({url:c,volume:this.observableData.volume}),this._audioPlayer.setMuted(this.observableData.muted),this._observableData.volume=this._audioPlayer.volume,this._observableData.muted=this._audioPlayer.muted,this._audioPlayer.onLoadedMetaData(()=>{var e,t;this._durationMap.set(null!=c?c:"",null!==(t=null===(e=this._audioPlayer)||void 0===e?void 0:e.duration)&&void 0!==t?t:0),(0,o.z)(()=>{if(this._observableData.currentAudioInfo){var e;this._observableData.currentAudioInfo=(0,n._)((0,i._)({},this._observableData.currentAudioInfo),{duration:(null!==(e=this._durationMap.get(null!=c?c:""))&&void 0!==e?e:0)*1e3})}})}),this._audioPlayer.onError(e=>{var t,r;(0,l.N)(this._containerService,{status:"error",duration:Date.now()-d,audio_link:null!==(r=null===(t=this._audioPlayer)||void 0===t?void 0:t.url)&&void 0!==r?r:"",error_code:String(e.code),err_msg:e.message}),_.s.error(p.ZP.t("competition_general_error_network",{},"\u670D\u52A1\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5")),this.reset()});var h=!1;this._audioPlayer.onPlay(()=>{if(!h){var e,t;h=!0,(0,l.N)(this._containerService,{status:"success",duration:Date.now()-d,audio_link:null!==(t=null===(e=this._audioPlayer)||void 0===e?void 0:e.url)&&void 0!==t?t:""})}(0,o.z)(()=>{this._observableData.playState=s.Q.Playing})}),this._audioPlayer.onPause(()=>{(0,o.z)(()=>{this._observableData.playState=s.Q.Paused})}),this._audioPlayer.onTimeUpdate(()=>{(0,o.z)(()=>{var e,t;this._observableData.progress=(null!==(t=null===(e=this._audioPlayer)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0)*1e3,this._lyricsManager&&(this._observableData.lyricsProgress=this._lyricsManager.calculateLyricProgress(this._observableData.progress))})}),this._audioPlayer.onEnded(()=>{(0,o.z)(()=>{var e,t;this._observableData.progress=(null!==(t=null===(e=this._audioPlayer)||void 0===e?void 0:e.duration)&&void 0!==t?t:0)*1e3,this._observableData.playState=s.Q.Stopped})}),this._audioPlayer.onVolumeChange(()=>{(0,o.z)(()=>{this._observableData.volume=this._audioPlayer.volume})}),this._lyricsManager=null,null===(e=(t=this._observableData.audioList.audios[null!=a?a:0]).lyrics)||void 0===e||e.call(t).then(e=>{(0,o.z)(()=>{this._lyricsManager=new u.J({lyrics:e}),this._observableData.currentLyricInfo={lyrics:e},this._observableData.lyricsProgress=this._lyricsManager.calculateLyricProgress(this._observableData.progress)})})}seek(e){var t;this._observableData.progress=e,null===(t=this._audioPlayer)||void 0===t||t.setCurrentTime(e/1e3)}pause(){var e;null===(e=this._audioPlayer)||void 0===e||e.pause()}toggle(){return this._observableData.playState===s.Q.Playing?Promise.resolve(this.pause()):this.play()}next(){return this._observableData.hasNext?this.play(this._observableData.currentAudioIndex+1):null}previous(){return this._observableData.hasPrevious?this.play(this._observableData.currentAudioIndex-1):null}reset(){var e;this._observableData=h._defaultObservableData,null===(e=this._audioPlayer)||void 0===e||e.dispose(),this._audioPlayer=null,this._lyricsManager=null}setVolume(e){var t;null===(t=this._audioPlayer)||void 0===t||t.setVolume(e)}setMuted(e){var t;null===(t=this._audioPlayer)||void 0===t||t.setMuted(e),this._observableData.muted=e}state(){return this._observableData.playState}progress(){return this._observableData.progress}lyricsProgress(){return this._observableData.lyricsProgress}currentAudioInfo(){return this._observableData.currentAudioInfo}currentLyricInfo(){return this._observableData.currentLyricInfo}constructor(e,t){this._audioPlayerService=e,this._containerService=t,this._audioPlayer=null,this._lyricsManager=null,this._durationMap=new Map,this._observableData=(0,o.rC)(h._defaultObservableData,{audioList:o.LO.shallow,currentAudioIndex:o.LO,currentAudioInfo:o.LO.deep,currentLyricInfo:o.LO.shallow,playState:o.LO,progress:o.LO,lyricsProgress:o.LO.deep,volume:o.LO,muted:o.LO,hasNext:o.Fl,hasPrevious:o.Fl}),(0,o.rC)(this)}}(0,a.gn)([o.LO.shallow,(0,a.w6)("design:type","undefined"==typeof IAudioPlayServiceObservableData?Object:IAudioPlayServiceObservableData)],h.prototype,"_observableData",void 0),(0,a.gn)([o.aD.bound,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Object]),(0,a.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],h.prototype,"play",null),(0,a.gn)([o.aD.bound,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Number]),(0,a.w6)("design:returntype",void 0)],h.prototype,"preload",null),(0,a.gn)([o.aD.bound,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Number]),(0,a.w6)("design:returntype",void 0)],h.prototype,"seek",null),(0,a.gn)([o.aD.bound,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Boolean]),(0,a.w6)("design:returntype",void 0)],h.prototype,"setMuted",null),h=(0,a.gn)([(0,a.fM)(0,c.j),(0,a.fM)(1,d.t),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===c.j?Object:c.j,void 0===d.t?Object:d.t])],h)},605579:function(e,t,r){r.d(t,{h:function(){return o}});var i=r(876826),n=r(45347),a=r(476038);class o extends n.l{_handleHoverShortVideoTab(e,t){this._prevPrefetchTaskDisposables.length&&(this._prevPrefetchTaskDisposables.forEach(e=>e.dispose()),this._prevPrefetchTaskDisposables.length=0);var r=t.getCarouselService().carouselList,{ctx:i}=t,n=r.slice(0,10).map(e=>new a.a(i,e,"critical"));this._prevPrefetchTaskDisposables.push(...n.map(e=>t.postPrefetchTask(e)))}_handle(e,t){var r=this;return(0,i._)(function*(){var i;if("hover-short-video-tab"===e.name)r._handleHoverShortVideoTab(e,t);null===(i=r.nextHandler)||void 0===i||i.handle(e)})()}constructor(...e){super(...e),this._prevPrefetchTaskDisposables=[]}}},830545:function(e,t,r){r.d(t,{f:function(){return c}});var i=r(876826),n=r(2910),a=r(843698),o=r(630937),s=r(518582),u=r(52773);class c extends u.Y{_createCoverPreloadLink(e){var t=(0,o.x)("link");return t.crossOrigin="anonymous",t.fetchPriority="low",t.rel="prefetch",t.as="image",t.href=(0,n.C)(e,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),t}run(){var e=this;return(0,i._)(function*(){var t=[e._prefetchInfo].map(t=>e._createCoverPreloadLink(t.coverUrl)),r=document.createDocumentFragment();t.forEach(t=>{t&&(e._ctx.prefetchedResourceNames.push(t.href),r.appendChild(t))}),e._abortCallback=()=>{t.forEach(e=>{e&&e.remove()}),e._onDoneEmitter.fire()},document.body.appendChild(r);var i=Promise.all(t.map(t=>new Promise((r,i)=>{if(!t){r();return}t.onload=()=>{t.remove(),r()},t.onerror=()=>{t.remove(),i(Error("Image load failed"))},e.onDone(()=>{t.remove(),r()})})));yield i})()}get onDone(){return this._onDoneEmitter.event}get key(){return this._prefetchInfo.key}dispose(){this._abortCallback&&this._abortCallback(),super.dispose()}constructor(e,t,r="high"){super(e,t),this.priority=r,this._abortCallback=null,this._onDoneEmitter=new a.Q,this._prefetchInfo=(0,s.VY)(this._item)}}},243299:function(e,t,r){r.d(t,{D:function(){return i}});var i=(0,r(971245).yh)("mweb-performance-monitor-service")},267246:function(e,t,r){r.d(t,{T:function(){return n}});var i=-1,n=e=>{addEventListener("pageshow",t=>{t.persisted&&(t.timeStamp,e(t))},!0)}},263206:function(e,t,r){r.d(t,{k:function(){return _}});var i=r(876826),n=r(789786),a=r(243494),o=r(277536),s=r(503006),u=r(736646),c=r(836413),d=r(947259),l=r(460029);class _{wrapperFetchFuncWithCache(e){var t,{fetchFunc:r,onOriginRequestDone:n,calcRequestCacheKey:o,shouldDisableCache:s,cacheExpirationDuration:u,minUseCacheThresholdTime:_,shouldLogDebugInfo:p}=e,h=this;return t=(0,i._)(function*(){for(var e,t,v=arguments.length,g=Array(v),m=0;m<v;m++)g[m]=arguments[m];var f=!!s&&s(...g),y=o(...g);var b=(e=(0,i._)(function*(){p&&(0,l.Ie)("ORIGIN_FETCH_".concat(y));try{var e=yield r(...g);if(e.ok&&!f){null==n||n(e);var{value:t}=e,i=t instanceof a.yt?h._convertQueryConfigToIdbValue(t):t,o=yield h._getCacheStoreInstance();null==o||o.set(y,{id:y,response:i,maxAge:null!=u?u:864e5})}return e}finally{p&&(0,l.oe)("ORIGIN_FETCH_".concat(y)),p&&(0,l.XH)("ORIGIN_FETCH_".concat(y))}}),function(){return e.apply(this,arguments)});var w=(t=(0,i._)(function*(){if(f)return null;var e,t=performance.now();p&&(0,l.Ie)("GET_CACHE_INSTANCE_".concat(y));var r=yield h._getCacheStoreInstance();if(p&&(0,l.oe)("GET_CACHE_INSTANCE_".concat(y)),p&&(0,l.XH)("GET_CACHE_INSTANCE_".concat(y)),!r)return null;p&&(0,l.Ie)("QUERY_LOCAL_".concat(y));var i=yield r.query(y);if(p&&(0,l.oe)("QUERY_LOCAL_".concat(y)),p&&(0,l.XH)("QUERY_LOCAL_".concat(y)),!i.ok||!i.value)return null;var n=Math.max((null!=_?_:300)-(performance.now()-t),0);n>=100&&(yield(0,d._)(n));var{queryTokenConfig:o}=null!==(e=i.value.response)&&void 0!==e?e:{};if(o){var{value:s,offset:u,hasMore:v,config:g}=o,m=(0,a.ib)(g,s,{hasMore:v,offset:u});return(0,c.oW)(m)}return(0,c.oW)(i.value.response)}),function(){return t.apply(this,arguments)}),S=new Promise(e=>{w().then(t=>{t&&e(t)}),b().then(t=>{t&&e(t)})});return yield S}),function(){return t.apply(this,arguments)}}_connect(){var e=this;return(0,i._)(function*(){return yield e._storageService.database.connect(u.v.id,o.r.name)})()}constructor(e){var t=this;this._storageService=e,this._storeInstance=null,this._getCacheStoreInstance=(0,i._)(function*(){if(!t._connectRequest&&(t._connectRequest=t._connect()),!t._storeInstance){var e=yield t._connectRequest;if(!e.ok)return null;t._storeInstance=e.value}return t._storeInstance}),this._convertQueryConfigToIdbValue=e=>({queryTokenConfig:{value:e.value,offset:e.offset,hasMore:e.hasMore,config:e.config}}),this._connectRequest=this._connect()}}_=(0,n.gn)([(0,n.fM)(0,s.U),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.U?Object:s.U])],_)},430336:function(e,t,r){r.d(t,{d:function(){return n}});var i=r(247170);function n(e,t){t.ssrWarmup((0,i.fC)(),{url:e,version:(window.gfdatav1||{}).ver,frontendEnv:window.__lvweb_env,backendEnv:window.__agw_env,windows:86400})}},795559:function(e,t,r){r.d(t,{F:function(){return T}});var i=r(876826),n=r(85728),a=r(929753),o=r(789786),s=r(91172),u=r(265587),c=r(599918),d=r(680564),l=r(978420),_=r(77922),p=r(655901),h=r(340733),v=r(820266),g=r(970419),m=r(260963),f=r(936102),y=r(910683),b=r(836413),w=r(521950),S=r(530989),I=r(259273);class T{setDetailData(e){this.videoDetail=(0,m.ZN)(e)}bootStrap(e){var t=this;return(0,i._)(function*(){t._setIsFetching(!0);var r=t._serverInjectedDataService.getData(I.Sj.WorkDetailPage);if(r){t._serverInjectedDataService.clearData(I.Sj.WorkDetailPage);var{workDetail:i}=r;if(i.ok&&i.value.commonAttr.id===e){var o,d,l=i.value.__cacheSyncToken,_=i.value.__logId,g=i.value;if(l&&_){var m=yield S.Li.decryptIV(l,_);yield(0,p.B0)(S.Li.decrypt.bind(S.Li),g,m)}var T=null!==(d=i.value.__setCookie)&&void 0!==d?d:"",P=yield S.sn.getSignOptions({cookie:T});yield(0,h.H8)(S.sn.sign.bind(S.sn),g,P);var D=(0,v.X)((0,w.I)(g));if((0,s.Z)(D)){var C=(0,u.Q)(D);o=(0,f.h)(t._resourceService,C)}else{var R=(0,c.g)(D);o=(0,y.W)(t._resourceService,R)}return t.setDetailData((0,a._)((0,n._)({},o),{fromSSR:!0})),t._setIsFetching(!1),t.fetchVideoDetail(null!=e?e:t.videoId).then(e=>{e.ok&&e.value&&t.setDetailData((0,a._)((0,n._)({},o),{statistic:e.value.statistic,fromSSR:!1}))}),(0,b.oW)(!0)}}var k=yield t.fetchVideoDetail(null!=e?e:t.videoId);return k.ok?(t.setDetailData(k.value),t._setIsFetching(!1),(0,b.oW)(!0)):(t._setIsFetching(!1),(0,b.wf)(k.code,k.msg))})()}_setIsFetching(e){this.isFetching=e}constructor(e,t,r,n){var a,o=this;this.videoId=e,this._inspirationFeedDataService=t,this._resourceService=r,this._serverInjectedDataService=n,this.isFetching=!1,this.fetchVideoDetail=(a=(0,i._)(function*(e){var t=yield o._inspirationFeedDataService.fetchVideoDetail({publishedItemId:e});if(!t.ok)return t;var r=(0,d.B)(t.value)?(0,f.h)(o._resourceService,t.value):(0,y.W)(o._resourceService,t.value);return(0,b.oW)(r)}),function(e){return a.apply(this,arguments)}),(0,m.rC)(this)}}(0,o.gn)([m.LO.deep,(0,o.w6)("design:type","undefined"==typeof VideoDetailData?Object:VideoDetailData)],T.prototype,"videoDetail",void 0),(0,o.gn)([m.LO],T.prototype,"isFetching",void 0),(0,o.gn)([m.aD,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof VideoDetailData?Object:VideoDetailData]),(0,o.w6)("design:returntype",void 0)],T.prototype,"setDetailData",null),(0,o.gn)([m.aD,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Boolean]),(0,o.w6)("design:returntype",void 0)],T.prototype,"_setIsFetching",null),T=(0,o.gn)([(0,o.fM)(1,l.t),(0,o.fM)(2,_.c),(0,o.fM)(3,g.G),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[String,void 0===l.t?Object:l.t,void 0===_.c?Object:_.c,void 0===g.G?Object:g.G])],T)},630937:function(e,t,r){r.d(t,{x:function(){return n}});var i,n=i=window.rawCreateElement?function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return window.rawCreateElement.apply(window.document,t)}:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return window.document.createElement.apply(window.document,t)}},728622:function(e,t,r){r.d(t,{j:function(){return i}});var i=(0,r(971245).yh)("audio-player-service")},562956:function(e,t,r){r.d(t,{D:function(){return s}});var i=r(2910),n=r(843698),a=r(874800),o=r(237990);class s extends a.JT{get error(){return this._audio.error}get duration(){return this._audio.duration}get currentTime(){return this._audio.currentTime}get url(){return this._audio.src}get volume(){return this._audio.volume}get muted(){return this._audio.muted}get rate(){return this._audio.playbackRate}play(){return this._audio.play()}pause(){this._audio.pause()}dispose(){this._audio.pause(),super.dispose()}setCurrentTime(e){this._audio.currentTime=e}setVolume(e){this._audio.volume=e}setMuted(e){this._audio.muted=e}setRate(e){this._audio.playbackRate=e}constructor(e){var t;super(),this._onPlay=new n.Q,this._onPlaying=new n.Q,this._onPause=new n.Q,this._onEnded=new n.Q,this._onTimeUpdate=new n.Q,this._onLoadedMetaData=new n.Q,this._onVolumeChange=new n.Q,this._onError=new n.Q,this._audio=new Audio,this.onPlay=this._onPlay.event,this.onPlaying=this._onPlaying.event,this.onPause=this._onPause.event,this.onEnded=this._onEnded.event,this.onTimeUpdate=this._onTimeUpdate.event,this.onLoadedMetaData=this._onLoadedMetaData.event,this.onVolumeChange=this._onVolumeChange.event,this.onError=this._onError.event,this._audio.src=(0,i.C)(e.url,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),this._audio.volume=e.volume,this._audio.playbackRate=null!==(t=e.rate)&&void 0!==t?t:1,this._register((0,o.n)(this._audio,"play",()=>{this._onPlay.fire()})),this._register((0,o.n)(this._audio,"playing",()=>{this._onPlaying.fire()})),this._register((0,o.n)(this._audio,"pause",()=>{this._onPause.fire()})),this._register((0,o.n)(this._audio,"ended",()=>{this._onEnded.fire()})),this._register((0,o.n)(this._audio,"timeupdate",()=>{this._onTimeUpdate.fire()})),this._register((0,o.n)(this._audio,"loadedmetadata",()=>{this._onLoadedMetaData.fire()})),this._register((0,o.n)(this._audio,"volumechange",()=>{this._onVolumeChange.fire()})),this._register((0,o.n)(this._audio,"error",e=>{this._onError.fire(e.target.error)}))}}},15857:function(e,t,r){r.d(t,{$:function(){return a}});var i=r(56935),n=r(639746);class a{setDraftPermission(e){this._draftPermission=e}getDraftPermission(){return(0,i.ZB)(this._draftPermission),this._draftPermission}constructor(){this._draftPermission=n.O.readonly}}},772026:function(e,t,r){r.d(t,{A:function(){return h}});var i=r(876826),n=r(789786),a=r(836413),o=r(56935),s=r(131883),u=r(902668),c=r(910733),d=r(96726),l=r(671769),_=r(558085),p=r(434712);class h extends u.X{uploadImage(e){var t=this;return(0,i._)(function*(){var{file:r,cancellationToken:i}=e,n=yield t._uploadImageAndGetTask(r,i);if(!n.ok)return n;var a=n.value;return(0,s.M)(a)})()}uploadImageAndGetTask(e){var t=this;return(0,i._)(function*(){var{file:r,cancellationToken:i}=e,n=yield t._uploadImageAndGetTask(r,i);return n.ok?n.value:new l.y(n)})()}uploadFile(e){var t=this;return(0,i._)(function*(){var{file:r,cancellationToken:i}=e,n=yield t._uploadFileAndGetTask(r,i);if(!n.ok)return n;var a=n.value;return(0,s.M)(a)})()}uploadFileAndGetTask(e){var t=this;return(0,i._)(function*(){var{file:r,cancellationToken:i}=e,n=yield t._uploadFileAndGetTask(r,i);return n.ok?n.value:new l.y(n)})()}_getToken(){return this._spaceConfig.getImageXToken()}_getSdkDriver(){return this._sdkDriver?this._sdkDriver:(this._sdkDriver=new c.d({appId:this._appId,userId:this._userIdProvider.userId,getSliceFunc:this._uploadSettings.sliceSize,actions:this._uploadSettings.actions}),this._sdkDriver)}_uploadImageAndGetTask(e,t){var r=this,n=()=>super._flushToken;return(0,i._)(function*(){return((0,o.Y2)(r._spaceConfig.permissionSlots&1<<d.pd.Image,"this imagex space no support upload image."),yield n().call(r),r._token)?r._getSdkDriver().uploadImage(r._token,e,t):(0,a.wf)(-1,"stsToken undefined.")})()}_uploadFileAndGetTask(e,t){var r=this,n=()=>super._flushToken;return(0,i._)(function*(){return((0,o.Y2)(r._spaceConfig.permissionSlots&1<<d.pd.File,"this imagex space no support upload file."),yield n().call(r),r._token)?r._getSdkDriver().uploadFile(r._token,e,t):(0,a.wf)(-1,"stsToken undefined.")})()}constructor(e,t,r,i){super(),this._appId=e,this._spaceConfig=t,this._uploadSettings=r,this._containerService=i,void 0!==this._uploadSettings.userId?this._userIdProvider=new _.k(this._uploadSettings.userId):this._userIdProvider=this._containerService.createInstance(_.w),this._userIdProvider.onUserIdChange(()=>{if(!!this._sdkDriver)this._sdkDriver.setUserId(this._userIdProvider.userId)})}}h=(0,n.gn)([(0,n.fM)(3,p.t),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Number,"undefined"==typeof IImageXUploaderConfigProxy?Object:IImageXUploaderConfigProxy,"undefined"==typeof IImageXSettings?Object:IImageXSettings,void 0===p.t?Object:p.t])],h)},690778:function(e,t,r){r.d(t,{i:()=>k});var i=r("789786"),n=r("243494"),a=r("838026"),o=r("497973"),s=r("719800"),u=r("874800"),c=r("936226"),d=r("813800"),l=r("128581");class _ extends l.i{get resourceType(){return this._resourceType}parseHeycanResponseDataToResources(e){return(0,d.Fi)(e,this._resourceType)}buildCustomRequest(e){var t;return{pack_optional:{need_thumb:!0,thumb_opt:'{"is_support_webp":1}',only_commercial:null!==(t=e.onlyCommercial)&&void 0!==t&&t}}}constructor(e,t){super(t),this._resourceType=e}}_=(0,i.gn)([(0,i.fM)(1,c.Gw),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof AudioEffectType?Object:AudioEffectType,void 0===c.Gw?Object:c.Gw])],_);var p=r("650819"),h=r("881965"),v=r("897727"),g=r("629951"),m=r("959446"),f=r("504869"),y=r("497844"),b=r("959736"),w=r("477358"),S=r("374152"),I=r("552107"),T=r("363411"),P=r("813605"),D=r("396275");class C extends P.h{get brandResourceType(){return D.Q.Audio}parseResponseDataToResources(e){return(0,d.Fi)(e,void 0,!0)}}var R=r("218353");class k extends u.JT{getAudios(e){return(e instanceof n.yt?e.config:e).audioResourceType!==b.b.Music?this._getSoundEffectRepository.getResources(e):"v1"===this._options.repositoryVersion?this._getMusicV1Repository.getRecommendAudios(e):this._getMusicRepository.getResources(e)}getBrandAudios(e){return this._getBrandAudiosRepository.getResources(e)}getAudioAlbums(e){return e===b.b.SoundEffect?this._getSoundEffectAlbumsRepository.getSoundEffectAlbums():"v1"===this._options.repositoryVersion?this._getMusicAlbumsV1Repository.getMusicAlbums():this._getMusicAlbumsRepository.getMusicAlbums()}getAlbumSongs(e){return"v1"===this._options.repositoryVersion?this._getAlbumSongsV1Repository.getAlbumSongs(e):this._getAlbumSongsRepository.getAlbumSongs(e)}batchGetAudios(e){var{isFromBrand:t=!1}=e;return t?this._getBrandAudiosByIdsRepository.getResourcesByIds({ids:e.resourceIds}):e.audioResourceType===b.b.Music?this._batchGetMusicRepository.batchGetResources(e):this._batchGetSoundEffectRepository.batchGetResources(e)}getHeycanSongById(e){return this._getHeycanSongThirdPartyByIdRepository.getHeycanSongById(e)}searchAudio(e){return(e instanceof n.yt?e.config:e).audioResourceType===b.b.Music?this._searchMusicRepository.searchSongs(e):this._searchSoundEffectRepository.searchSongs(e)}getCollections(e){return(e instanceof n.yt?e.config:e).audioResourceType===b.b.Music?this._collectionMusicRepository.getCollections(e):this._collectionSoundEffectRepository.getCollections(e)}addToCollection(e){return e.audioResourceType===b.b.Music?this._collectionMusicRepository.addToCollection(e):this._collectionSoundEffectRepository.addToCollection(e)}removeFromCollection(e){return e.audioResourceType===b.b.Music?this._collectionMusicRepository.removeFromCollection(e):this._collectionSoundEffectRepository.removeFromCollection(e)}constructor(e={},t){super(),this._options=e,this._instantiationService=t,this._searchMusicRepository=this._instantiationService.createInstance(new o.M(w.N,[S.S.music])),this._collectionMusicRepository=this._instantiationService.createInstance(new o.M(a.y,[v.g.Song,this._options])),this._getMusicRepository=this._instantiationService.createInstance(new o.M(_,[v.g.Song])),this._getMusicV1Repository=this._instantiationService.createInstance(new o.M(p.g,[])),this._batchGetMusicRepository=this._instantiationService.createInstance(new o.M(h.w,[v.g.Song])),this._getHeycanSongThirdPartyByIdRepository=this._instantiationService.createInstance(new o.M(R.z,[])),this._getMusicAlbumsRepository=this._instantiationService.createInstance(g.g),this._getMusicAlbumsV1Repository=this._instantiationService.createInstance(m.V),this._getAlbumSongsRepository=this._instantiationService.createInstance(f.x),this._getAlbumSongsV1Repository=this._instantiationService.createInstance(y.Y),this._searchSoundEffectRepository=this._instantiationService.createInstance(new o.M(w.N,[S.S.audioEffect])),this._collectionSoundEffectRepository=this._instantiationService.createInstance(new o.M(a.y,[v.g.AudioEffect,this._options])),this._getSoundEffectRepository=this._instantiationService.createInstance(new o.M(_,[v.g.AudioEffect])),this._batchGetSoundEffectRepository=this._instantiationService.createInstance(new o.M(h.w,[v.g.AudioEffect])),this._getSoundEffectAlbumsRepository=this._instantiationService.createInstance(I.F),this._getBrandAudiosRepository=this._instantiationService.createInstance(C),this._getBrandAudiosByIdsRepository=this._instantiationService.createInstance(T.I)}}k=(0,i.gn)([(0,i.fM)(1,s.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof AudioDataServiceParams?Object:AudioDataServiceParams,void 0===s.T?Object:s.T])],k)},662307:function(e,t,r){r.d(t,{J:function(){return g}});var i=r(876826),n=r(85728),a=r(789786),o=r(936226),s=r(636601),u=r(643590),c=r(875649),d=r(927457),l=r(836413),_=r(346526),p=r(807744),h=r(12939),v=r(150615);class g{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new u.y().build(u.D),(0,c.i3)(e),(0,_.V)(e),e)}return this._networkClientInstance}batchGetResources(e){var t=this;return(0,i._)(function*(){try{var r,i,n=yield t._networkClient.post(t._batchGetResourcesApi,t._convertParamsToRequest(e),(0,h._)(t._accountService.userProfile.region,v.ZP.language)),a=Number(null!==(r=n.ret)&&void 0!==r?r:0),o=null!==(i=n.errmsg)&&void 0!==i?i:"";if(0!==a)return(0,l.wf)(null!=a?a:-1,null!=o?o:"");var s=t._convertResponseToResourcesData(e,n);return(0,l.oW)(s)}catch(e){return(0,d.m)(e,-1,"[".concat(t.resourceType,"] batchGetResources api error"))}})()}buildCustomRequest(e){return{}}_convertParamsToRequest(e){var t={items:e.items.map(e=>{var{id:t,effectType:r,source:i}=e;return{id:t,effect_type:r,source:i}})},r=this.buildCustomRequest(e);return(0,n._)({},t,r)}_convertResponseToResourcesData(e,t){return{list:t.data.effect_item_list.map(e=>this.parseHeycanResponseDataToResources(e))}}get _batchGetResourcesApi(){return"".concat(s._L.getVar("web_domain")).concat(p.bl.BATCH_GET_TUCHONG_RESOURCES_BY_ID)}constructor(e){this._accountService=e}}g=(0,a.gn)([(0,a.fM)(0,o.Gw),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===o.Gw?Object:o.Gw])],g)},324069:function(e,t,r){r.d(t,{i:function(){return d}});var i=r(876826),n=r(636601),a=r(396200),o=r(836463),s=r(836413),u=r(927457),c=r(589214);class d{getResourcesByIds(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._url,t._convertParamsToRequest(e),{withCredentials:!0}),i=t._convertResponseToResourcesData(r);return(0,s.oW)(i)}catch(e){return(0,u.m)(e)}})()}_convertParamsToRequest(e){return{id_list:e.ids,effect_sdk_version:a._,pack_optional:{NeedThumb:!0},need_depend_resource:!0,need_sub_item:!0,need_vip_tag:!0,app_version:c.$U}}_convertResponseToResourcesData(e){return{list:e.data.resource_info_list.map(e=>this.parseResponseDataToResources(e))}}get _networkClient(){return!this._networkClientInstance&&(this._networkClientInstance=(0,o.G)()),this._networkClientInstance}get _url(){return"".concat(n._L.getVar("web_domain")).concat(a.l.getBrandResourcesByResourceTypes)}}},640336:function(e,t,r){r.d(t,{W:function(){return i}});var i=(0,r(971245).yh)("dreamina-audio-generate-data-service")},327697:function(e,t,r){r.d(t,{f:()=>f});var i=r("876826"),n=r("789786"),a=r("216342"),o=r("836413"),s=r("346526"),u=r("643590"),c=r("416105"),d=r("875649"),l=r("820266"),_=r("804274"),p=r("927457"),h=r("442452"),v={GET_CANVAS_DETAIL:"/mweb/v1/canvas_detail"},g=r("490165"),m=r("879976");class f{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new u.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0}),(0,m.V)(e),(0,c.mH)(e),(0,d.i3)(e),(0,s.V)(e),e)}return this._networkClientInstance}_getApi(e){return this._httpApiSettingService.getRequestURL({domainType:h.Y.DEFAULT,path:e})}getCanvasDetail(e,t){var r=this;return(0,i._)(function*(){try{var i=yield r._networkClient.post(r._getApi(v.GET_CANVAS_DETAIL),(0,l.X)(t),{ctx:e});if("0"!==i.ret)return(0,o.wf)(Number(i.ret),i.errmsg);var{templateData:n,textList:a,itemId2image:s,everPhotoList:u}=(0,l.b)(i.data,_.zW);return(0,o.oW)({draftData:n,textList:a,itemId2image:s,everPhotoList:u})}catch(e){return(0,p.P)(e)}})()}constructor(e,t){this._httpApiSettingService=e,this._accountService=t}}(0,n.gn)([(0,a.lI)("DreaminaCanvasTemplateRepository","GetCanvasDetail"),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context,"undefined"==typeof IGetCanvasDetailReq?Object:IGetCanvasDetailReq]),(0,n.w6)("design:returntype",Promise)],f.prototype,"getCanvasDetail",null),f=(0,n.gn)([(0,n.fM)(0,h.x),(0,n.fM)(1,g.D),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===h.x?Object:h.x,void 0===g.D?Object:g.D])],f)},377e3:function(e,t,r){r.d(t,{w:function(){return v}});var i=r(876826),n=r(789786),a=r(836413),o=r(346526),s=r(643590),u=r(416105),c=r(875649),d=r(820266),l=r(927457),_=r(159197),p=r(442452),h=r(879976);class v{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new s.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0}),(0,h.V)(e),(0,u.mH)(e),(0,c.i3)(e),(0,o.V)(e),e)}return this._networkClientInstance}_getApi(e){return this._httpApiSettingService.getRequestURL({domainType:p.Y.DEFAULT,path:e})}getCharacterList(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._getApi(_.b.GET_CHARACTER_LIST),(0,d.X)(e));if("0"!==r.ret)return(0,a.wf)(Number(r.ret),r.errmsg);return(0,a.oW)((0,d.b)(r.data))}catch(e){return(0,l.m)(e,-1,"get character list error")}})()}createCharacter(e,t){var r=this;return(0,i._)(function*(){try{var i=yield r._networkClient.post(r._getApi(_.b.CREATE_CHARACTER),(0,d.X)(e),{params:t});if("0"!==i.ret)return(0,a.wf)(Number(i.ret),i.errmsg);return(0,a.oW)((0,d.b)(i.data))}catch(e){return(0,l.m)(e,-1,"create character error")}})()}updateCharacter(e,t){var r=this;return(0,i._)(function*(){try{var i=yield r._networkClient.post(r._getApi(_.b.UPDATE_CHARACTER),(0,d.X)(e),{params:t});if("0"!==i.ret)return(0,a.wf)(Number(i.ret),i.errmsg);return(0,a.ly)()}catch(e){return(0,l.m)(e,-1,"update character error")}})()}deleteCharacter(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._getApi(_.b.DELETE_CHARACTER),(0,d.X)(e));if("0"!==r.ret)return(0,a.wf)(Number(r.ret),r.errmsg);return(0,a.oW)((0,d.b)(r.data))}catch(e){return(0,l.m)(e,-1,"delete character error")}})()}getCharacter(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._getApi(_.b.MGet_CHARACTER),(0,d.X)(e));if("0"!==r.ret)return(0,a.wf)(Number(r.ret),r.errmsg);return(0,a.oW)((0,d.b)(r.data))}catch(e){return(0,l.m)(e,-1,"mget character error")}})()}getCharacterRefImageList(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._getApi(_.b.GET_CHARACTER_REF_IMAGE_LIST),(0,d.X)(e));if("0"!==r.ret)return(0,a.wf)(Number(r.ret),r.errmsg);return(0,a.oW)((0,d.b)(r.data))}catch(e){return(0,l.m)(e,-1,"get character ref image list error")}})()}constructor(e){this._httpApiSettingService=e}}v=(0,n.gn)([(0,n.fM)(0,p.x),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===p.x?Object:p.x])],v)},216822:function(e,t,r){r.d(t,{b:function(){return i}});var i={MAKE_VIP_UNAUTO_ORDER:"/commerce/v1/subscription/make_unauto_order",MAKE_VIP_AUTO_ORDER:"/commerce/v2/subscription/sign_and_pay",MAKE_CREDIT_ORDER:"/commerce/v1/purchase/make_order",VIP_ORDER_STATUS:"/commerce/v1/subscription/query_order_status",CREDIT_ORDER_STATUS:"/commerce/v1/purchase/query_order_status",CANCEL_VIP_AUTO:"/commerce/v1/subscription/unsign",CANCEL_CREDIT_ORDER:"/commerce/v1/purchase/cancel_order",GET_PRE_ORDER_INFO:"/commerce/v1/subscription/get_change_plan_info",MAKE_OVER_SEA_PAY_ORDER:"/pipo/v2/subscription/aggregate/prepare_payment",GET_OVER_SEA_ORDER_STATUS:"/pipo/v2/subscription/aggregate/get_pay_result",MAKE_OVER_SEA_PAY_ORDER_V3:"/commerce/v3/trade/init_trade",GET_OVER_SEA_ORDER_STATUS_V3:"/commerce/v3/trade/query_trade",CANCEL_VIP_AUTO_V3:"/commerce/v3/trade/cancel_subscription"}},953622:function(e,t,r){r.d(t,{G:function(){return u}});var i=r(643590),n=r(416105),a=r(804274),o=r(875649),s=r(879976);function u(){var e=new i.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0});return(0,s.V)(e),(0,n.mH)(e),(0,a.xP)(e),(0,o.e_)(e),e}},277161:function(e,t,r){r.d(t,{Q:function(){return l}});var i=r(876826),n=r(789786),a=r(836413),o=r(442452),s=r(100470),u=r(820266),c=r(401213),d=r(242338);class l{genToken(){var e=this;return(0,i._)(function*(){try{var t=yield e._networkClient.post(e._httpApiSettingService.getRequestURL({path:c.v.genToken.url,domainType:o.Y.DEFAULT}));return(0,a.oW)((0,u.b)(t))}catch(e){var{ret:r,errmsg:i}=e||{},n=r?Number(r):s.b.ErrCommon;return(0,a.wf)(n,null!=i?i:"unknown error")}})()}constructor(e){this._httpApiSettingService=e,this._networkClient=(0,d.G)()}}l=(0,n.gn)([(0,n.fM)(0,o.x),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===o.x?Object:o.x])],l)},728521:function(e,t,r){r.d(t,{v:function(){return n}});var i=r(940140),n={publish:{hostNameType:i.b_.Default,url:"/mweb/v1/publish"},removeFromHomepage:{hostNameType:i.b_.Default,url:"/mweb/v1/remove_from_homepage"},getItemInfo:{hostNameType:i.b_.Default,url:"/mweb/v1/get_item_info"},updateItem:{hostNameType:i.b_.Default,url:"/mweb/v1/update_item"},makeFavorite:{HostNameType:i.b_.Default,url:"/mweb/v1/mark_favorite"},transferEverPhotoAssets:{HostNameType:i.b_.Default,url:"/mweb/v1/transfer_ever_photo"}}},335415:function(e,t,r){r.d(t,{K:function(){return i}});var i=(0,r(971245).yh)("dreamina-user-settings-service")},660149:function(e,t,r){r.d(t,{b:function(){return i}});var i={TASK_SUBMIT:"/mweb/v1/generate_video",BATCH_TASK_SUBMIT:"/mweb/v1/batch_generate_video",TASK_QUERY:"/mweb/v1/mget_generate_task",TASK_LIST:"/mweb/v1/get_history",DOWNLOAD_TASK:"/mweb/v1/get_local_item_list",LOCATE_TASK:"/mweb/v1/locate_workbench",DELETE_TASK:"/mweb/v1/remove_history",FEEDBACK_TASK:"/mweb/v1/feedback",GET_ASSET_LIST:"/mweb/v1/get_asset_list",ENTITY_SEG:"/mweb/v1/entity_seg",ENTITY_CLASS:"/mweb/v1/entity_class",VIDEO_BGM_TASK_SUBMIT:"/mweb/v1/generate_video_bgm",UPDATE_VIDEO_DEFAULT_BGM:"/mweb/v1/update_video_default_bgm",MIX_AUDIO_VIDEO_TASK:"/mweb/v1/mix_audio_video",BATCH_MIX_AUDIO_VIDEO_TASK:"/mweb/v1/mix_audio_videos",GENERATE_VIDEO:"/mweb/v1/aigc_draft/generate",QUERY_TASK_BY_HISTORY_ID:"/mweb/v1/get_history_by_ids"}},765417:function(e,t,r){r.d(t,{y:function(){return u}});var i=r(116244),n=r(405151),a=r(484876),o=r(474956),s=r(755020);class u extends n.B{get resourceType(){return o._g.Photo}get resourcePanelType(){return s.q.Photo}parseHeycanResponseDataToResources(e){return(0,i.Ar)(e)}buildCustomRequest(e){var t;return{category_id:Number(e.category),pack_optional:{large_image_formats:a.r,need_thumb:!0,only_commercial:null!==(t=e.onlyCommercial)&&void 0!==t&&t,thumb_opt:'{"is_support_webp":1}'}}}}},401339:function(e,t,r){r.d(t,{u:function(){return v}});var i=r(876826),n=r(789786),a=r(836413),o=r(346526),s=r(643590),u=r(875649),c=r(416105),d=r(243494),l=r(927457),_=r(442452),p=r(761946),h=r(621795);class v{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new s.y().build({headers:{"Content-Type":"application/json"}}),(0,u.i3)(e),(0,c.mH)(e),(0,o.V)(e),e)}return this._networkClientInstance}getWorkspace(e){var t=this;return(0,i._)(function*(){var r=e instanceof d.yt?e.config:e;try{var i,n,o,s=yield t._networkClient.post(t._httpApiSettingService.getRequestURL({domainType:_.Y.DEFAULT,path:h.b.GET_WOKRSPACES}),{count:null!==(i=r.limit)&&void 0!==i?i:t._defaultLimit,cursor:"".concat(null!==(n=r.offset)&&void 0!==n?n:"0"),need_convert_workspace:null===(o=r.needCovertWorkspace)||void 0===o||o},{withCredentials:!0,params:{lite_aid:r.liteAppId}});if("0"!==s.ret)return(0,a.wf)(Number(s.ret),s.errmsg);var u=t._convertResponseToQueryToken(e,s);return(0,a.oW)(u)}catch(e){return(0,l.m)(e,-1,"workspace get user workspace api error")}})()}_convertResponseToQueryToken(e,t){var r,i=t.data.workspace_infos.map(e=>(0,p.F)(e)),{has_more:n}=t.data,a=e instanceof d.yt?e.config:e;return(0,d.ib)(a,{list:i},{hasMore:n,offset:(e instanceof d.yt?null==e?void 0:e.offset:0)+(null!==(r=null==a?void 0:a.limit)&&void 0!==r?r:this._defaultLimit)})}constructor(e){this._httpApiSettingService=e,this._defaultLimit=100}}v=(0,n.gn)([(0,n.fM)(0,_.x),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===_.x?Object:_.x])],v)}}]);