(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["41"],{35756:function(e,t){"use strict";t.Z={"style-reference-interact":"style-reference-interact-nbcUqm",styleReferenceInteract:"style-reference-interact-nbcUqm"}},311588:function(e,t,r){var i=r(701926).Reporter,n=r(701926).EncoderBuffer,a=r(701926).DecoderBuffer,s=r(422555),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function l(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,!r.parent&&(r.children=[],this._wrap())}e.exports=l;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},l.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},l.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0),t[e[r]]=r}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){throw Error(e+" not implemented for encoding: "+this._baseState.enc)}}),o.forEach(function(e){l.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}}),l.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var r,i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n=i.default,s=!0,o=null;if(null!==i.key&&(o=e.enterKey(i.key)),i.optional){var c=null;if(null!==i.explicit?c=i.explicit:null!==i.implicit?c=i.implicit:null!==i.tag&&(c=i.tag),null!==c||i.any){if(s=this._peekTag(e,c,i.any),e.isError(s))return s}else{var l=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(l)}}if(i.obj&&s&&(r=e.enterObject()),s){if(null!==i.explicit){var u=this._decodeTag(e,i.explicit);if(e.isError(u))return u;e=u}var h=e.offset;if(null===i.use&&null===i.choice){if(i.any)var l=e.save();var d=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(d))return d;i.any?n=e.raw(l):e=d}if(t&&t.track&&null!==i.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(n=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(n))return n;if(!i.any&&null===i.choice&&null!==i.children&&i.children.forEach(function(r){r._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var f=new a(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(f,t)}}return i.obj&&s&&(n=e.leaveObject(r)),null!==i.key&&(null!==n||!0===s)?e.leaveKey(o,i.key,n):null!==o&&e.exitKey(o),n},l.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;if("seq"===e||"set"===e)return null;if("seqof"===e||"setof"===e)return this._decodeList(t,e,i.args[0],r);if(/str$/.test(e))return this._decodeStr(t,e,r);if("objid"===e&&i.args)return this._decodeObjid(t,i.args[0],i.args[1],r);else if("objid"===e)return this._decodeObjid(t,null,null,r);else if("gentime"===e||"utctime"===e)return this._decodeTime(t,e,r);else if("null_"===e)return this._decodeNull(t,r);else if("bool"===e)return this._decodeBool(t,r);else if("objDesc"===e)return this._decodeStr(t,e,r);else if("int"===e||"enum"===e)return this._decodeInt(t,i.args&&i.args[0],r);return null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},l.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return(Object.keys(r.choice).some(function(a){var s=e.save(),o=r.choice[a];try{var c=o._decode(e,t);if(e.isError(c))return!1;i={type:a,value:c},n=!0}catch(t){return e.restore(s),!1}return!0},this),n)?i:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},l.prototype._encode=function(e,t,r){var i=this._baseState;if(null!==i.default&&i.default===e)return;var n=this._encodeValue(e,t,r);if(void 0!==n){if(!this._skipDefault(n,t,r))return n}},l.prototype._encodeValue=function(e,t,r){var n,a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new i);var n=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}var s=null,o=!1;if(a.any)n=this._createEncoderBuffer(e);else if(a.choice)n=this._encodeChoice(e,t);else if(a.contains)s=this._getUse(a.contains,r)._encode(e,t),o=!0;else if(a.children)s=a.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===a.tag||"setof"===a.tag){if(!(a.args&&1===a.args.length))return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},c))}else null!==a.use?n=this._getUse(a.use,r)._encode(e,t):(s=this._encodePrimitive(a.tag,e),o=!0);if(!a.any&&null===a.choice){var l=null!==a.implicit?a.implicit:a.tag,u=null===a.implicit?"universal":"context";null===l?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(n=this._encodeComposite(l,o,u,s))}return null!==a.explicit&&(n=this._encodeComposite(a.explicit,!1,"context",n)),n},l.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return!i&&s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);else if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);else if("null_"===e)return this._encodeNull();else if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);else if("bool"===e)return this._encodeBool(t);else if("objDesc"===e)return this._encodeStr(t,e);else throw Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},897128:function(e,t,r){t.der=r(821712),t.pem=r(19682)},652217:function(e,t,r){var i=r(336744),n=r(981966),a=r(641601);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(a)}},336744:function(e,t,r){var i=r(675464),n=r(176135),a=r(140860).Buffer,s=r(922539),o=r(23420),c=r(869298),l=r(948881);function u(e,t,r){o.call(this),this._cache=new d,this._cipher=new c.AES(t),this._prev=a.from(r),this._mode=e,this._autopadding=!0}r(32016)(u,o),u.prototype._update=function(e){this._cache.add(e);for(var t,r,i=[];t=this._cache.get();)r=this._mode.encrypt(this,t),i.push(r);return a.concat(i)};var h=a.alloc(16,16);function d(){this.cache=a.allocUnsafe(0)}function f(e,t,r){var o=i[e.toLowerCase()];if(!o)throw TypeError("invalid suite type");if("string"==typeof t&&(t=a.from(t)),t.length!==o.key/8)throw TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=a.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw TypeError("invalid iv length "+r.length);return"stream"===o.type?new s(o.module,t,r):"auth"===o.type?new n(o.module,t,r):new u(o.module,t,r)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return a.concat([this.cache,t])};t.createCipheriv=f,t.createCipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw TypeError("invalid suite type");var n=l(t,!1,r.key,r.iv);return f(e,n.key,n.iv)}},169923:function(e,t,r){var i=r(23420),n=r(445624),a=r(32016),s=r(140860).Buffer,o={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function c(e){i.call(this);var t,r=e.mode.toLowerCase(),n=o[r];t=e.decrypt?"decrypt":"encrypt";var a=e.key;!s.isBuffer(a)&&(a=s.from(a)),("des-ede"===r||"des-ede-cbc"===r)&&(a=s.concat([a,a.slice(0,8)]));var c=e.iv;!s.isBuffer(c)&&(c=s.from(c)),this._des=n.create({key:a,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,a(c,i),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},203708:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},339515:function(e,t,r){"use strict";e.exports=r(773777)},757426:function(e,t){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,i){for(var n=0,a=0,s=6;s>=0;s-=2){for(var o=0;o<=24;o+=8)n<<=1,n|=t>>>o+s&1;for(var o=0;o<=24;o+=8)n<<=1,n|=e>>>o+s&1}for(var s=6;s>=0;s-=2){for(var o=1;o<=25;o+=8)a<<=1,a|=t>>>o+s&1;for(var o=1;o<=25;o+=8)a<<=1,a|=e>>>o+s&1}r[i+0]=n>>>0,r[i+1]=a>>>0},t.rip=function(e,t,r,i){for(var n=0,a=0,s=0;s<4;s++)for(var o=24;o>=0;o-=8)n<<=1,n|=t>>>o+s&1,n<<=1,n|=e>>>o+s&1;for(var s=4;s<8;s++)for(var o=24;o>=0;o-=8)a<<=1,a|=t>>>o+s&1,a<<=1,a|=e>>>o+s&1;r[i+0]=n>>>0,r[i+1]=a>>>0},t.pc1=function(e,t,r,i){for(var n=0,a=0,s=7;s>=5;s--){for(var o=0;o<=24;o+=8)n<<=1,n|=t>>o+s&1;for(var o=0;o<=24;o+=8)n<<=1,n|=e>>o+s&1}for(var o=0;o<=24;o+=8)n<<=1,n|=t>>o+s&1;for(var s=1;s<=3;s++){for(var o=0;o<=24;o+=8)a<<=1,a|=t>>o+s&1;for(var o=0;o<=24;o+=8)a<<=1,a|=e>>o+s&1}for(var o=0;o<=24;o+=8)a<<=1,a|=e>>o+s&1;r[i+0]=n>>>0,r[i+1]=a>>>0},t.r28shl=function(e,t){return e<<t&0xfffffff|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var a=0,s=0,o=r.length>>>1,c=0;c<o;c++)a<<=1,a|=e>>>r[c]&1;for(var c=o;c<r.length;c++)s<<=1,s|=t>>>r[c]&1;i[n+0]=a>>>0,i[n+1]=s>>>0},t.expand=function(e,t,r){var i=0,n=0;i=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)n|=e>>>a&63,n<<=6;n|=(31&e)<<1|e>>>31,t[r+0]=i>>>0,t[r+1]=n>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){var a=e>>>18-6*n&63,s=i[64*n+a];r<<=4,r|=s}for(var n=0;n<4;n++){var a=t>>>18-6*n&63,s=i[256+64*n+a];r<<=4,r|=s}return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var n=[],a=0;a<t;a+=r)n.push(i.slice(a,a+r));return n.join(" ")}},286413:function(e,t,r){var i=r(189939),n=r(203960),a=r(669683),s=r(9810),o=r(597875),c=r(984826),l=r(719355),u=r(134558),h=r(140860).Buffer;e.exports=function(e,t,r){d=e.padding?e.padding:r?1:4;var d,f,p=i(e);if(4===d)f=function(e,t){var r=e.modulus.byteLength(),i=t.length,l=a("sha1").update(h.alloc(0)).digest(),u=l.length,d=2*u;if(i>r-d-2)throw Error("message too long");var f=h.alloc(r-i-d-2),p=r-u-1,g=n(u),_=o(h.concat([l,f,h.alloc(1,1),t],p),s(g,p)),v=o(g,s(_,u));return new c(h.concat([h.alloc(1),v,_],r))}(p,t);else if(1===d)f=function(e,t,r){var i,a=t.length,s=e.modulus.byteLength();if(a>s-11)throw Error("message too long");return i=r?h.alloc(s-a-3,255):function(e){for(var t,r=h.allocUnsafe(e),i=0,a=n(2*e),s=0;i<e;)s===a.length&&(a=n(2*e),s=0),(t=a[s++])&&(r[i++]=t);return r}(s-a-3),new c(h.concat([h.from([0,r?1:2]),i,h.alloc(1),t],s))}(p,t,r);else if(3===d){if((f=new c(t)).cmp(p.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return r?u(f,p):l(f,p)}},877797:function(e,t,r){"use strict";e.exports=a;var i=r(930377),n=Object.create(r(975952));function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}n.inherits=r(32016),n.inherits(a,i),a.prototype._transform=function(e,t,r){r(null,e)}},762308:function(e,t,r){"use strict";var i,n,a=r(499845),s=r(229867);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=v;var c=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?setImmediate:s.nextTick;v.WritableState=_;var l=Object.create(r(975952));l.inherits=r(32016);var u={deprecate:r(708333)},h=r(429775),d=r(225877).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},p=r(786949);function g(){}function _(e,t){i=i||r(414024),e=e||{};var n=t instanceof i;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;a||0===a?this.highWaterMark=a:n&&(l||0===l)?this.highWaterMark=l:this.highWaterMark=u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r,i,n,a,o,l,u=e._writableState,h=u.sync,d=u.writecb;if((r=u).writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t){;i=e,n=u,a=h,o=t,l=d,--n.pendingcb,a?(s.nextTick(l,o),s.nextTick(k,i,n),i._writableState.errorEmitted=!0,i.emit("error",o)):(l(o),i._writableState.errorEmitted=!0,i.emit("error",o),k(i,n))}else{var f=S(u);!f&&!u.corked&&!u.bufferProcessing&&u.bufferedRequest&&m(e,u),h?c(b,e,u,f,d):b(e,u,f,d)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function v(e){if(i=i||r(414024),!n.call(v,this)&&!(this instanceof i))return new v(e);this._writableState=new _(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}l.inherits(v,h),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},!function(){try{Object.defineProperty(_.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===v&&e&&e._writableState instanceof _}})):n=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};v.prototype.write=function(e,t,r){var i,n,a,o,c,l,u,h,p,_,v,b=this._writableState,m=!1;var S=!b.objectMode&&(i=e,d.isBuffer(i)||i instanceof f);if(S&&!d.isBuffer(e)){;n=e,e=d.from(n)}if("function"==typeof t&&(r=t,t=null),S?t="buffer":!t&&(t=b.defaultEncoding),"function"!=typeof r&&(r=g),b.ended){;a=this,o=r,c=Error("write after end"),a.emit("error",c),s.nextTick(o,c)}else{;if(S||(l=this,u=b,h=e,p=r,_=!0,v=!1,null===h?v=TypeError("May not write null values to stream"):"string"!=typeof h&&void 0!==h&&!u.objectMode&&(v=TypeError("Invalid non-string/buffer chunk")),v&&(l.emit("error",v),s.nextTick(p,v),_=!1),_))b.pendingcb++,m=function(e,t,r,i,n,a){if(!r){var s,o,c,l=(s=t,o=i,c=n,!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof o&&(o=d.from(o,c)),o);i!==l&&(r=!0,n="buffer",i=l)}var u=t.objectMode?1:i.length;t.length+=u;var h=t.length<t.highWaterMark;if(!h&&(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,u,i,n,a);return h}(this,b,S,e,t,r)}return m},v.prototype.cork=function(){var e=this._writableState;e.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&m(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function y(e,t,r,i,n,a,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function b(e,t,r,i){!r&&function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),k(e,t)}function m(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var a=0,s=!0;r;)i[a]=r,!r.isBuf&&(s=!1),r=r.next,a+=1;i.allBuffers=s,y(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,h=t.objectMode?1:c.length;if(y(e,t,!1,h,c,l,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}v.prototype._write=function(e,t,r){r(Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),!i.ending&&function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?s.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r)};function k(e,t){var r,i,n=S(t);if(n){;r=e,(i=t).prefinished||i.finalCalled||("function"==typeof r._final?(i.pendingcb++,i.finalCalled=!0,s.nextTick(w,r,i)):(i.prefinished=!0,r.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))}return n}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){if(!!this._writableState)this._writableState.destroyed=e}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}},786949:function(e,t,r){"use strict";var i=r(229867);function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):e&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,i.nextTick(n,this,e)):i.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?!r._writableState.errorEmitted&&(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},997265:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(function(e,t,r){(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o=r(966465).Buffer,c=r(821353).inspect,l=c&&c.custom||"inspect";e.exports=function(){var e,t,r;function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),this.head=null,this.tail=null,this.length=0}return e=i,t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,i,n=o.allocUnsafe(e>>>0),a=this.head,s=0;a;){;t=a.data,r=n,i=s,o.prototype.copy.call(t,r,i),s+=a.data.length,a=a.next}return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,a=e>n.length?n.length:e;if(a===n.length?i+=n:i+=n.slice(0,e),0==(e-=a)){a===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(a));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return c(this,n(n({},t),{},{depth:0,customInspect:!1}))}}],a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}()},352001:function(e,t,r){"use strict";var i=r(499845);function n(e,t){s(e,t),a(e)}function a(e){if(!e._writableState||!!e._writableState.emitClose)(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(t?t(e):e&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(a,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(a,r),t(e)):i.nextTick(a,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},450251:function(e,t,r){"use strict";var i=r(140860).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:this.write=d,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){if(e<=127)return 0;if(e>>5==6)return 2;if(e>>4==14)return 3;else if(e>>3==30)return 4;return e>>6==2?-1:-2}t.StringDecoder=a,a.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t},a.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=s(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"\uFFFD"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}},426849:function(e,t,r){"use strict";r.d(t,{R:function(){return f}});var i=r(85728),n=r(929753),a=r(772322);r(109163),r(735438);var s=r(372675),o=r(437338);r(218571);var c=r(105789),l=r.n(c),u=r(889715),h=r(790466),d=r(150615),f=e=>{var{width:t,height:r,errTips:c,isLocked:f,className:p,minValue:g,maxValue:_,isWidthError:v=!1,isHeightError:y=!1,dimensionItemStyle:b,isDisable:m,onLockChange:S,onWidthChange:w,onWidthClick:k,onWidthUpdateFinish:C,onHeightChange:x,onHeightClick:E,onHeightUpdateFinish:j}=e,N=(f||!f&&t>0&&r>0)&&!m,T="".concat(g,"~").concat(_),B=f?d.ZP.t("canvas2_ratio_unbind",{},"Unlock aspect ratio"):d.ZP.t("canvas2_ratio_fixed",{},"Lock aspect ratio");return(0,a.jsxs)("div",{className:l()(h.Z.container,p),children:[(0,a.jsxs)("div",{className:h.Z.dimensionContainer,children:[(0,a.jsxs)("div",{className:h.Z.dimension,style:(0,n._)((0,i._)({},b),{border:v?"1px solid var(--state-warning)":""}),children:[(0,a.jsx)("div",{className:h.Z.kindText,children:"W"}),(0,a.jsx)(o.Z,{disabled:m,className:h.Z.valueInput,value:t,onClick:()=>{null==k||k()},onBlur:()=>{null==C||C()},onChange:w,precision:0,hideControl:!0,placeholder:T})]}),(0,a.jsx)("div",{className:l()(h.Z.lockIconContainer,{[h.Z.lockIconContainerDisable]:!N}),onClick:()=>{N&&S(!f)},children:(0,a.jsx)(s.Z,{content:B,disabled:!N,children:f?(0,a.jsx)(u.ikT,{className:l()(h.Z.lockIcon,{[h.Z.lockIconDisable]:!N})}):(0,a.jsx)(u.EA8,{className:l()(h.Z.lockIcon,{[h.Z.lockIconDisable]:!N})})})}),(0,a.jsxs)("div",{className:h.Z.dimension,style:(0,n._)((0,i._)({},b),{border:y?"1px solid var(--state-warning)":""}),children:[(0,a.jsx)("div",{className:h.Z.kindText,children:"H"}),(0,a.jsx)(o.Z,{disabled:m,className:h.Z.valueInput,style:{color:y?"var(--state-warning)":""},value:r,onBlur:()=>{null==j||j()},onChange:x,onClick:()=>{null==E||E()},precision:0,hideControl:!0,placeholder:T})]})]}),void 0!==c&&(0,a.jsx)("div",{className:h.Z.dimensionErrTips,children:c})]})}},429398:function(e,t,r){"use strict";r.d(t,{E:function(){return a}});var i=r(293793),n=r(218571),a=e=>{var t=(0,n.useRef)(null),[r,a]=(0,n.useState)({}),s=(0,i.default)(()=>r);(0,n.useEffect)(()=>{var r=t.current;if(!!r)return e.forEach(e=>e.listen({el:r,getElementStyle:s,setElementStyle:a})),()=>{e.forEach(e=>e.stop())}},[s,e]);var o=(0,i.default)(()=>{e.forEach(e=>e.reset())}),c=(0,i.default)(()=>{e.forEach(e=>e.activate())});return{elementRef:t,elementStyle:r,resetTransformStyle:o,activateAllWatchers:c,deactivatedAllWatchers:(0,i.default)(()=>{e.forEach(e=>e.deactivated())})}}},934128:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var i=r(218571);function n(e,t){return(0,i.useSyncExternalStore)(r=>(e.on(t,r),()=>{e.off(t,r)}),()=>e.getSnapshot())}},575385:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});var i=r(218571);function n(e,t){var[r,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{t&&n(e)},[t]),r}},288198:function(e,t,r){"use strict";function i(e,t){return e>=t.min&&e<=t.max}function n(e,t){return{x:{min:0,max:e},y:{min:0,max:t}}}r.d(t,{L:function(){return n},Z:function(){return i}})},127193:function(e,t,r){"use strict";r.d(t,{X:function(){return _}});var i=r(772322),n=r(522909),a=r(884426),s=r(785774),o=r(218571),c=r(174735),l=r(44938),u=r(246940),h=r(489897),d=r(181650),f=r(579871),p=r(252788),g=r(576490),_=e=>{var{hiddenSelect:t,hiddenDrag:r,containerWidth:_,containerHeight:v,paintWidth:y,paintHeight:b,imageDisplayWidth:m,imageDisplayHeight:S,hiddenRightInteract:w,drawMaskSuccessCb:k}=e,{paintModeInstance:C}=(0,d.t)(),x=(0,o.useRef)(C);x.current=C;var{triggerDrawMasks:E}=(0,g.z)(x,k);(0,o.useEffect)(()=>{null==C||C.changeCanvasContainerSize({width:m,height:S}),E()},[S,m,C]);var j=()=>{if(!u.T.getItem(l.u.isShowBGPaintMessage))u.T.setItem(l.u.isShowBGPaintMessage,"true"),s.h.open({content:(0,i.jsx)(c.u,{}),bindContainer:document.querySelector("#".concat(h.uS)),uiStyle:{top:"200px"},delay:3e3})};return(0,o.useEffect)(()=>{j()},[]),(0,i.jsxs)(p.t4,{children:[(0,i.jsx)(f.g,{containerWidth:_,containerHeight:v,paintWidth:y,paintHeight:b,imageWidth:m,imageHeight:S}),(0,i.jsx)(a.J,{hiddenSelect:t,hiddenDrag:r}),!w&&(0,i.jsx)(n.j,{})]})}},908900:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var i=r(772322),n=r(44062),a=r(105789),s=r.n(a),o=e=>{var{icon:t,externalClassName:r,onClick:a}=e;return(0,i.jsx)("div",{className:s()(n.Z.switchArrow,r),onClick:a,children:(0,i.jsx)(t,{size:20})})}},779166:function(e,t,r){"use strict";r.d(t,{o:function(){return S}});var i=r(862113),n=r(236348),a=r(85728),s=r(929753),o=r(772322);r(348093),r(395248);var c=r(791625),l=r(423342),u=r(218571),h=r(434712),d=r(66003),f=r(889715),p=r(150615),g=r(580374),_=r(283658),v=r(236242),y=r(150379),b={[v.Ak.ManagePlans]:e=>{var t=(0,i._)({},(0,n._)(e));return(0,o.jsx)("div",(0,s._)((0,a._)({className:y.Z.scrollView},t),{children:(0,o.jsx)(g.y,{onClose:t.onClose,reportParam:t.reportParam})}))},[v.Ak.OrderRecords]:e=>{var t=(0,i._)({},(0,n._)(e));return(0,o.jsx)("div",(0,s._)((0,a._)({className:y.Z.scrollView},t),{children:(0,o.jsx)(_.m,{})}))}};function m(e){var{onClose:t,reportParam:r}=e,i=(0,d.G)(h.t),{source:n}=r||{},[a,s]=(0,u.useState)(v.Ak.ManagePlans),l=()=>{null==t||t()};return(0,u.useEffect)(()=>{(0,v.KB)(i,{action:v.Z.Show,currentTab:a,source:n})},[]),(0,o.jsxs)("div",{className:y.Z.subscriptionManageModal,children:[(0,o.jsxs)("div",{className:y.Z.header,children:[(0,o.jsx)("div",{className:y.Z.title,children:p.ZP.t("dre_m10n_management_page_title",{},"Manage Subscription")}),(0,o.jsx)("div",{className:y.Z.closeBtn,onClick:l,children:(0,o.jsx)(f.Rnl,{className:y.Z.closeBtnIcon})})]}),(0,o.jsxs)("div",{className:y.Z.container,children:[(0,o.jsxs)(c.Z,{className:y.Z.tabs,activeTab:a,onChange:e=>{(0,v.KB)(i,{action:v.Z.ClickTab,currentTab:a,clickTab:e,source:n}),s(e)},renderTabTitle:e=>(0,o.jsx)("div",{className:y.Z.tabTitleWrapper,children:e}),children:[(0,o.jsx)(c.Z.TabPane,{title:p.ZP.t("dre_m10n_management_page_tab_manage_plan",{},"Manage Plans")},v.Ak.ManagePlans),(0,o.jsx)(c.Z.TabPane,{title:p.ZP.t("dre_m10n_management_page_tab_order_history",{},"Payment Records")},v.Ak.OrderRecords)]}),[v.Ak.ManagePlans,v.Ak.OrderRecords].map(e=>{var t=b[e];return(0,o.jsx)(t,{onClose:l,style:{display:e===a?"block":"none"},reportParam:r},e)})]})]})}function S(e){var{containerService:t,reportParam:r}=e,i=l.Z.confirm({title:null,footer:null,icon:null,simple:!0,closable:!1,maskClosable:!0,maskStyle:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},wrapClassName:y.Z.subscriptionManageModalWrapper,content:(0,o.jsx)(d.$,{instantiationService:t,children:(0,o.jsx)(m,{onClose:()=>i.close(),reportParam:r})})})}},906193:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(417281);class n{getEventParams(){return this._params}markPreProcessFinish(){return this._params.perf_pre_process_cost=Date.now()-this._clickGenerateTime,this}markGenerateFinish(){return this._params.perf_total_cost=Date.now()-this._clickGenerateTime,this}setServerTotalCost(e){return this._params.perf_server_total_cost=e,this}setBlendRefImageTypes(e){try{if("blendParams"in e){var{blendParams:t}=e;if(t&&"imagePromptList"in t){var r,{imagePromptList:n}=t;this._params.blend_ref_types=null!==(r=null==n?void 0:n.map(e=>{if(e.name!==i.UI.ControlNet)return e.name;if("controlNetList"in e){var t,r;return null!==(r=null===(t=e.controlNetList)||void 0===t?void 0:t.map(e=>e.name).join(","))&&void 0!==r?r:""}}).join(","))&&void 0!==r?r:void 0}}}catch(e){}return this}setClickGenerateTime(e){return this._clickGenerateTime=e,this}mergeParams(e){return Object.assign(this._params,e),this}constructor(e,t){this.id=e,this._params=t,this.eventName="perf_ai_image_generate_status",this._clickGenerateTime=0}}class a{static createReporter(e){if(this._reporterList.has(e))return this._reporterList.get(e);var t=new n(e,{perf_server_total_cost:0,perf_pre_process_cost:0,perf_total_cost:0,perf_unit_id:e});return this._reporterList.set(e,t),t}static getReporter(e){return this._reporterList.get(e)}static removeReporter(e){this._reporterList.delete(e)}}a._reporterList=new Map},283919:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var i=r(789786),n=r(70137),a=r(799108),s=r(379311),o=r(217448);class c{getEventParams(){var{status:e,duration:t,logId:r,errMsg:i,code:n,orderId:s,orderType:o}=this._params,{isVip:c,currentVipLevel:l}=this._vipService;return{status:e,duration:t,log_id:r,err_msg:i,code:n,order_id:s,order_type:o,is_vip:c?1:0,user_subscribe_type:c?a.TK[l]:0,credit_now:this._commercialCreditService.localCredit}}constructor(e,t,r){this._params=e,this._vipService=t,this._commercialCreditService=r,this.eventName="query_order_dev"}}function l(e,t){(0,s.S$)(e,c,[t])}c=(0,i.gn)([(0,i.fM)(1,o.q),(0,i.fM)(2,n.aG),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IParams?Object:IParams,void 0===o.q?Object:o.q,void 0===n.aG?Object:n.aG])],c)},65830:function(e,t,r){"use strict";r.d(t,{E:function(){return c},gZ:function(){return s},wU:function(){return l}});var i,n=r(379311),a=r(475578);var s=((i={}).Face="face",i.Subject="subject",i.Canny="canny",i.Depth="depth",i.Pose="pose",i.Style="style",i.Basic="basic",i.IpKeep="ip_keep",i.ByteEdit="instruct",i.Text2Image="",i.Image2Image="",i.StyleCode="",i.Area="area",i);class o{getEventParams(){var{status:e,failReason:t,type:r,importType:i,generateType:n}=this._params;return{status:e,fail_reason:t,type:r,import_type:i,generate_type:n}}constructor(e){this._params=e,this.eventName="identification_status"}}function c(e,t){(0,n.Kl)(e,o,[t])}function l(e,t,r){c(e,{status:t,type:"subject",importType:a.ge.aigcRole,failReason:r})}},630516:function(e,t,r){"use strict";r.d(t,{QV:function(){return s},c2:function(){return l},cU:function(){return o}});var i,n,a=r(379311);var s=((i={}).Show="show",i.Click="click",i.Hover="hover",i);var o=((n={}).NoCutout="no_cutout",n.Cutout="cutout",n);class c{getEventParams(){return{action:this._params.action,option:this._params.option,type:this._params.type}}constructor(e){this._params=e,this.eventName="reference_cutout_option"}}function l(e,t){(0,a.Kl)(e,c,[t])}},26227:function(e,t,r){"use strict";r.d(t,{V:function(){return v}});var i=r(876826),n=r(789786),a=r(76212),s=r(128468),o=r(417281),c=r(725854),l=r(910629),u=r(260963),h=r(649843),d=r(133438),f=r(489897),p=r(216342),g=r(247170),_=r(857611);class v extends _.h{preRecognize(e){var t=this;return(0,i._)(function*(){yield t.mutexLock.acquire();try{var r=yield t.getCacheKey(e),i=t.getRecognizeCache(r);if(i)return i;var n=t._safetyCheck(e),a=t._subjectCheck(e),s=t._image2description(e),[o,c,l]=yield Promise.all([n,a,s]),u={safetyCheckResp:o,subjectCheckResp:c,image2descriptionResp:l};return[o,c,l].every(e=>!e.stop||e.status!==h.J.NetworkError)&&t.setRecognizeCache(r,u),u}finally{t.mutexLock.release()}})()}recognize(e){var t=this;return(0,i._)(function*(){t._isCancelRecognize=!1;var r,i,n,a,{safetyCheckResp:s,subjectCheckResp:o,image2descriptionResp:c}=yield t.preRecognize(e);if(null==s?void 0:s.stop)return null!==(r=s.status)&&void 0!==r?r:h.J.NetworkError;var l=h.J.Success;return o.stop?null!==(i=o.status)&&void 0!==i?i:h.J.NetworkError:(l=null!==(n=o.status)&&void 0!==n?n:h.J.Success,c.stop)?null!==(a=c.status)&&void 0!==a?a:h.J.NetworkError:(c.description&&(0,u.z)(()=>{var r;t.imageDescription=null!==(r=c.description)&&void 0!==r?r:"",t.imageUriList=[e]}),l)})()}_safetyCheck(e){var t=this;return(0,i._)(function*(){var{ctx:r,span:i}=(0,p.VL)((0,g.Tg)(),"text-to-image-ip-keep","benchmark_test_user_upload_image_input"),n=yield t.mWebContentGenerateService.repository.requestAlgorithm(r,"benchmark_test_user_upload_image_input.image_face_ip",{params:{},fileList:[{fileUri:e}],options:{ipCheck:!0}},{babi_param:JSON.stringify({scenario:"image_video_generation",feature_key:"aigc_to_image",feature_entrance:(0,a.b2)(),feature_entrance_detail:"".concat((0,a.b2)(),"-algo_proxy")})});return(i.end(),t._isCancelRecognize)?{stop:!0,status:h.J.Cancelled}:n.response.ok?{stop:!1,status:null}:{stop:!0,status:n.logId?h.J.SafetyCheckError:h.J.NetworkError}})()}_subjectCheck(e){var t=this;return(0,i._)(function*(){var r=t.graphicToolService.graphicTool.getFaceRecognize({imageUriList:[e]},{babi_param:JSON.stringify({scenario:"image_video_generation",feature_key:"to_image_referenceimage",feature_entrance:(0,a.b2)(),feature_entrance_detail:"".concat((0,a.b2)(),"-referenceimage-human_face")})}),i=t.graphicToolService.graphicTool.getSaliencySEG({imageUriList:[e],mode:s.JU.Canvas},{babi_param:JSON.stringify({scenario:"image_video_generation",feature_key:"to_image_referenceimage",feature_entrance:(0,a.b2)(),feature_entrance_detail:"".concat((0,a.b2)(),"-referenceimage-object_detection")})}),[n,o]=yield Promise.all([r,i]);if(t._isCancelRecognize)return{stop:!0,status:h.J.Cancelled};var{response:c}=n;if(!c.ok)return{stop:!1,status:null};var{faceRecognizeList:l}=c.value,u=l[0].length,d=!1,{response:f}=o;return(f.ok&&(d=!0),u>1)?{stop:!1,status:h.J.IpKeepMultipySubject}:0!==u||d?{stop:!1,status:null}:{stop:!1,status:h.J.IpKeepNoSubject}})()}_image2description(e){var t=this;return(0,i._)(function*(){var{ctx:r,span:i}=(0,p.VL)((0,g.Tg)(),"text-to-image-ip-keep","image-to-text"),n=yield t.mWebContentGenerateService.repository.getImageDescription(r,{fileUri:e},{babi_param:JSON.stringify({scenario:"image_video_generation",feature_key:"aigc_to_image",feature_entrance:(0,a.b2)(),feature_entrance_detail:"".concat((0,a.b2)(),"-get_image_description")})});if(i.end(),t._isCancelRecognize)return{stop:!0,status:h.J.Cancelled};if(!n.response.ok)return{stop:!0,status:h.J.NetworkError};var{description:s}=n.response.value;return{stop:!1,description:s,status:h.J.Success}})()}getImagineParams(){var e,t=(0,u.ZN)(this.imageUriList);return{uri:null!==(e=null==t?void 0:t[0])&&void 0!==e?e:"",name:o.UI.IpKeep,imageUriList:t,ipKeepList:[{description:this.imageDescription,refIpWeight:this.refIpWeight/f.ux.ip.rate,refIdWeight:this.refIdWeight/f.ux.id.rate}]}}cancelRecognize(){this._isCancelRecognize=!0}updateRefIpWeight(e){this.refIpWeight=e}updateRefIdWeight(e){this.refIdWeight=e}reset(){this.imageUriList=[],this.imageDescription="",this.refIdWeight=f.ux.id.default,this.refIpWeight=f.ux.ip.default,super.reset()}initWithImagineParams(e,t){if(!!(0,d.PA)(t)){var r,{imageUriList:i,ipKeepList:n}=t,{refIpWeight:a=f.ux.ip.default,refIdWeight:s=f.ux.id.default,description:o}=null!==(r=n[0])&&void 0!==r?r:{};(0,u.z)(()=>{this.imageUriList=i,this.refIpWeight=a*f.ux.ip.rate,this.refIdWeight=s*f.ux.id.rate,this.imageDescription=o})}}getRecognizeStatus(e){return e>1?h.J.IpKeepMultipySubject:h.J.Success}get isRecognized(){return 0!==this.imageDescription.length}constructor(e,t){super(),this.graphicToolService=e,this.mWebContentGenerateService=t,this.imageUriList=[],this.refIpWeight=f.ux.ip.default,this.refIdWeight=f.ux.id.default,this.imageDescription="",this._isCancelRecognize=!1,(0,u.rC)(this)}}(0,n.gn)([u.LO,(0,n.w6)("design:type",Array)],v.prototype,"imageUriList",void 0),(0,n.gn)([u.LO,(0,n.w6)("design:type",Number)],v.prototype,"refIpWeight",void 0),(0,n.gn)([u.LO,(0,n.w6)("design:type",Number)],v.prototype,"refIdWeight",void 0),(0,n.gn)([u.LO],v.prototype,"imageDescription",void 0),(0,n.gn)([u.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Number]),(0,n.w6)("design:returntype",void 0)],v.prototype,"updateRefIpWeight",null),(0,n.gn)([u.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Number]),(0,n.w6)("design:returntype",void 0)],v.prototype,"updateRefIdWeight",null),(0,n.gn)([u.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",void 0)],v.prototype,"reset",null),(0,n.gn)([u.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String,"undefined"==typeof TImagineModalAbilityParams?Object:TImagineModalAbilityParams]),(0,n.w6)("design:returntype",void 0)],v.prototype,"initWithImagineParams",null),(0,n.gn)([u.Fl,(0,n.w6)("design:type",void 0),(0,n.w6)("design:paramtypes",[])],v.prototype,"isRecognized",null),v=(0,n.gn)([(0,n.fM)(0,c.fQ),(0,n.fM)(1,l.M),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===c.fQ?Object:c.fQ,void 0===l.M?Object:l.M])],v)},544303:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});var i=r(940140),n={getRecognizeFace:{hostNameType:i.b_.Default,url:"/mweb/v1/face_recognize"},getSaliencySEG:{hostNameType:i.b_.Default,url:"/mweb/v1/saliency_seg"},generateBlendPreview:{HostNameType:i.b_.Default,url:"/mweb/v1/blend_preview"},poseDetect:{HostNameType:i.b_.Default,url:"/mweb/v1/pose_detect"}}},639416:function(){},641601:function(e){"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')}}]);