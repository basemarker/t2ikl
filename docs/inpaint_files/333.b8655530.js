(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["333"],{439610:function(e,t){"use strict";t.Z={graphicToolIconActive:"graphicToolIconActive-igwsrT",btnActive:"btnActive-eNhHmT",graphicToolIconHover:"graphicToolIconHover-g3sqUH",btn:"btn-F1TfsL",text:"text-Bl55D8"}},795592:function(e,t){"use strict";t.Z={slider:"slider-J3tsYr","with-marks":"with-marks-ied0k_",withMarks:"with-marks-ied0k_","slider-wrapper":"slider-wrapper-vl1eYx",sliderWrapper:"slider-wrapper-vl1eYx","slider-road":"slider-road-kOaneB",sliderRoad:"slider-road-kOaneB","slider-bar":"slider-bar-xlIxQa",sliderBar:"slider-bar-xlIxQa",active:"active-ir2XkG","slider-button-bar":"slider-button-bar-AllP0w",sliderButtonBar:"slider-button-bar-AllP0w","slider-road-disable":"slider-road-disable-cFBEZF",sliderRoadDisable:"slider-road-disable-cFBEZF","slider-button-brick":"slider-button-brick-vgwNcf",sliderButtonBrick:"slider-button-brick-vgwNcf","slider-dot":"slider-dot-asasXY",sliderDot:"slider-dot-asasXY"}},585202:function(e,t,r){var i=t;i._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0),t[e[r]]=r}),t},i.der=r(994440)},409789:function(e,t,r){var i=r(140860).Buffer;function n(e,t,r){var n=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([r?t:n])]),n}t.encrypt=function(e,t,r){for(var a=t.length,s=i.allocUnsafe(a),o=-1;++o<a;)s[o]=n(e,t[o],r);return s}},922539:function(e,t,r){var i=r(869298),n=r(140860).Buffer,a=r(23420);function s(e,t,r,s){a.call(this),this._cipher=new i.AES(t),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._mode=e}r(32016)(s,a),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},103722:function(e,t,r){"use strict";var i=r(422555),n=r(32016),a=r(757426),s=r(150852);function o(){this.tmp=[,,],this.keys=null}function l(e){s.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}n(l,s),e.exports=l,l.create=function(e){return new l(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(e,t){e.keys=Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var r=a.readUInt32BE(t,0),n=a.readUInt32BE(t,4);a.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=c[s>>>1];r=a.r28shl(r,o),n=a.r28shl(n,o),a.pc2(r,n,e.keys,s)}},l.prototype._update=function(e,t,r,i){var n=this._desState,s=a.readUInt32BE(e,t),o=a.readUInt32BE(e,t+4);a.ip(s,o,n.tmp,0),s=n.tmp[0],o=n.tmp[1],"encrypt"===this.type?this._encrypt(n,s,o,n.tmp,0):this._decrypt(n,s,o,n.tmp,0),s=n.tmp[0],o=n.tmp[1],a.writeUInt32BE(r,s,i),a.writeUInt32BE(r,o,i+4)},l.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,i=t;i<e.length;i++)e[i]=r;return!0},l.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)i.equal(e[r],t);return e.slice(0,e.length-t)},l.prototype._encrypt=function(e,t,r,i,n){for(var s=t,o=r,l=0;l<e.keys.length;l+=2){var c=e.keys[l],d=e.keys[l+1];a.expand(o,e.tmp,0),c^=e.tmp[0],d^=e.tmp[1];var u=a.substitute(c,d),h=a.permute(u),p=o;o=(s^h)>>>0,s=p}a.rip(o,s,i,n)},l.prototype._decrypt=function(e,t,r,i,n){for(var s=r,o=t,l=e.keys.length-2;l>=0;l-=2){var c=e.keys[l],d=e.keys[l+1];a.expand(s,e.tmp,0),c^=e.tmp[0],d^=e.tmp[1];var u=a.substitute(c,d),h=a.permute(u),p=s;s=(o^h)>>>0,o=p}a.rip(s,o,i,n)}},604458:function(e,t,r){"use strict";var i=r(984826),n=r(32016),a=r(105634),s=r(252372);function o(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(e,t,r){a.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}n(o,a),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(l,a.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},o.prototype.point=function(e,t){return new l(this,e,t)},o.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(e,t){return new l(e,t[0],t[1]||e.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},l.prototype.add=function(){throw Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=n.redMul(i),o=t.z.redMul(a.redAdd(s).redSqr()),l=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,l)},l.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=this,a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var s=a.length-1;s>=0;s--)0===a[s]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},l.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},294374:function(e,t,r){var i=r(318042),n=r(866818),a=r(673664),s=r(140860).Buffer,o=r(947889),l=r(365330),c=r(414712),d=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var i=p(e),n="sha512"===e||"sha384"===e?128:64;t.length>n?t=i(t):t.length<n&&(t=s.concat([t,d],n));for(var a=s.allocUnsafe(n+u[e]),o=s.allocUnsafe(n+u[e]),l=0;l<n;l++)a[l]=54^t[l],o[l]=92^t[l];var c=s.allocUnsafe(n+r+4);a.copy(c,0,0,n),this.ipad1=c,this.ipad2=a,this.opad=o,this.alg=e,this.blocksize=n,this.hash=i,this.size=u[e]}function p(e){function t(t){return a(e).update(t).digest()}function r(e){return new n().update(e).digest()}return"rmd160"===e||"ripemd160"===e?r:"md5"===e?i:t}function f(e,t,r,i,n){o(r,i),e=c(e,l,"Password"),t=c(t,l,"Salt");var a=new h(n=n||"sha1",e,t.length),d=s.allocUnsafe(i),p=s.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var f=0,m=u[n],v=Math.ceil(i/m),_=1;_<=v;_++){p.writeUInt32BE(_,t.length);for(var g=a.run(p,a.ipad1),y=g,b=1;b<r;b++){y=a.run(y,a.ipad2);for(var x=0;x<m;x++)g[x]^=y[x]}g.copy(d,f),f+=m}return d}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=f},983015:function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var n=r(225877).Buffer,a=r(403204);function s(e,t,r){e.copy(t,r)}e.exports=function(){function e(){i(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)s(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},73411:function(e,t,r){"use strict";var i=r(499845),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var a=r(318200),s=r(623832);r(32016)(d,a);for(var o=n(s.prototype),l=0;l<o.length;l++){var c=o[l];!d.prototype[c]&&(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){!this._writableState.ended&&i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(void 0!==this._readableState&&void 0!==this._writableState)this._readableState.destroyed=e,this._writableState.destroyed=e}})},450099:function(e,t,r){"use strict";e.exports=d;var i=r(376298).codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,l=r(73411);function c(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(32016)(d,l),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new n("_transform()"))},d.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},640916:function(e,t,r){"use strict";var i=r(376298).codes.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function a(){}function s(e){return e.setHeader&&"function"==typeof e.abort}function o(e,t,r){if("function"==typeof t)return o(e,null,t);!t&&(t={}),r=n(r||a);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,d=function(){!e.writable&&h()},u=e._writableState&&e._writableState.finished,h=function(){c=!1,u=!0,!l&&r.call(e)},p=e._readableState&&e._readableState.endEmitted,f=function(){l=!1,p=!0,!c&&r.call(e)},m=function(t){r.call(e,t)},v=function(){var t;return l&&!p?((!e._readableState||!e._readableState.ended)&&(t=new i),r.call(e,t)):c&&!u?((!e._writableState||!e._writableState.ended)&&(t=new i),r.call(e,t)):void 0},_=function(){e.req.on("finish",h)};return s(e)?(e.on("complete",h),e.on("abort",v),e.req?_():e.on("request",_)):c&&!e._writableState&&(e.on("end",d),e.on("close",d)),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",v),function(){e.removeListener("complete",h),e.removeListener("abort",v),e.removeListener("request",_),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("end",f),e.removeListener("error",m),e.removeListener("close",v)}}e.exports=o},235521:function(e,t,r){(t=e.exports=r(318200)).Stream=t,t.Readable=t,t.Writable=r(623832),t.Duplex=r(73411),t.Transform=r(450099),t.PassThrough=r(423764),t.finished=r(640916),t.pipeline=r(221902)},881606:function(e,t,r){var i=r(32016),n=r(696772),a=r(140860).Buffer,s=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],o=Array(80);function l(){this.init(),this._w=o,n.call(this,64,56)}function c(e){return e<<1|e>>>31}function d(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function h(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(l,n),l.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},l.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,a=0|this._d,o=0|this._e,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<80;++l)t[l]=c(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var p=0;p<80;++p){var f=~~(p/20),m=d(r)+h(f,i,n,a)+o+t[p]+s[f]|0;o=a,a=n,n=u(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0},l.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},185608:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");!t.style&&(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var a=Object_keys(r),s=i.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=r[t])}),forEach(globals,function(t){!(t in e)&&defineProp(e,t,r[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},595189:function(e,t,r){"use strict";r.d(t,{k:function(){return i}});var i={imagine:"fromImagine - "}},44938:function(e,t,r){"use strict";r.d(t,{O:function(){return n},u:function(){return i}});var i={ugCampaignKey:"mweb_campaign_key",ugInviteParams:"mweb_invite_params",ugSecFromUid:"mweb_sec_from_uid",authorInviteCode:"mweb_author_invite_code",authorInviteCodeHasResumedPrefix:"mweb_author_invite_code_has_resumed_",hasFinishVideoQuestion:"mweb_has_finish_video_question",userPortraitSurveyTriggerCount:"user_portrait_trigger_count",userPortraitSurveyHasDone:"user_portrait_has_done",hasDownloadDialogAutoShow:"has_download_dialog_auto_show",userPortraitSurvey1QuestionOptionKey:"user_portrait_survey_first_question_option_key",inpaintBrushSize:"inpaint_brush_size",hasPublished:"has_published",operationAuthorityTypeHasConsumedRedDot:"operation_authority_type_has_consumed_redDot",isBeenOpenedInpaint:"is_been_opened_inpaint",isAgreeUploadImageLaw:"is_agree_upload_image_law",bgPaintBrushSize:"bg_paint_brush_size",isShowBGPaintMessage:"is_show_bg_paint_message",vipExpiryTooltipShowedTime:"vip_expiry_reminder_showed_time",loginStatus:"LV_LOGIN_STATUS",isRedirectFromUnLoginStatus:"is_redirect_from_unlogin_status",isShowCanvasEditorGuide:"is_show_canvas_editor_guide",canvasEditorHdHoverTipsShowCount:"canvas_editor_hd_hover_tips_show_count",isShowStoryEditorTimelineUploadGuide:"is_show_story_editor_timeline_upload_guide",isShowStoryEditorImageGenerateVideoGuide:"is_show_story_editor_image_generate_video_guide",storyboardBackupCollapseStatus:"storyboard_backup_collapse_status",isUsedRelaxMode:"is_used_relax_mode",storyboardTimelineMode:"storyboard_timeline_mode",firstFreeTrialMark:"firstFreeTrialMark",freeTrialConsumedMark:"freeTrialConsumedMark",previewDiscountMark:"previewDiscountMark",previewLimitNotRelaxMark:"previewLimitNotRelaxMark",relaxLimitNotPreviewMark:"relaxLimitNotPreviewMark",previewUpscaleMark:"previewUpscaleMark",groupFeedSelectorMark:"groupFeedSelectorMark",hasOpenedStyleModal:"has_open_style_modal",latestStyleControlId:"latestStyleControlId",isShowLyricsEditorGuide:"is_show_lyrics_editor_guide",userPortraitSurveyAnswer:"user_portrait_survey_answer",imageEditorItemId2DraftId:"image_editor_item_id_to_draft_id",isShowImageEditorGuide:"is_show_image_editor_guide",isShowImageEttaGuide:"is_show_image_etta_guide",receiveCreditsTime:"receive_credits_cache_time",ugNewCampaignDialog:"ug_new_campaign_dialog",ugNewCampaignModelSuccess:"ug_new_campaign_model_success",ugUnfinishedBeforeExpireDialog:"ugUnfinishedBeforeExpireDialog",ugUnClaimedBeforeExpireDialog:"ugUnClaimedBeforeExpireDialog",ugUnClaimedAfterOfflineDialog:"ugUnClaimedAfterOfflineDialog",ugInviteBackDialog:"ugInviteBackDialog",hasShowProductHuntDialog:"has_show_product_hunt_dialog",hiddenCreateToneNewMark:"hidden_create_tone_new_mark",lipSyncMasterFirstFreeTrialMark:"lip_sync_master_first_free_trial_mark"},n=function(e){return e.True="true",e.False="false",e}({})},785774:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var i=r(772322),n=r(862171),a=r(827955),s=e=>{var{content:t,style:r={}}=e;return(0,i.jsx)("div",{className:n.Z.container,style:r,children:t})};class o{static open(e){var{content:t,delay:r=3e3,bindContainer:n=document.body,uiStyle:o}=e;if(!!n){var l=document.createElement("div");n.appendChild(l);var c=(0,a.s)((0,i.jsx)(s,{content:t,style:o}),l);setTimeout(()=>{c.destroy(),n.removeChild(l),l=null},r)}}}},659762:function(e,t,r){"use strict";r.d(t,{n:function(){return m}});var i=r(772322);r(218571);var n=r(128468),a=r(150615),s=r(733437),o=r(640037),l=r(475578),c=r(668325),d=r(998463),u=r(392396),h=r(889715),p=r(945846),f=r(466740),m=e=>{var{generateImageParamsManager:t,isUseOriginRatio:r,page:m,secondPage:v,onUpdate:_,onSwitchUseOriginRatio:g}=e,y=(0,s.k)(t,e=>({largeImageInfo:e.largeImageInfo,isDimensionLocked:e.isDimensionLocked,selectType:e.imageRatio,mode:e.mode,canCustomSize:e.canCustomSize})),b=(0,f.lS)(),{largeImageInfo:x,selectType:S,mode:w,isDimensionLocked:C,canCustomSize:I}=null!=y?y:{},k=w===n.JU.Story?d.sY:d.RT,R=e=>{null==t||t.updateImageRatio(e),(0,c.T)(b,{page:m,secondPage:v,scale:l.lS[e]}),null==_||_(e)},N=()=>{null==g||g(),(0,p.W)(b,{action:l.tz.Click})};return(0,i.jsxs)("div",{className:u.Z.container,children:[(0,i.jsxs)("div",{className:u.Z.titleContainer,children:[(0,i.jsx)("div",{className:u.Z.title,children:a.oc.t("tool_adjust_ration",{},"Aspect ratio")}),I&&(0,i.jsxs)("div",{className:u.Z.sameRatio,onClick:N,children:[r?(0,i.jsx)(h.eOZ,{className:u.Z.selectIcon}):(0,i.jsx)(h.uCw,{className:u.Z.selectIcon}),(0,i.jsx)("span",{children:a.oc.t("ratio_ratio_align")})]})]}),(0,i.jsx)("div",{className:u.Z.ratioConfigContainer,children:(0,i.jsx)(o.u,{configList:k,isDimensionLocked:C,largeImageInfo:x,handleUpdateRatio:R})})]})}},22164:function(e,t,r){"use strict";r.d(t,{Bq:function(){return S},GV:function(){return R},Pm:function(){return N},Um:function(){return I},bz:function(){return b},rx:function(){return C},x_:function(){return k}});var i=r(876826),n=r(85728),a=r(929753),s=r(216342),o=r(224671),l=r(417281),c=r(749314),d=r(952739),u=r(150615),h=r(93231),p=r(108982),f=r(507801),m=r(489897),v=r(475578),_=r(461874),g=r(369617),y=2;function b(e){if(!e)return;var{largeImageInfo:t,imageRatio:r,isDimensionLocked:i,isUseOriginRatio:n,canCustomSize:a}=e;if(!!a){var s={widthValue:t.width,heightValue:t.height,isLock:i,isSameRatio:n};return!(0,_.rh)(t)&&(s.ratioValue=v.lS[null!=r?r:o.jP.OneOne]),s}}function x(e){for(var t of e)if(t.name===l.UI.StyleReference){var r,i,n,a,s=(null==t?void 0:null===(r=t.styleReference)||void 0===r?void 0:r.styleType)?f.uK[null==t?void 0:null===(i=t.styleReference)||void 0===i?void 0:i.styleType]:void 0;if(s!==f.uK[c.l.Preset])return{styleSource:s};return{presetStyleId:null==t?void 0:null===(n=t.styleReference)||void 0===n?void 0:n.styleItemId,presetStyleName:null==t?void 0:null===(a=t.styleReference)||void 0===a?void 0:a.styleTitle,styleSource:s}}return{}}var S=(0,s.Tx)("generateContent",function(){var e=(0,i._)(function*(e,t,r){var{instance:i,reportParam:n,reportService:a,onGenerateContentUpdate:s,generateImageParamsManager:o,prompt:l,promptList:c,containerService:d}=t,h=null!=c?c:o.generatePromptParams.imagePromptList;if(i.isPendingGenerate){g.s.warning(u.oc.t("attempt_max",{},"Too many attempts. Try again later."));return}if(i.increasePendingGenerateCount(),null==h?void 0:h.length)p=null!==(m=yield i.generateBlendContent(e,{reportParam:n,onGenerateContentUpdate:s,isQueue:!0},r))&&void 0!==m?m:null;else{var p,m,v,_={prompt:l};p=null!==(v=yield i.generateContent(e,{reportParam:n,onGenerateContentUpdate:s,isQueue:!0},r,_))&&void 0!==v?v:null}(0,f.TQ)({result:p,reportService:a,customSizeReportParams:b(o),clickGenerateReportParam:n,customStyleReportParams:x(h),containerService:d}),i.decreasePendingGenerateCount()});return function(t,r,i){return e.apply(this,arguments)}}());function w(e,t){var r=e;if(!r&&t){var i=t.name===p.s.ControlNet,n=t.name===p.s.BgPaint,a=0,s=1,o=3,l=1;if("imageUriList"in t){if(n){var c,d,u,h,f,m,v=t.imageUriList.length===y;r=null!==(m=null===(f=t.imageUriList)||void 0===f?void 0:f[v?l:o])&&void 0!==m?m:""}else r=i?null!==(d=null===(c=t.imageUriList)||void 0===c?void 0:c[s])&&void 0!==d?d:"":null!==(h=null===(u=t.imageUriList)||void 0===u?void 0:u[a])&&void 0!==h?h:""}else r=""}return null!=r?r:""}function C(e){var{containerService:t,onModalSave:r,imageInfo:i,params:s,imcConfigService:o,displayAbilities:l,imagePromptList:c,generateImageParamsManager:d,onModalCancel:u}=e,{uri:p,url:f,file:m,id:v,width:_=0,height:g=0,coverUrl:y}=i,b=w(p,s);if(!!(m||f)){var x=m?{file:m}:{url:f,uri:b,width:_,height:g};(0,h.Y)({containerService:t,image:x,params:s,imcConfigService:o,displayAbilities:l,imagePromptList:c,generateImageParamsManager:d,onSave(e){if(!!e)r((0,a._)((0,n._)({},e),{id:v,url:f,coverUrl:y||f,uri:e.uri,width:_,height:g}))},onCancel:u})}}function I(e){var t,r=e.map(e=>{var t,r,i;return null!==(i=null!==(r=null!==(t=e.uri)&&void 0!==t?t:e.coverUrl)&&void 0!==r?r:e.url)&&void 0!==i?i:""}),i={referenceCnt:null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0,ipReference:0,faceReferenceCnt:0,subjectReferenceCnt:0,inspirationReferenceCnt:0,cannyReferenceCnt:0,depthReferenceCnt:0,poseReferenceCnt:0,styleReferenceCnt:0,instructReferenceCnt:0,blendImageUriList:r.join(";"),templateStyleCode:void 0};return null==e||e.forEach(e=>{switch(e.name){case l.UI.FaceGan:i.faceReferenceCnt+=1;break;case l.UI.BgPaint:i.subjectReferenceCnt+=1;break;case l.UI.BasicBlend:i.inspirationReferenceCnt+=1;break;case l.UI.IpKeep:var t=e.ipKeepList[0];i.ipReference+=1,i.ipReferenceLevel=t.refIpWeight*m.ux.ip.rate,i.idReferenceLevel=t.refIdWeight*m.ux.id.rate;break;case l.UI.StyleReference:i.styleReferenceCnt+=1,i.styleReferenceLevel=null===(a=e.imageWeightList)||void 0===a?void 0:a[0],i.styleSource=(null==e?void 0:null===(s=e.styleReference)||void 0===s?void 0:s.styleType)?f.uK[null==e?void 0:null===(o=e.styleReference)||void 0===o?void 0:o.styleType]:void 0,i.styleSource===f.uK[c.l.Preset]&&(i.presetStyleId=null==e?void 0:null===(d=e.styleReference)||void 0===d?void 0:d.styleItemId,i.presetStyleName=null==e?void 0:null===(u=e.styleReference)||void 0===u?void 0:u.styleTitle);break;case l.UI.ByteEdit:i.instructReferenceCnt+=1,i.instructReferenceLevel="strength"in e?(null!==(h=e.strength)&&void 0!==h?h:0)*m.cR.max:0;break;case l.UI.StyleCode:var{assetCode:r}=e.commonAsset;i.templateStyleCode=i.templateStyleCode?"".concat(i.templateStyleCode,",").concat(r):r}if(null===(n=e.controlNetList)||void 0===n||n.forEach(e=>{var t,r=(null!==(t=e.strength)&&void 0!==t?t:0)*m.XR.max;switch(e.name){case l.kR.ControlNetCanny:i.cannyReferenceCnt+=1,i.cannyReferenceLevel=r;break;case l.kR.ControlNetDepth:i.depthReferenceCnt+=1,i.depthReferenceLevel=r;break;case l.kR.ControlNetPose:i.poseReferenceCnt+=1,i.poseReferenceLevel=r}}),e.name===l.UI.ControlNet){var n,a,s,o,d,u,h,_,g,y,b=JSON.parse(null!==(y=e.extra)&&void 0!==y?y:"[]");null==b||null===(_=(g=b.filter(Boolean)).forEach)||void 0===_||_.call(g,e=>{var t=e.fitMode===p.G.CenterCrop?v.eD.True:v.eD.False;switch(e.name){case l.kR.ControlNetCanny:i.cannyCutout=t;break;case l.kR.ControlNetDepth:i.depthCutout=t;break;case l.kR.ControlNetPose:i.poseCutout=t}})}}),i}function k(e){for(var t of e)if(t.name===l.UI.IpKeep){var r,i;return{aiRoleCount:t.ipKeepList.length,roleId:t.ipKeepList.map(e=>e.characterId).join(",")||void 0,roleFaceIntensity:null===(r=t.ipKeepList[0])||void 0===r?void 0:r.refIdWeight,roleSubjectIntensity:null===(i=t.ipKeepList[0])||void 0===i?void 0:i.refIpWeight}}return{aiRoleCount:0}}function R(e,t){var r={widthValue:t.width,heightValue:t.height};if(e&&!(0,_.rh)(t)){var i=(0,d.Ir)(e,t.width,t.height);i&&(r.ratioValue=v.lS[i])}return r}var N=e=>e.find(e=>e.name===l.UI.IpKeep)},381417:function(e,t,r){"use strict";r.d(t,{oM:()=>A,Hp:()=>B});var i=r("876826"),n=r("772322");r("972297"),r("348093"),r("937287"),r("395248");var a=r("293793"),s=r("746022"),o=r("791625"),l=r("74494"),c=r("423342"),d=r("2910"),u=r("218571"),h=r("105789"),p=r.n(h),f=r("52533"),m=r("150615"),v=r("608358"),_=r("66003"),g=r("216342"),y=r("247170"),b=r("733437"),x=r("889715"),S=r("417699"),w=r("834634"),C=r("405013"),I=r("85728"),k=r("379311"),R=function(e){return e.All="all",e.Consume="consume",e.Get="get",e}({});class N{getEventParams(){return(0,I._)({},this._params)}constructor(e){this._params=e,this.eventName="credits_detail"}}function Z(e,t){(0,k.Kl)(e,N,[t])}function j(e){var{dep:t,scrollElement:r,onReachEnd:i,triggerLimit:n=200}=e,s=(0,u.useRef)(!1);return(0,u.useEffect)(()=>{s.current=!1},[t]),(0,a.default)(()=>{r&&!s.current&&r.scrollHeight-r.scrollTop<=r.clientHeight+n&&(s.current=!0,null==i||i())})}var T=r("758318"),P=r("590045"),L=r("932616"),E=r("799108"),M=r("70137"),U=94,D=e=>{var{historyList:t,loading:r,hasMore:i}=e;return(null==t?void 0:t.length)||!r?(0,f.Z)(t)||0===t.length?(0,n.jsxs)("div",{className:T.Z.placeholder,children:[(0,n.jsx)("div",{className:T.Z.placeholderTitle,children:m.ZP.t("dre_m10n_credits_empty_title",{},"No credit transactions yet")}),(0,n.jsx)("div",{className:T.Z.placeholderText,children:m.ZP.t("dre_m10n_credits_empty_desc",{},"When you consume or gain credits, the transaction will appear here.")})]}):(0,n.jsxs)("div",{className:T.Z.creditHistory,children:[null==t?void 0:t.map((e,t)=>{var{extraContent:r,title:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:T.Z.historyItem,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:T.Z.historyTitle,children:m.ZP.t(i,{},i)}),(0,n.jsx)("div",{className:T.Z.historyTime,children:(0,C.vc)("yyyy-MM-dd hh:mm",1e3*e.createTime)})]}),(0,n.jsxs)("div",{className:T.Z.historyAmountWrapper,children:[(0,n.jsxs)("div",{className:p()(T.Z.historyAmount,{[T.Z.issued]:e.historyType===w.P.ISSUED}),children:[e.historyType===w.P.ISSUED?"+":"-",e.amount]}),e.extraContent&&(0,n.jsx)("div",{className:T.Z.extraContent,children:m.ZP.t(r,{},r)})]})]},e.submitId)})}),!i&&(0,n.jsx)("div",{className:T.Z.noMoreContent,children:m.ZP.t("dre_m10n_credit_balance_end",{},"You\u2019ve reached the end")})]}):(0,n.jsx)(l.Z,{className:T.Z.spin,size:24})},A=e=>{var t,{containerService:r,showBackBtn:i,onClose:l}=e,c=(0,v.ko)(r,M.aG),h=(0,v.ko)(r,S.e),p=(0,u.useRef)(null),[f,_]=(0,u.useState)(!1),w=(0,u.useRef)(null),I=(0,u.useRef)(null),k=(0,u.useRef)(null),N=(0,u.useRef)({[R.All]:!1,[R.Consume]:!1,[R.Get]:!1}),A=(0,u.useRef)(82),{isOversea:B}=h,{creditInfo:O,historyType:H,loadingCreditHistory:z,creditHistoryList:F,creditsDetail:W}=null!==(t=(0,b.k)(c,e=>({creditInfo:e.creditInfo,creditHistoryList:e.creditHistoryList,historyType:e.historyType,loadingCreditHistory:e.loadingCreditHistory,creditsDetail:e.creditsDetail})))&&void 0!==t?t:{},{vipCredit:G,purchaseCredit:q,giftCredit:V}=null!=O?O:{},K=(0,u.useMemo)(()=>{var e,t,r;return[{key:"vipCredits",creditAmount:G||"0",title:m.ZP.t("dre_m10n_credits_sub",{},"Subscription credits"),hasDetail:!!((null==W?void 0:W.vipCredits)||[]).length,detailList:(null==W?void 0:null===(e=W.vipCredits)||void 0===e?void 0:e.sort((e,t)=>e.creditsLifeEnd-t.creditsLifeEnd))||[]},{key:"purchaseCredits",creditAmount:q||"0",title:m.ZP.t("dre_m10n_credits_purchased",{},"Purchased credits"),hasDetail:!!((null==W?void 0:W.purchaseCredits)||[]).length,detailList:(null==W?void 0:null===(t=W.purchaseCredits)||void 0===t?void 0:t.sort((e,t)=>e.creditsLifeEnd-t.creditsLifeEnd))||[]},{key:"giftCredits",creditAmount:V||"0",title:m.ZP.t("dre_m10n_credits_bonus",{},"Bonus credits"),hasDetail:!!((null==W?void 0:W.giftCredits)||[]).length,detailList:(null==W?void 0:null===(r=W.giftCredits)||void 0===r?void 0:r.sort((e,t)=>e.creditsLifeEnd-t.creditsLifeEnd))||[]}]},[V,q,G,W]),X=(0,u.useMemo)(()=>({key:"allCredit",creditAmount:(G||0)+(q||0)+(V||0)||"0",title:m.ZP.t("dre_m10n_credits_detail",{},"Residual credits"),hasDetail:!1}),[V,q,G]),Y=(0,u.useMemo)(()=>f&&p.current?p.current:void 0,[f]),Q=(0,u.useCallback)(e=>{c&&(0,g.Rr)(t=>c.changeHistoryType(t,e,!1),{contextType:y.zO.UserInput,processName:"CreditHistoryModal",operationName:"handleTabChange"});var t,i=A.current,n=null!==(t=null==Y?void 0:Y.scrollTop)&&void 0!==t?t:0;Y&&n>i&&(0,P.tr)(Y,-(n-i)),e!==M.Pi.CONSUMED||N.current[R.Consume]?e===M.Pi.ISSUED&&!N.current[R.Get]&&(Z(r,{tab:R.Get}),N.current[R.Get]=!0):(Z(r,{tab:R.Consume}),N.current[R.Consume]=!0)},[c,r,Y]),J=j({scrollElement:Y,dep:F,onReachEnd:(0,u.useCallback)(()=>{if(!!(null==c?void 0:c.hasMoreCreditHistory()))null==c||c.loadMoreCreditHistory((0,y.VM)())},[c]),triggerLimit:400}),$=(0,u.useMemo)(()=>null==c?void 0:c.hasMoreCreditHistory(),[F]);(0,u.useEffect)(()=>(_(!0),()=>{c.resetHistoryData()}),[]);var ee=(0,a.default)(e=>{var t=e.target,r=A.current,i=U+r,n=(r-t.scrollTop)/r;w.current&&(w.current.style.opacity=n>0?n.toString():"0",w.current.style.height="".concat(i-t.scrollTop,"px")),J()}),et=()=>{if(I.current){var e=I.current.clientHeight;A.current=e,k.current&&(k.current.style.marginTop="".concat(e,"px")),w.current&&(w.current.style.height="".concat(U+e,"px"))}};(0,u.useEffect)(()=>{et()},[]),(0,u.useEffect)(()=>{!N.current[R.All]&&(Z(r,{tab:R.All}),N.current[R.All]=!0)},[]);var er=(0,L.h)(),ei=e=>"vipLevel"in e,en=e=>{var t=()=>(0,n.jsxs)("div",{className:T.Z.detailPopoverContent,children:[(0,n.jsx)("div",{className:T.Z.title,children:e.title}),(0,n.jsx)("div",{className:T.Z.scrollView,children:(0,n.jsx)("div",{className:T.Z.detailList,children:(e.detailList||[]).map((e,t)=>{var r;return(0,n.jsxs)("div",{className:T.Z.detailItem,children:[ei(e)&&(0,n.jsxs)("div",{className:T.Z.detailItemInfo,children:[(0,n.jsx)("div",{className:T.Z.detailItemInfoTitle,children:m.ZP.t("dre_m10n_credits_detail_info1",{},"Plan")}),(0,n.jsx)("div",{className:T.Z.detailItemInfoValue,children:(0,E.sG)({level:null!==(r=e.vipLevel)&&void 0!==r?r:""})})]}),(0,n.jsxs)("div",{className:T.Z.detailItemInfo,children:[(0,n.jsx)("div",{className:T.Z.detailItemInfoTitle,children:m.ZP.t("dre_m10n_credits_detail_info2",{},"Residual credits")}),(0,n.jsx)("div",{className:T.Z.detailItemInfoValue,children:e.residualCredits})]}),(0,n.jsxs)("div",{className:T.Z.detailItemInfo,children:[(0,n.jsx)("div",{className:T.Z.detailItemInfoTitle,children:m.ZP.t("dre_m10n_credits_detail_info3",{},"Credits ends")}),(0,n.jsx)("div",{className:T.Z.detailItemInfoValue,children:(0,C.vc)("yyyy-MM-dd hh:mm",1e3*e.creditsLifeEnd)})]})]},t)})})})]});return(0,n.jsxs)("div",{className:T.Z.creditInfoItem,children:[(0,n.jsx)("div",{className:T.Z.creditInfoItemTitle,children:e.title}),(0,n.jsxs)("div",{className:T.Z.creditInfoItemAmount,children:[(0,n.jsx)("div",{className:T.Z.creditInfoItemNum,children:e.creditAmount}),e.hasDetail&&(0,n.jsx)(s.Z,{className:T.Z.creditInfoDetailPopover,trigger:"hover",position:"bottom",content:t(),triggerProps:{showArrow:!1},getPopupContainer:()=>document.body,children:(0,n.jsx)(x.oUg,{className:T.Z.creditInfoItemDetailIcon})})]})]},e.key)},ea=e=>(0,n.jsxs)("div",{className:T.Z.creditCalcSymbolWrapper,children:[(0,n.jsx)("div",{className:T.Z.creditCalcSymbolLeft}),(0,n.jsx)("div",{className:T.Z.creditCalcSymbol,children:e}),(0,n.jsx)("div",{className:T.Z.creditCalcSymbolRight})]});return(0,n.jsxs)("div",{className:T.Z.creditHistoryModal,children:[(0,n.jsxs)("div",{className:T.Z.action,children:[i?(0,n.jsxs)("div",{className:T.Z.backBtn,onClick:l,children:[(0,n.jsx)(x.USi,{className:T.Z.backBtnIcon}),(0,n.jsx)("span",{children:m.ZP.t("dre_m10n_payment_back",{},"Back")})]}):(0,n.jsx)("div",{className:T.Z.modalTitle,children:m.ZP.t("dre_m10n_credits_balance",{},"Credit balance")}),!i&&(0,n.jsx)("div",{className:T.Z.closeBtn,onClick:l,children:(0,n.jsx)(x.Rnl,{className:T.Z.closeBtnIcon})})]}),(0,n.jsx)("div",{className:T.Z.header,ref:w,children:(0,n.jsxs)("div",{className:T.Z.creditInfoWrapper,ref:I,children:[en(X),null==K?void 0:K.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[0===t?ea("="):ea("+"),en(e)]}))]})}),(0,n.jsx)("div",{className:T.Z.contentWrapper,onScroll:ee,ref:p,children:(0,n.jsxs)("div",{className:T.Z.content,ref:k,children:[(0,n.jsxs)(o.Z,{className:T.Z.tabs,activeTab:H,onChange:Q,renderTabTitle:e=>(0,n.jsx)("div",{className:T.Z.tabTitleWrapper,children:e}),children:[(0,n.jsx)(o.Z.TabPane,{title:m.ZP.t("dre_m10n_credits_all",{},"All")},M.Pi.NOT_LIMITED),(0,n.jsx)(o.Z.TabPane,{title:m.ZP.t("dre_m10n_credits_used",{},"Consumed")},M.Pi.CONSUMED),(0,n.jsx)(o.Z.TabPane,{title:m.ZP.t("dre_m10n_credits_gained",{},"Gained")},M.Pi.ISSUED)]}),(0,n.jsx)("div",{className:T.Z.creditHistoryWrapper,children:(0,n.jsx)(D,{historyList:F,loading:z,hasMore:$})})]})}),(0,n.jsxs)("div",{className:T.Z.bottomTips,children:[(0,n.jsx)("span",{className:T.Z.delayTips,children:m.ZP.t("dre_m10n_credits_delay",{},"There may be delays in data updates.")}),(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,d.C)(er,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),className:T.Z.creditRules,children:m.ZP.t("dre_m10n_purchase_credits_rules",{},"Rules")})]})]})};function B(e){var{containerService:t}=e,r=(0,v.ko)(t,M.aG);(0,g.Rr)(function(){var e=(0,i._)(function*(e){yield Promise.all([r.changeHistoryType(e,M.Pi.NOT_LIMITED),r.syncHistoryData(e,M.Pi.CONSUMED),r.syncHistoryData(e,M.Pi.ISSUED)])});return function(t){return e.apply(this,arguments)}}(),{contextType:y.zO.Task,processName:"CreditHistoryModal",operationName:"showCreditHistoryModal"}),r.syncRemoteCreditHistory();var a=c.Z.confirm({title:null,footer:null,icon:null,simple:!0,closable:!1,maskClosable:!0,maskStyle:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},wrapClassName:T.Z.creditHistoryModalWrapper,content:(0,n.jsx)(_.$,{instantiationService:t,children:(0,n.jsx)(A,{onClose:()=>a.close(),containerService:t})})})}},592326:function(e,t,r){"use strict";function i(e){return class extends e{constructor(...e){super(...e),this.observers=new Map,this.on=(e,t)=>{var r=this.observers.get(e);!r&&(r=new Set,this.observers.set(e,r)),r.add(t)},this.off=(e,t)=>{if(!t){this.observers.delete(e);return}var r=this.observers.get(e);if(!!r)r.delete(t)},this.clear=()=>{this.observers.clear()},this.notify=(e,t)=>{var r=this.observers.get(e);null==r||r.forEach(e=>e(t))}}}}r.d(t,{C:function(){return i}})},846949:function(e,t,r){"use strict";r.d(t,{Q:function(){return s}});var i=r(789786),n=r(592326),a=100;class s{get undoStack(){return this._undoStack}set undoStack(e){this._undoStack=e,this.notify("undoStack",e)}get redoStack(){return this._redoStack}set redoStack(e){this._redoStack=e,this.notify("redoStack",e)}get undoCount(){return this.undoStack.length}get redoCount(){return this.redoStack.length}execute(e){this.undoStack=[...this.undoStack,e],this.redoStack=[]}undo(){var e=this.undoStack.pop();if(this.undoStack=[...this.undoStack],!!e)return this.redoStack=[...this.redoStack,e],this.undoStack.at(-1)}redo(){var e=this.redoStack.pop();if(this.redoStack=[...this.redoStack],!!e)return this.undoStack=[...this.undoStack,e],e}reset(){}clearStack(){this.redoStack=[],this.undoStack=[]}constructor(e={}){this._undoStack=[],this._redoStack=[];var{limit:t=a}=e;this.limit=t}}s=(0,i.gn)([n.C,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ICommandStackParams?Object:ICommandStackParams])],s)},544681:function(e,t,r){"use strict";r.d(t,{m:function(){return l}});var i=r(108982),n=r(168205),a=r(952739),s=r(224671),o=r(489897),l=(e,t,r,l)=>{var c,d="file"in e?e.file:e.url,{width:u,height:h}=(0,n.h)(d),p=u/h,f=null!==(c=(0,a.Ir)(void 0,u,h))&&void 0!==c?c:s.jP.OneOne,m=Math.abs(o.mg[f]-p),v=Math.abs(l.width/l.height-p)>m,_=(r===i.s.ControlNetDepth||r===i.s.ControlNetCanny)&&v,g=()=>{null==t||t.updateImageRatio(f)};return{showWarning:_,maxCloseRatioType:f,changeToMaxCloseRatioType:g}}},641873:function(e,t,r){"use strict";r.d(t,{s:function(){return R}});var i=r(85728),n=r(929753),a=r(772322),s=r(2910),o=r(653061),l=r(108982),c=r(319440),d=r(725416),u=r(449383),h=r(114233),p=r(218571),f=r(221527),m=r(287967),v=r(466740),_=r(563683),g=r(331426),y=r(239643),b=r(851716),x=r(105789),S=r.n(x),w=r(473188),C=r(612601),I=r(632199),k=r(692548),R=e=>{var{ratio:t,image:r,abilityType:x,params:R,paintWidth:N,paintHeight:Z,isControlNetPreview:j,isControlNetPreviewDelay:T,isControlNetPreviewFurtherDelay:P,containerWidth:L,containerHeight:E,largeImageInfo:M,hideLoading:U}=e,[D,A]=(0,p.useState)(!0),B=(0,p.useRef)(t);(0,p.useEffect)(()=>{t!==B.current&&D&&A(!1)},[t]);var O=(0,v.lS)();(0,p.useEffect)(()=>{var e=()=>{(0,_.Xr)(O,{action:_.H$.Use,item:_.Xq.MoveCanvas})};return f._.on("onMouseUp",e),()=>f._.off("onMouseUp",e)},[O]);var{elementRef:H,elementStyle:z,resetTransformStyle:F,activateAllWatchers:W,deactivatedAllWatchers:G}=(0,C.L)();(0,p.useEffect)(()=>{x&&F(),x===l.s.BgPaint?W():G()},[x,F,W,G]);var q=(0,p.useRef)(null);(0,p.useEffect)(()=>{var e=()=>{var e=q.current;if(!!e){var{offsetHeight:t,offsetWidth:r}=e;f._.setRangeContainer(e,{width:r,height:t})}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);var V="file"in r?r.file:r.url,{width:K,height:X,url:Y}=(0,k.c)(r),Q=(0,p.useMemo)(()=>({width:K,height:X,url:Y}),[K,X,Y]),{graphicEditorStatus:J,containerRef:$,graphicEditorTools:ee}=(0,h.q)({abilityType:x,image:V}),{scale:et,width:er,height:ei}=(0,y._X)({paintWidth:N,paintHeight:Z,imageWidth:K,imageHeight:X}),en=J===g.x.Success,ea=(0,I.n)(),es=(0,p.useRef)(null),eo=e=>{var{target:t}=e;(t===es.current||t===q.current)&&(null==ea||ea.updateIsSelectImage(!1))};return(0,a.jsx)(m.S.Provider,{value:ee,children:(0,a.jsxs)("div",{ref:q,className:d.Z.paintContainer,id:"paint-container",onMouseDown:eo,style:{justifyContent:T?"space-between":"center"},children:[(0,a.jsx)(b.l,{abilityType:x,image:r,params:R,paintHeight:Z,paintWidth:N,ratio:t,style:{display:T?"flex":"none"},className:j?d.Z.visible:d.Z.hidden}),(0,a.jsx)("div",{style:(0,n._)((0,i._)({},z),{display:P?"none":"block"}),ref:H,className:S()(d.Z.imageWrap,j?d.Z.hidden:d.Z.visible),children:(0,a.jsx)("div",{className:d.Z.paintContent,style:{width:"".concat(N,"px"),height:"".concat(Z,"px")},ref:es,children:(0,a.jsxs)(w.m,{abilityType:x,className:d.Z.imageContainer,imageWidth:er,imageHeight:ei,paintHeight:Z,paintWidth:N,rawImageHeight:X,rawImageWidth:K,containerStyle:{transition:D?"none":"all 300ms ease-in-out"},largeImageInfo:M,isInitialLoad:D,imageUrl:Y,children:[(0,a.jsx)(o.k,{loader:Y?(0,a.jsx)(c.XG,{className:d.Z.loading,size:c.XJ.Big}):null,className:d.Z.image,imageStyle:{overflow:"hidden",objectFit:"contain"},src:(0,s.C)(Y,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),crossOrigin:"anonymous","data-apm-action":"image-paint"}),(0,a.jsx)("div",{className:d.Z.imagineGraphicEditor,ref:$,style:{width:"".concat(er,"px"),height:"".concat(ei,"px"),opacity:en?1:0}})]})})}),(0,a.jsx)(u.D,{params:R,image:Q,ability:x,imageScale:et,paintHeight:Z,paintWidth:N,isEditorReady:en,imageDisplayHeight:ei,imageDisplayWidth:er,containerWidth:L,containerHeight:E,drawMaskSuccessCb:U})]})})}},283658:function(e,t,r){"use strict";r.d(t,{m:function(){return g}});var i=r(876826),n=r(85728),a=r(929753),s=r(772322);r(937287),r(246923);var o=r(804929),l=r(74494),c=r(25614),d=r(218571),u=r(66003),h=r(434712),p=r(477046),f=r(733437),m=r(889715),v=r(150615),_=r(901436);function g(){var e=(0,u.G)(h.t),t=(0,d.useRef)(e.createInstance(p.D)).current,{loading:r,hasMore:g,recordList:y}=(0,f.k)(t,e=>({loading:e.loading,hasMore:e.hasMore,recordList:e.recordList||[]}))||{},[b,x]=(0,o.default)(void 0,{rootMargin:"0px 0px 100px 0px"}),S=(0,d.useMemo)(()=>{try{return y.map(e=>{var t=[];e.subscriptionMethods&&t.push({title:v.ZP.t("dre_m10n_management_page_tab_order_history_subscription_type",{},"Plan"),value:e.subscriptionMethods});var{title:r}=e;return{title:r,orderId:e.orderId,infoList:[...t,{title:v.ZP.t("dre_m10n_management_page_tab_order_history_price",{},"Price"),value:e.price},{title:v.ZP.t("dre_m10n_management_page_tab_order_history_date",{},"Date of purchase"),value:e.purchaseDate},{title:v.ZP.t("dre_m10n_management_page_tab_order_history_order_no",{},"Order number"),value:e.orderId,iconType:"copy"},{title:v.ZP.t("dre_m10n_management_page_tab_order_history_payment_method",{},"Payment method"),value:e.paymentMethod}].map(e=>(0,a._)((0,n._)({},e),{value:String(e.value)||"-"}))}})}catch(e){return[]}},[y]),w=function(){var e=(0,i._)(function*(e){try{yield navigator.clipboard.writeText(String(e)),c.Z.success({icon:(0,s.jsx)(m.wR6,{size:20,color:"rgba(17, 19, 24, 1)"}),content:v.ZP.t("copy_success",{},"Copied")})}catch(e){c.Z.warning(v.ZP.t("copy_failed_please_retry",{},"Couldn't copy. Try again."))}});return function(t){return e.apply(this,arguments)}}();(0,d.useEffect)(()=>{t.loadOrderRecordList()},[]),(0,d.useEffect)(()=>{x&&t.loadOrderRecordList()},[x]);var C=e=>{var{title:t,desc:r}=e;return(0,s.jsxs)("div",{className:_.Z.defaultContent,children:[(0,s.jsx)("div",{className:_.Z.title,children:t}),r&&(0,s.jsx)("div",{className:_.Z.desc,children:r})]})},I=e=>{var{title:t,orderId:r,infoList:i}=e;return(0,s.jsxs)("div",{className:_.Z.recordCard,children:[(0,s.jsx)("div",{className:_.Z.flexBox,children:(0,s.jsx)("div",{className:_.Z.bigTitle,children:t})}),(0,s.jsx)("div",{className:_.Z.infoList,children:i.map((e,t)=>(0,s.jsxs)("div",{className:_.Z.flexBox,children:[(0,s.jsx)("div",{className:_.Z.smallTitle,children:e.title}),(0,s.jsxs)("div",{className:_.Z.info,children:["copy"===e.iconType&&(0,s.jsx)(m.JmT,{className:_.Z.copyIcon,size:16,style:{cursor:"pointer"},onClick:()=>w(e.value)}),(0,s.jsx)("div",{className:_.Z.text,children:e.value})]})]},t))})]},r)};return(0,s.jsxs)("div",{className:_.Z.container,children:[r&&!S.length?(0,s.jsx)("div",{className:_.Z.initSpin,children:(0,s.jsx)(l.Z,{className:_.Z.spin,size:24})}):null,r||S.length?null:C({title:v.ZP.t("dre_m10n_management_page_tab_order_history_null",{},"You don't have an payment record yet")}),S.length?S.map(e=>I(e)):null,(0,s.jsx)("div",{className:_.Z.loadSpin,ref:b,style:{display:g&&S.length?"flex":"none"},children:(0,s.jsx)(l.Z,{className:_.Z.spin,size:16})}),r||!S.length||g?null:(0,s.jsx)("div",{className:_.Z.noMore,children:v.ZP.t("dre_m10n_credit_balance_end",{},"You\u2019ve reached the end")})]})}},231194:function(e,t,r){"use strict";r.d(t,{i:function(){return _}});var i=r(85728),n=r(929753),a=r(295834),s=r(772322);r(109163);var o=r(372675),l=r(218571),c=r(105789),d=r.n(c),u=r(52533),h=r(80185),p=r(66003),f=r(434712),m=r(259435),v=r(889715),_=(0,l.forwardRef)((e,t)=>{var{children:r,className:c,content:_,onVisibleChange:g,waitingContextViewIds:y,tooltipStyle:b,needCloseIcon:x=!1}=e,S=(0,a._)(e,["children","className","content","onVisibleChange","waitingContextViewIds","tooltipStyle","needCloseIcon"]),[w,C]=(0,l.useState)(!1),[I,k]=(0,l.useState)(void 0),R=(0,l.useRef)(),N=(0,p.G)(f.t),Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;!(0,u.Z)(e)&&k(e),C(!0),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{C(!1),k(_),R.current=void 0},t)},j=()=>{if(!!w)R.current&&clearTimeout(R.current),C(!1),k(_),R.current=void 0},T=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;if(y){for(var i of y)if(t=(0,m.X)(N,i))break}t?t.onUnmount(()=>{Z(e,r)}):Z(e,r)};(0,l.useImperativeHandle)(t,()=>({show:T,hide:j}));var P=e=>{!R.current&&_&&(C(e),null==g||g(e))};return(0,s.jsx)(o.Z,(0,n._)((0,i._)({className:d()(h.Z.timeoutTooltip,"grey"===b&&h.Z.greyTip,c),popupVisible:w,content:(0,s.jsxs)("div",{className:h.Z.flexBox,children:[null!=I?I:_,x?(0,s.jsx)(v.Rnl,{onClick:()=>{j()},size:12,className:h.Z.closeIcon}):void 0]}),showArrow:!0,triggerProps:{popupAlign:{bottom:4}},onVisibleChange:P},S),{children:r}))})},968365:function(e,t,r){"use strict";r.d(t,{HC:function(){return n},T0:function(){return l},dd:function(){return a},k2:function(){return s}});var i=r(379311),n=function(e){return e.Success="success",e.Failed="failed",e}({}),a=function(e){return e.TransferError="transfer error",e.ImageLoadError="image load error",e}({}),s=function(e){return e.Base64="base64",e.Url="url",e}({});class o{getEventParams(){var{status:e,maskUrl:t,failReason:r,maskUrlType:i}=this._params;return{status:e,mask_url:t,mask_url_type:i,fail_reason:r}}constructor(e){this._params=e,this.eventName="draw_bgpaint_mask"}}function l(e,t){(0,i.S$)(e,o,[t])}},711150:function(e,t,r){"use strict";r.d(t,{WQ:function(){return n},hn:function(){return i},w0:function(){return a}});var i="no face was detected",n="no pose was detected",a="safety check not passed"},906680:function(e,t,r){"use strict";r.d(t,{H:function(){return f}});var i=r(876826),n=r(789786),a=r(260963),s=r(417281),o=r(725854),l=r(489897),c=r(649843),d=r(133438),u=r(857611),h=0,p=0;class f extends u.h{preRecognize(e){return(0,i._)(function*(){})()}recognize(e){var t=this;return(0,i._)(function*(){return t.originURI=e,yield Promise.resolve(),c.J.Success})()}cancelRecognize(){}getImagineParams(){return{uri:this.originURI,name:s.UI.StyleReference,imageUriList:[this.originURI],imageWeightList:[this.referenceLevel]}}updateReferenceLevel(e){this.referenceLevel=e}reset(){this.referenceLevel=Math.round(l.FY.default),this.originURI="",super.reset()}initWithImagineParams(e,t){var r,i,n,a;if(!!(0,d.iP)(t))this.referenceLevel=null!==(n=null===(r=t.imageWeightList)||void 0===r?void 0:r[h])&&void 0!==n?n:Math.round(l.FY.default),this.originURI=null!==(a=null===(i=t.imageUriList)||void 0===i?void 0:i[p])&&void 0!==a?a:""}get isRecognized(){return!1}constructor(e){super(),this.graphicToolService=e,this.referenceLevel=l.FY.default,this.originURI="",(0,a.rC)(this)}}(0,n.gn)([a.LO],f.prototype,"referenceLevel",void 0),(0,n.gn)([a.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Number]),(0,n.w6)("design:returntype",void 0)],f.prototype,"updateReferenceLevel",null),(0,n.gn)([a.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",void 0)],f.prototype,"reset",null),(0,n.gn)([a.aD.bound,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String,"undefined"==typeof TImagineModalAbilityParams?Object:TImagineModalAbilityParams]),(0,n.w6)("design:returntype",void 0)],f.prototype,"initWithImagineParams",null),(0,n.gn)([a.Fl,(0,n.w6)("design:type",void 0),(0,n.w6)("design:paramtypes",[])],f.prototype,"isRecognized",null),f=(0,n.gn)([(0,n.fM)(0,o.fQ),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===o.fQ?Object:o.fQ])],f)},198954:function(e,t,r){"use strict";r.d(t,{G:function(){return d}});var i=r(643590),n=r(904337),a=r(416105),s=r(804274),o=r(453604),l=r(875649),c=r(879976);function d(){var e=new i.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0});return(0,c.V)(e),(0,n.$)(e),(0,a.mH)(e),(0,s.xP)(e),(0,o.d)(e),(0,l.i3)(e),e}},963079:function(e){"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')}}]);