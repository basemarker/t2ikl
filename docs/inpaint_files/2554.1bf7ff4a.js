"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["2554"],{586571:function(e,t){t.Z={"ve-message-wrapper":"ve-message-wrapper-tLyo3t",veMessageWrapper:"ve-message-wrapper-tLyo3t"}},855948:function(e,t){t.Z={container:"container-jAYjWB",placeholder:"placeholder-VLwwq3",uploading:"uploading-qzGvM7",tips:"tips-ctJXax",button:"button-DQIpu_",preview:"preview-Cbvscy",right:"right-cn_rzP"}},693811:function(e,t,r){r.d(t,{K:function(){return u}});var i=r(85728),n=r(929753),o=r(259273),a=[{id:o.$W.TitleBarUserCenter},{id:o.$W.SiderMenuInvitation,loadTiming:"loaded"},{id:o.$W.SiderMenuNotification,loadTiming:"loaded"},{id:o.$W.SiderMenuActivity},{id:o.$W.SiderMenuUserHelper},{id:o.$W.SiderMenuBusinessLicense},{id:o.$W.UserCenter},{id:o.$W.SiderMenuVideoGenerate}],s=[{id:o.$W.AbsolutePositionSlotHelpCenter}],c=[...a,...s],l={id:o.$W.TitleBarSearch},u=(0,n._)((0,i._)({[o.Sj.Personal]:c,[o.Sj.GuestPerson]:c,[o.Sj.History]:[],[o.Sj.HistoryDetail]:c,[o.Sj.WorkDetailShare]:c,[o.Sj.WorkDetailPage]:c,[o.Sj.Login]:[],[o.Sj.NoUsePermission]:c,[o.Sj.Block]:[],[o.Sj.DataSubjectRequestDownload]:[],[o.Sj.DataSubjectRequestBlock]:[],[o.Sj.DataSubjectRequest]:[],[o.Sj.DataSubjectRequestSubmit]:[],[o.Sj.Default]:c,[o.Sj.FallBack]:c,[o.Sj.Community]:[...a]},s),{[o.Sj.Asset]:[...c,l],[o.Sj.Activity]:c,[o.Sj.Home]:[...c,l],[o.Sj.Explore]:[...c,l],[o.Sj.VideoGenerate]:c,[o.Sj.LipSync]:c,[o.Sj.ActionCopy]:c,[o.Sj.ImageGenerate]:c,[o.Sj.CookieManage]:c,[o.Sj.InviteFission]:c,[o.Sj.ThirdPartyCallback]:[],[o.Sj.Visionary]:[],[o.Sj.ImageEdit]:[...s],[o.Sj.VideoHome]:c,[o.Sj.StoryEditor]:[...s],[o.Sj.Workflow]:[...a],[o.Sj.WorkflowEditor]:[],[o.Sj.AudioGenerate]:[...a],[o.Sj.SearchResult]:[...c,l]})},780175:function(e,t,r){r.d(t,{e:()=>ec});var i=r("789786"),n=r("772322"),o=r("126968"),a=r("540457"),s=r("608358"),c=r("852603"),l=r("104805"),u=r("267728"),d=r("695581"),h=r("216342"),p=r("806663"),_=r("705309"),v=r("734781"),m=r("252805"),f=r("519927"),g=r("442452"),y=r("320402"),S=r("490165"),w=r("819340"),k=r("670479"),b=r("313773"),C=r("460029"),R=r("163142"),E=r("259273"),T=r("642273"),I=r("349817"),P=r("552786"),D=r("417699"),j=r("331480"),A=r("87384"),O=r("970419"),x=r("590839"),L=r("178589"),M=r("35706"),F=r("9575"),N=r("893704"),U=r("57712"),W=r("41553"),B=r("42286"),H=r("407294"),Y=r("152521"),q=r("512606"),V=r("535014"),Z=r("876826"),$=r("704976"),G=r("187901"),K=r("90075"),Q=r("820266"),z=r("859840"),J="beta-test";function X(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,Z._)(function*(e){var t=e.invokeFunction(e=>e.get(K.S)),r=yield t.getFeatureBetaTestPermission({featureKeys:P.rt}),i=e.invokeFunction(e=>e.get($.l));if(!r.ok){i.init();return}var n=r.value,o=(0,G._)(n);Object.keys(o).forEach(e=>{var t=o[e];i.setValue(e,t)}),i.init()})).apply(this,arguments)}var et=r("649842"),er=r("530989"),ei=r("562092"),en="__cdn_sign_uid";function eo(e,t){var r,i,n,o,a="";try{({uid:a}=e.userProfile)}catch(e){}var[s]=[null!==(i=(o=(0,ei.D)(null!==(r=localStorage.getItem(en))&&void 0!==r?r:"")).uid)&&void 0!==i?i:"",null!==(n=o.timestamp)&&void 0!==n?n:0];a!==s&&t(a,!0)}function ea(e){localStorage.setItem(en,JSON.stringify({uid:e,timestamp:Date.now()}))}var es=r("980043");class ec extends c.s{_executePhase(e,t){switch(t){case d.B.Prepare:this._whenPrepare(e);break;case d.B.Render:this._whenRender(e);break;case d.B.Completed:this._whenCompleted(e)}}_whenPrepare(e){this._setDomain(),(0,B.j)(this._containerService),(0,H.l)(this._containerService),(0,q.y)(),!function(e){er.IG.getOrCreateInstance();var t,r,i=e.invokeFunction(e=>e.get(S.D));try{var{uid:n}=i.userProfile;ea(n)}catch(e){console.warn(e)}var o=(e,t)=>{er.sn.resetCookie(),!t&&ea(e)};null===(t=window)||void 0===t||t.addEventListener("storage",e=>{e.key===en&&eo(i,o)}),null===(r=document)||void 0===r||r.addEventListener("visibilitychange",()=>{"visible"!==document.visibilityState&&eo(i,o)}),i.onDidLogout(()=>{o("",!1)}),i.onDidLogin(()=>{eo(i,o)})}(this._containerService),!function(e){var t=window.__beta_test__;if(t){var r=(0,G._)((0,Q.b)(t)),i=e.invokeFunction(e=>e.get($.l));Object.keys(r).forEach(e=>{var t=r[e];i.setValue(e,t)}),i.init(),(0,z.C)(J,!0,e)}else{X(e);(0,z.C)(J,!1,e)}}(this._containerService),this._getAccountService().onDidLogin(()=>{X(this._containerService)}),new l.x().run(e,this._containerService),(0,C.Ie)(R.Hj),this._waitI18n.then(()=>{(0,C.oe)(R.Hj)}),this._injectSSRData()}_whenRender(e){(0,C.Ie)(R.zP);var t=this._getPlatformUiConfigurationService();(0,M.s)(t),(0,F.d)(t),t.registerConfig({[x.a.PageRoute]:[{id:E.Sj.FallBack,path:T.EZ[E.Sj.FallBack],isNeedCache:!1,content:()=>(0,n.jsx)(v.Fg,{to:T.EZ[T.BA]}),skeleton:()=>null}]}),this._initAudioSideBarConfig(),(0,N.P)((0,et.hq)(),this._containerService,t),(0,C.oe)(R.zP),this._ignoreImgHoverBubbling()}_initAudioSideBarConfig(){var e=(0,s.ko)(this._containerService,I.q),t=()=>{var t,r=![P.Ve.BETA_AVAILABLE,P.Ve.RELEASED].includes(null===(t=e.getValue(P.em.GENERATE_AUDIO))||void 0===t?void 0:t.status);return{[x.a.SideMenu]:[{id:E.Sj.AudioGenerate,className:r?"sidebar_disable":""}]}},r=this._getPlatformUiConfigurationService();r.registerConfig(t()),e.onValuesChange(()=>{r.registerConfig(t())})}_whenCompleted(e){(0,V.e)(this._containerService),this._containerService.invokeFunction(e=>{var t=e.get(m.f);t.addPreloadTask({signal:f.l.PAGE_LOAD,runTask:()=>{(0,W.M)(this._containerService),(0,es.b)(this._containerService),this._initWebsocket()}}),t.addPreloadTask({signal:f.l.PAGE_IDLE,runTask:()=>{this._initUploadService()}})})}_setDomain(){var e=(0,s.ko)(this._containerService,D.e),t=(0,s.ko)(this._containerService,g.x),r=(0,s.ko)(this._containerService,S.D),i=()=>{},n=()=>{var r,i=Y.M[e.appEnv][e.region||y.a.Cn],n={[g.Y.DEFAULT]:i,[g.Y.TTS]:i,[g.Y.SAMI]:i,[g.Y.FRONTIER]:i,[g.Y.COMMERCE]:i,[g.Y.JIANYING]:Y.i[e.appEnv]},o={region:y.a.Cn,idc:"",idcEnum:0},a=new u.$$;u.ff.setApiSetting(a),a.updateRequestSetting({webIdc:null!==(r=o.idc)&&void 0!==r?r:"",region:o.region,domain:{web_domain:n[g.Y.DEFAULT]}}),t.updateRequestInfo({domainMap:n,locationInfo:o})};r.hasLogin?n():(n(),(0,p.V)(r.onDidLogin)(()=>{i(),n(),(0,V.e)(this._containerService)}))}_ignoreImgHoverBubbling(){document.body.addEventListener("mouseover",e=>{if(!!(e.target instanceof HTMLImageElement||e.target instanceof HTMLPictureElement))e.stopPropagation(),e.preventDefault()}),document.body.addEventListener("mouseover",e=>{if(!!(e.target instanceof HTMLImageElement||e.target instanceof HTMLPictureElement))e.stopPropagation(),e.preventDefault()})}_initUploadService(){this._containerService.invokeFunction(e=>{var t=e.get(w.Z);t.preloadImageXSdk(),t.preloadVodSdk()})}_initWebsocket(){return this._containerService.invokeFunction(e=>{var t=e.get(j.Dx),r=e.get(S.D),i=()=>{t.connect({config:(0,A.mp)("")})};r.hasLogin?i():r.onDidLogin(()=>{i()})})}_injectSSRData(){var e,t=null===(e=window._ROUTER_DATA)||void 0===e?void 0:e.loaderData;if(!!t){var r=this._containerService.invokeFunction(e=>e.get(O.G));Object.entries(t).forEach(e=>{var t,[i,n]=e,s=null===(t=i.match(/^ai-tool\/(.*?)\/page$/))||void 0===t?void 0:t[1];if(s){var c=(0,o.Z)((0,a.Z)(s)).replace(/\s/g,"");"WorkDetailId"===c&&(c=E.Sj.WorkDetailPage),r.setData(c,n),window._ROUTER_DATA&&(window._ROUTER_DATA.loaderData[i]=void 0)}})}}_getPlatformUiConfigurationService(){return this._containerService.invokeFunction(e=>e.get(L.e))}_getAccountService(){return this._containerService.invokeFunction(e=>e.get(S.D))}constructor(e,t){super(),this._waitI18n=e,this._containerService=t,this._name="frame",(0,U.m)(),(0,k.c)(),(0,b.a)();var r=(0,_.W)(this._waitI18n);this._setBarrier(d.B.Prepare,r)}}(0,i.gn)([(0,h.lI)("frame-job","_whenPrepare"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context]),(0,i.w6)("design:returntype",void 0)],ec.prototype,"_whenPrepare",null),(0,i.gn)([(0,h.lI)("frame-job","_whenRender"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context]),(0,i.w6)("design:returntype",void 0)],ec.prototype,"_whenRender",null),(0,i.gn)([(0,h.lI)("frame-job","_whenCompleted"),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context]),(0,i.w6)("design:returntype",void 0)],ec.prototype,"_whenCompleted",null)},701907:function(e,t,r){r.d(t,{e:function(){return o},u:function(){return a}});var i,n,o=((i={})[i.ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE=2312]="ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE",i[i.ERR_Hit_Sensitive_Word=2334]="ERR_Hit_Sensitive_Word",i);var a=((n={})[n.ERR_UPLOAD_LINK_NOT_EXIST=2341]="ERR_UPLOAD_LINK_NOT_EXIST",n)},138021:function(e,t,r){r.d(t,{s:function(){return n}});var i=r(56935);class n{get userLocationInfo(){return this._locationInfo}updateRequestInfo(e){var{domainMap:t,locationInfo:r}=e;this._domainMap=t,this._locationInfo=r}getRequestURL(e){return(0,i.Y2)(this._domainMap,"updateRequestInfo should be call first before logic"),(0,i.Y2)(this._locationInfo,"updateRequestInfo should be call first before logic"),this._getRequestUrlImpl(e)}_getRequestUrlImpl(e){return"".concat(this._domainMap[e.domainType]).concat(e.path)}}},651712:function(e,t,r){r.d(t,{Q:function(){return i}});var i=(0,r(971245).yh)("extension")},45946:function(e,t,r){r.d(t,{O:function(){return s}});var i=r(85728),n=r(929753),o=r(836413),a=r(584072);class s{setConfig(e){this._sdk("config",e)}setEventParams(e){var{metrics:t,categories:r}=this._separateEventParams(e);this._eventMetrics=(0,i._)({},this._eventMetrics,t),this._eventCategories=(0,i._)({},this._eventCategories,r)}setLogParams(e){this._logParams=(0,i._)({},this._logParams,e)}setCaptureParams(e){this._captureParams=(0,i._)({},this._captureParams,e)}captureException(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=(0,n._)((0,i._)({},this._captureParams,r),{label:e}),s=this._findJsError(t);this._sdk("captureException",s,a,o)}sendEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=this._separateEventParams(t);this._sdk("sendEvent",{name:e,attached_log:r,metrics:(0,i._)({},this._eventMetrics,n.metrics),categories:(0,i._)({},this._eventCategories,n.categories)})}sendLog(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._sdk("sendLog",{level:e,content:t,extra:(0,i._)({},this._logParams,r)})}sendCustomPerfMetric(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._sdk("sendCustomPerfMetric",{name:e,value:t,type:"perf",extra:(0,i._)({},this._logParams,r)})}reportResource(e){this._sdk("report",{ev_type:"resource",payload:e})}bindSlardarHook(e,t){this._sdk("on",e,t)}unbindSlardarHook(e,t){this._sdk("off",e,t)}waitLcpSummary(){return this._lcpSummaryDefer.promise}_findJsError(e){for(var t=e;t;){if(t instanceof Error)return t;t=t.cause}return e.toString()}_separateEventParams(e){var t={},r={};return Object.keys(e).forEach(i=>{"string"==typeof e[i]?r[i]=e[i]:"number"==typeof e[i]&&(t[i]=e[i])}),{metrics:t,categories:r}}_waitForLcp(){var e=t=>{var r,i,n,a,s,c,l,u;(null==t?void 0:t.ev_type)==="performance"?(("fp"===(null==t?void 0:null===(r=t.payload)||void 0===r?void 0:r.name)||"fcp"===(null==t?void 0:null===(i=t.payload)||void 0===i?void 0:i.name))&&t.payload.value&&(this._lcpSummary[t.payload.name]=t.payload.value),"lcp"===(null==t?void 0:null===(n=t.payload)||void 0===n?void 0:n.name)&&(t.payload.value&&(this._lcpSummary.lcp=t.payload.value),(null===(a=t.payload.extra)||void 0===a?void 0:a.element)&&(this._lcpSummary.lcpElement=t.payload.extra.element),(null===(s=t.common)||void 0===s?void 0:s.url)&&(this._lcpSummary.lcpUrl=t.common.url),(null===(c=t.common)||void 0===c?void 0:c.pid)&&(this._lcpSummary.pid=null===(l=t.common)||void 0===l?void 0:l.pid),this.unbindSlardarHook("send",e),0===t.payload.value?(this._lcpSummary={fp:0,fcp:0,lcp:0,lcpElement:"",lcpUrl:"",pid:""},this._lcpSummaryDefer.resolve((0,o.wf)(-1,"page routed"))):this._lcpSummaryDefer.resolve((0,o.oW)(this._lcpSummary)))):(null==t?void 0:t.ev_type)==="pageview"&&(!(null==t?void 0:null===(u=t.common)||void 0===u?void 0:u.pid)||!location.pathname.includes(t.common.pid))&&this.unbindSlardarHook("send",e)};this.bindSlardarHook("send",e)}constructor(e,t,r,i,n){this._sdk=e,this._logParams=r,this._captureParams=i,this._options=n,this._lcpSummary={fp:0,fcp:0,lcp:0,lcpElement:"",lcpUrl:"",pid:""},this._lcpSummaryDefer=(0,a.PQ)();var{metrics:o,categories:s}=this._separateEventParams(t);this._eventMetrics=o,this._eventCategories=s,(null==n?void 0:n.lcpSummary)&&this._waitForLcp()}}},762274:function(e,t,r){r.d(t,{Y:function(){return a}});var i=r(525524),n=r(843698),o=r(56935);class a{get result(){return this._cacheResult}set(e,t,r){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).set(t,r).catch(e=>{this._onError.fire(e)})}setMany(e,t){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).setMany(t).catch(e=>{this._onError.fire(e)})}delete(e,t){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).delete(t).catch(e=>{this._onError.fire(e)})}deleteMany(e,t){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).deleteMany(t).catch(e=>{this._onError.fire(e)})}query(e,t){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),this.queryMany(e,[t])}queryMany(e,t){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).queryMany(t).then(t=>{if(!!t)for(var[r,i]of(!this._cacheResult.has(e)&&this._cacheResult.set(e,new Map),t))this._cacheResult.get(e).set(r,i)}).catch(e=>{this._onError.fire(e)})}clear(e){(0,o.Y2)(this._checkTable(e)),(0,o.Y2)(!this._done),new i.m(this._transaction,e).clear().catch(e=>{this._onError.fire(e)})}commit(){this._done=!0}_checkTable(e){return this._tables.has(e)}constructor(e,t){for(var r of(this._transaction=e,this._cacheResult=new Map,this._tables=new Set,this._onError=new n.Q,this._onComplete=new n.Q,this._done=!1,this.onError=this._onError.event,this.onComplete=this._onComplete.event,t))this._tables.add(r);this._transaction.onabort=()=>{this._onError.fire(this._transaction.error)},this._transaction.onerror=()=>{this._onError.fire(this._transaction.error)},this._transaction.oncomplete=()=>{this._onComplete.fire(this._cacheResult)}}}},918676:function(e,t,r){r.d(t,{t:function(){return c}});var i=r(876826),n=r(584072),o=r(56935),a=r(836413);function s(){return(s=(0,i._)(function*(e,t){var{TtWid:i}=yield Promise.all([r.e("3971"),r.e("6238")]).then(r.bind(r,349917)),n=new i({aid:e,service:location.host,unionHost:t});try{return yield n.checkWebIdFromTea(),(0,a.ly)()}catch(e){return(0,a.Mx)(-1,"webId invalid.",e)}})).apply(this,arguments)}function c(e,t,r){return l.apply(this,arguments)}function l(){return(l=(0,i._)(function*(e,t,r){var a,c=yield(a=r,(0,n.Hp)((0,i._)(function*(){var{web_id:e}=yield new Promise(e=>{a.getToken(e,3e3)});return(0,o.ZB)(e),e}),3e3));return c.ok?function(e,t){return s.apply(this,arguments)}(e,t):c})).apply(this,arguments)}},842245:function(e,t,r){r.d(t,{T1:function(){return c}});var i=r(85728),n=r(929753),o=r(523197),a=r(834634),s={amount:100,createTime:Date.now()/1e3-2e4,title:"test",historyType:a.P.ISSUED,submitId:"1000000",extraContent:"test",tradeSource:a.v.DAILY_ISSUED};(0,n._)((0,i._)({},s),{submitId:"0000001",createTime:Date.now()/1e3-1e4}),(0,n._)((0,i._)({},s),{submitId:"0000002",createTime:Date.now()/1e3-15e3}),(0,n._)((0,i._)({},s),{amount:-100,submitId:"0000003",createTime:Date.now()/1e3-18e3}),(0,n._)((0,i._)({},s),{createTime:Date.now()/1e3-2e4}),(0,n._)((0,i._)({},s),{submitId:"0000004",createTime:Date.now()/1e3-18e3}),(0,n._)((0,i._)({},s),{createTime:Date.now()/1e3-2e4}),(0,n._)((0,i._)({},s),{amount:-100,submitId:"0000005",createTime:Date.now()/1e3-3e4}),(0,n._)((0,i._)({},s),{submitId:"0000006",createTime:Date.now()/1e3-4e4});var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.P.CONSUMED,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.v.EMPTY,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.Rl)();return{amount:e,createTime:Date.now()/1e3,title:"MOCK_DATA",historyType:t,submitId:i,extraContent:"MOCK_DATA",tradeSource:r}}},668045:function(e,t,r){r.d(t,{E:function(){return o}});var i=r(843698),n=r(56935);class o{get isReady(){return this._isReady}get isInFreemiumStage(){return this._isInFreemiumStage}get onIsInFreemiumStageChange(){return this._onIsInFreemiumStageChange.event}setPaidStrategy(e){(0,n.ZB)(e,"Can not set a nil strategy to the service"),this._allPaidStrategies=e,this._isReady=!0,this._onAllPaidStrategyChange.fire(e)}updateIsInFreemiumStage(e){this._isInFreemiumStage=e,this._onIsInFreemiumStageChange.fire(e)}getAllPaidStrategy(){return this._allPaidStrategies}getResourcePaidStrategy(e){var t=this._allPaidStrategies.find(t=>t.resourceId===e);return(0,n.ZB)(t,"Can't find the ".concat(e," related strategy")),t}getBenefitPaidStrategyFromResource(e,t){try{var r,i,n=this.getResourcePaidStrategy(e);return null!==(i=null===(r=n.benefitStrategy[t])||void 0===r?void 0:r.paidStrategyList)&&void 0!==i?i:[]}catch(e){return[]}}constructor(){this._onAllPaidStrategyChange=new i.Q,this.onAllPaidStrategyChange=this._onAllPaidStrategyChange.event,this._allPaidStrategies=[],this._isReady=!1,this._isInFreemiumStage=!1,this._onIsInFreemiumStageChange=new i.Q}}},372981:function(e,t,r){r.d(t,{Z:function(){return _}});var i=r(85728),n=r(929753),o=r(772322);r(395248);var a=r(423342),s=r(2910);r(218571);var c=r(150615),l=r(889715),u=r(259435),d=r(487736),h=r(622028),p=e=>{var{onClose:t,clickHereUrl:r}=e,i=null!=r?r:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/terms-policy/dreamina-privacy-policy-popup_en.html",n=c.ZP.t("privacy_policy_notification_202503",{div:e=>(0,o.jsx)("div",{children:e},e),li:e=>(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"\xb7 "}),e]},e),ul:e=>(0,o.jsx)("ul",{className:h.Z.orderList,children:e}),a:e=>(0,o.jsx)("a",{target:"_blank",className:h.Z.anchor,href:(0,s.C)(i,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),rel:"noreferrer",children:e},e)},"<div>We are updating our Privacy Policy with effect on April 1, 2025, to include more information about:</div>\n<ul><li>what information we collect, how we use your information, and how we share and transfer your information;</li>\n<li>your rights and choices, as well as how you can contact us to exercise those rights;</li>\n<li>information about minors;</li>\n<li>privacy policy updates; and</li>\n<li>the types of personal data we process, the purposes for which we process that data, and our legal bases for doing so.</li></ul>\n<div>Click <a>here</a> to review our updated Privacy Policy.</div>");return(0,o.jsxs)("div",{className:h.Z.privacyPolicy,children:[(0,o.jsx)(l.Rnl,{className:h.Z.closeBtn,onClick:t}),(0,o.jsx)("div",{className:h.Z.content,children:n})]})},_=e=>{var{containerService:t}=e,r=(0,u.X)(t,d.M.PrivacyPolicyDialog),s=a.Z.confirm({wrapClassName:"privacyPolicyModal",footer:null,escToExit:!1,afterClose:()=>{var t;null==r||r.unmount(),null===(t=e.onClose)||void 0===t||t.call(e)},icon:null,closeIcon:null,closable:!0,focusLock:!1,maskClosable:!1,autoFocus:!1,content:(0,o.jsx)(p,(0,n._)((0,i._)({},e),{onClose:()=>s.close()}))})}},639384:function(e,t,r){r.d(t,{m:function(){return m},p:function(){return f}});var i=r(660178),n=r(772322),o=r(2910),a=r(889715),s=r(150615),c=r(590839),l=r(708274),u=r(259273),d=r(642273),h=r(185617),p=r(554995),_=r(552786);r(233210),i.w.setConfig({projectId:532,subProjectName:"cc_dreamina",customRoute:"",reportOnly:!1,storageKey:"ARGUS_STORAGE_OPEN_REDIRECT",frontWhiteUrl:'["._______________",".vlabstatic.com"]',frontBlackUrl:"[]",bid:"cc_dreamina",region:"cn",cacheTimeFront:12,checkTimeLimit:1.5,limitLevel:5});var v=(0,p.b)(),m=[{id:u.Sj.Workflow,group:l.Bl.ExtraTools,appendDividerBefore:!0,title:()=>s.ZP.t("gameplay_entrance",{},"AI\u6A21\u7248"),tooltips:()=>s.ZP.t("gameplay_entrance",{},"AI\u6A21\u7248"),icon:e=>{var{selected:t,isHover:r}=e;return t||r?(0,n.jsx)(a.two,{}):(0,n.jsx)(a.OiZ,{className:"ssr-fix-color__workflow-icon"})},onClick:()=>{window.open(i.w.protectUrl({targetUrl:(0,o.C)("".concat(d.NU).concat(d.EZ[u.Sj.Workflow]),null,{logType:"js.window.location",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),filename:"$ERJNWQy%kRP$EJo$jJSc1kyaz$hb%l5T$hkaF-zaHNXRE5D-%dSSFozWmpNMHBx$ERKT2RscEhWWFZa-m13d1dsZFJk$0l6%201T%1teHNZM2s1-zJSd$pHeFph$*w2WTIxTmRtTklTblph%0Zac$pFTT$kR1F5$m1sT%0wNT$XW*s1-W1Je%5%Qmpi$3hwWkZo%2NHSXlOSFpq%jBad$dsaE5kb$F5T1hsaE1scHpZak5qZ*1SW*Ez%lpNamwx$20xc2JreH$$bnBs%jBaN$dqTldlZz09",isBlank:!0}),"_blank")},position:"top",order:u.us.Workflow}],f={[c.a.PageRoute]:[{id:u.Sj.Workflow,path:d.EZ[u.Sj.Workflow],isNeedCache:!h.lY,skeleton:()=>null,layoutConfiguration:{hideSideMenu:!0}}],[c.a.SideMenu]:(e=>{if("undefined"==typeof window&&e===_.em.WORKFLOW_MODE)return!0;var t=null==v?void 0:v[e];return!!t&&[_.Ve.RELEASED,_.Ve.BETA_AVAILABLE].includes(t.status)})(_.em.WORKFLOW_MODE)?m:[]}},417442:function(e,t,r){r.d(t,{Oc:function(){return p},TC:function(){return _},hg:function(){return v}});var i=r(85728),n=r(929753),o=r(789786),a=r(379311),s=r(434712),c=r(475578),l=r(259273),u=r(727279),d=r(76931);class h{getEventParams(){var e,t;return(0,i._)((0,n._)((0,i._)({},this._params),{template_from:(0,d.lg)(this._params.template_id,this._params.type),template_type_id:(0,d.pm)(this._params.template_id,this._params.type),impression_id:null!==(t=this._params.impression_id)&&void 0!==t?t:(0,d.ww)((null!==(e=this._params.template_id)&&void 0!==e?e:"").split(",").shift())}),(0,d.Oj)(this._containerService))}constructor(e,t){this._params=e,this._containerService=t,this.eventName="publish_page"}}function p(e,t){(0,a.Kl)(e,h,[t])}function _(e){return e===l.Sj.Activity||new URLSearchParams(location.search).get(u.m.weeklyActivityKey)?"activity":e===l.Sj.Asset?"asset":e===l.Sj.ImageEdit?"canvas":"generation"}function v(){return{type:"story",page:c.WZ.StoryEditor,channel:"story",author_type:c.nQ.Creator}}h=(0,o.gn)([(0,o.fM)(1,s.t),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IPublishPageParams?Object:IPublishPageParams,void 0===s.t?Object:s.t])],h)},555175:function(e,t,r){r.d(t,{E:function(){return a},I:function(){return s}});var i,n=r(971245),o=r(490165),a=(0,n.LO)(o.D);var s=((i={}).Success="success",i.Fail="fail",i)},185294:function(e,t,r){r.d(t,{G:function(){return c}});var i=r(643590),n=r(416105),o=r(453604),a=r(875649),s=r(879976);function c(){var e=new i.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0});return(0,s.V)(e),(0,n.mH)(e),(0,o.d)(e),(0,a.e_)(e),e}},125436:function(e,t,r){r.d(t,{I:function(){return s}});var i=r(876826),n=r(45347),o=r(806437),a=r(826717);class s extends n.l{_handleFetchRecommends(e,t){this._prevPrefetchTaskDisposables.length&&(this._prevPrefetchTaskDisposables.forEach(e=>e.dispose()),this._prevPrefetchTaskDisposables.length=0);var r,n=null===(r=t.getCommunityStoreInstance())||void 0===r?void 0:r.activeInstance;if(!!n){var{offset:s,categoryId:c,hasMore:l}=n,u=new o.p(t.ctx,{categoryId:c,offset:s,fetcher:(0,i._)(function*(){l&&(yield n.getDataList({feedRefer:a.p.FeedPreloadMore}))})});this._prevPrefetchTaskDisposables.push(t.postPrefetchTask(u))}}_handle(e,t){var r=this;return(0,i._)(function*(){var i,{enableRuntimePrefetchExtraFeed:n}=t.abTestValues;if("fetch-recommends"===e.name)0===e.data.offset?r._handleFetchRecommends(e,t):n&&r._handleFetchRecommends(e,t);null===(i=r.nextHandler)||void 0===i||i.handle(e)})()}constructor(...e){super(...e),this._prevPrefetchTaskDisposables=[]}}},955259:function(e,t,r){r.d(t,{y:function(){return l}});var i=r(876826),n=r(2910),o=r(843698),a=r(630937),s=r(518582),c=r(52773);class l extends c.Y{_createCoverPreloadLink(e){var t=(0,a.x)("link");return t.crossOrigin="anonymous",t.fetchPriority="low",t.rel="prefetch",t.as="image",t.href=(0,n.C)(e,null,{logType:"js.href/src",reportOnly:"false",blackConfig:"{}",configMode:"merge",isCloseSSRReport:!1,bid:"cc_dreamina",region:"cn",urlLimit:"-1",htmlLimit:"-1",isSaveValidUrl:!1,isRuntimeLog:!1,isDOMParser:!1,escapeRule:"escape-report"}),t}run(){var e=this;return(0,i._)(function*(){var t=e._prefetchInfo.map(t=>e._createCoverPreloadLink(t.coverUrl)),r=document.createDocumentFragment();t.forEach(t=>{t&&(e._ctx.prefetchedResourceNames.push(t.href),r.appendChild(t))}),e._abortCallback=()=>{t.forEach(e=>{e&&e.remove()}),e._onDoneEmitter.fire()},document.body.appendChild(r);var i=Promise.all(t.map(t=>new Promise((r,i)=>{if(!t){r();return}t.onload=()=>{t.remove(),r()},t.onerror=()=>{t.remove(),i(Error("Image load failed"))},e.onDone(()=>{t.remove(),r()})})));yield i})()}get onDone(){return this._onDoneEmitter.event}get key(){return 1===this._prefetchInfo.length?this._prefetchInfo[0].coverUrl:this._prefetchInfo.map(e=>e.coverUrl).join(",")}dispose(){this._abortCallback&&this._abortCallback(),super.dispose()}constructor(e,t){super(e,t),this._abortCallback=null,this._onDoneEmitter=new o.Q,this.priority="high",this._prefetchInfo=(0,s.kx)(this._item)}}},595727:function(e,t,r){r.d(t,{l:function(){return h}});var i=r(789786),n=r(36097),o=r(700645),a=r(867713),s=r(434712),c=r(280166),l=r(584015),u=r(109845),d=r(651531);class h extends n.e{_beginMeasure(){new PerformanceObserver(e=>{var t=e.getEntries();(0,o.n)(()=>this._handleLoafReport(t),{priorityLevel:a.q.IdlePriority})}).observe({type:"long-animation-frame",buffered:!0}),this._register(this.onReport(this._handlePerformanceMonitorReport.bind(this)))}_shouldRandomlyDrop(){return Math.random()>.1}_handlePerformanceMonitorReport(e){var t,r=function(e){(0,o.n)(()=>{(0,l.b)(t._containerService,e)},{priorityLevel:a.q.IdlePriority})},{analyzeHistory:i}=e;if(!!i)for(var[,n]of Object.entries(i))t=this,r(n)}_handleLoafReport(e){for(var t of e){if(this._shouldRandomlyDrop())continue;var{blockingDuration:r,duration:i,entryType:n,firstUIEventTimestamp:o,renderStart:a,startTime:s,styleAndLayoutStart:c,scripts:l}=t,d=l[0];if(!!d){var{duration:h,executionStart:p,forcedStyleAndLayoutDuration:_,invoker:v,invokerType:m,pauseDuration:f,sourceURL:g,sourceFunctionName:y,sourceCharPosition:S}=d,w=JSON.stringify(t);(0,u.W)(this._containerService,{blockingDuration:r,duration:i,entryType:n,firstUIEventTimestamp:o,renderStart:a,startTime:s,styleAndLayoutStart:c,scriptDuration:h,scriptExecutionStart:p,scriptForcedStyleAndLayoutDuration:_,invoker:v,invokerType:m,pauseDuration:f,sourceURL:g,sourceFunctionName:y,sourceCharPosition:S,serializedInfo:w})}}}constructor(e,t,r){super({enableRecordFrameTime:!0,enableRecordLongTask:!0,enableReport:!0},t,r),this._containerService=e,this._environmentService=t,this._loggerService=r,this._beginMeasure()}}h=(0,i.gn)([(0,i.fM)(0,s.t),(0,i.fM)(1,c.Y),(0,i.fM)(2,d.VZ),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===s.t?Object:s.t,void 0===c.Y?Object:c.Y,void 0===d.VZ?Object:d.VZ])],h)},724517:function(e,t,r){r.d(t,{D:function(){return s}});var i=r(876826),n=r(789786),o=r(301249),a=r(719800);class s extends o.c{_getModule(){return(0,i._)(function*(){return(yield Promise.all([r.e("2175"),r.e("4889"),r.e("2707"),r.e("640"),r.e("1618"),r.e("7010"),r.e("2870"),r.e("3231"),r.e("6366"),r.e("7570"),r.e("478"),r.e("5949"),r.e("3961"),r.e("8059"),r.e("1001"),r.e("5160"),r.e("6668"),r.e("3064"),r.e("176"),r.e("8757"),r.e("2652")]).then(r.bind(r,736526))).OffscreenCanvasEditorService})()}constructor(e){super(e)}}s=(0,n.gn)([(0,n.fM)(0,a.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===a.T?Object:a.T])],s)},905449:function(e,t,r){r.d(t,{l:function(){return n}});var i=r(806663);function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?(0,i.V)(e.onKeepAliveChange)(t):e.onKeepAliveChange(t)}},671962:function(e,t,r){r.d(t,{Q:function(){return h}});var i=r(876826),n=r(789786),o=r(800613),a=r(297434),s=r(462305),c=r(56935),l=r(48252),u=r(178589),d=r(259273);class h{init(){var e;this._changeService(null===(e=this._platformUiConfigurationService.currentKeepAliveData)||void 0===e?void 0:e.routeId),this._platformUiConfigurationService.onKeepAliveChange(e=>{e.status===l.G.Activated&&this._changeService(e.routeId)})}_changeService(e){e===d.Sj.SearchResult?(this.setExploreService(this._searchFeedService),this.setStoryService(this._searchFeedService)):(this.setExploreService(this._inspirationFeedService),this.setStoryService(this._carouselService))}setExploreService(e){this._exploreService=e}setStoryService(e){this._storyService=e}get activeAiVideoFeed(){var e,t;return null!==(t=null===(e=this._exploreService)||void 0===e?void 0:e.activeAiVideoFeed)&&void 0!==t?t:null}get activeFeedItemId(){var e;return null===(e=this._exploreService)||void 0===e?void 0:e.activeFeedItemId}get exploreVideoList(){return(0,c.Y2)(this._exploreService,"exploreService is not initialized"),this._exploreService.exploreVideoList}get storyFeedList(){return(0,c.Y2)(this._storyService,"storyService is not initialized"),this._storyService.storyFeedList}markFavorite(e,t,r){var n=this;return(0,i._)(function*(){var i,o;r===s.u.Explore?yield null===(i=n._exploreService)||void 0===i?void 0:i.markFavorite(e,t):yield null===(o=n._storyService)||void 0===o?void 0:o.markFavorite(e,t)})()}markDownloadable(e,t,r){var n=this;return(0,i._)(function*(){if(r===s.u.Story){var i;yield null===(i=n._storyService)||void 0===i?void 0:i.markDownloadable(e,t)}})()}constructor(e,t,r,i){this._platformUiConfigurationService=e,this._searchFeedService=t,this._inspirationFeedService=r,this._carouselService=i,this.setActiveFeedItemId=e=>{var t;null===(t=this._exploreService)||void 0===t||t.setActiveFeedItemId(e)},this.init()}}h=(0,n.gn)([(0,n.fM)(0,u.e),(0,n.fM)(1,s.X),(0,n.fM)(2,a.x),(0,n.fM)(3,o.s),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===u.e?Object:u.e,void 0===s.X?Object:s.X,void 0===a.x?Object:a.x,void 0===o.s?Object:o.s])],h)},503417:function(e,t,r){r.d(t,{o:function(){return o}});var i=r(940140),n=r(188965);class o{_parseEffectsPreloadInfos(e){var t=null==e?void 0:e.filter(e=>e.source!==i.UI.HeyPan).reduce((e,t)=>(e["".concat(t.id,"-").concat(t.panel,"-").concat(t.source)]=t,e),{}),r=null==e?void 0:e.filter(e=>e.source===i.UI.HeyPan).reduce((e,t)=>(e["".concat(t.id,"-").concat(t.panel,"-").concat(t.source)]={item_id:t.id},e),{});return{effects:Object.values(t),vimoEffects:Object.values(r)}}_getDraftMetaInfo(){var e,t;return(0,n.x)({id:this.origin.id,templateId:this.origin.templateId,name:this.origin.name,dimensions:this.origin.dimension,pageCount:this.origin.pageCount,isNewCreate:"0"===this.origin.ticket,size:this._getDraftUsedSize({draftJson:this.origin.draftData,coverBase64:this.origin.coverList.map(e=>{var t;return null==e?void 0:null===(t=e.split("base64,"))||void 0===t?void 0:t[1]}),usedMaterialSize:this.origin.cloudAlbumAssert.map(e=>e.size)}),pageCoverList:this.pageCover.pageCoverList,uid:null!==(e=this.extra.uid)&&void 0!==e?e:"0",createTime:this.origin.draftCreateTime,isUseInCn:null!==(t=this.extra.isUseInCn)&&void 0!==t&&t,commitId:this.origin.commitId,isBatch:this.origin.isBatch,isAiImage:this.origin.isAiImage,transferedFrom:this.origin.transferedFrom})}_getPageCovers(e){var t=new Map,r=[],i=[],n=e=>e>0?"_".concat(e):"";if(e.forEach((e,o)=>{if(!!e){e=null==e?void 0:null===(a=e.split("base64,"))||void 0===a?void 0:a[1];var a,s="cover".concat(n(o),".jpg");t.has(e)?i.push({["page".concat(n(o))]:t.get(e)}):(r.push({data:e,source_path:s,index:o}),i.push({["page".concat(n(o))]:s}),t.set(e,s))}}),!r.find(e=>"cover.jpg"===e.source_path)&&r.length){var o=r[0];o.source_path="cover.jpg";var a=i.find(e=>e["page".concat(n(o.index))]);i.unshift({page:o.source_path}),a["page".concat(n(o.index))]=o.source_path}return{assetCovers:r,pageCoverList:i}}_getDraftUsedSize(e){var{draftJson:t,coverBase64:r,usedMaterialSize:i}=e,n=new TextEncoder,o=n.encode(t).length;return r.forEach(e=>e&&(o+=n.encode(e).length)),i.forEach(e=>o+=e),o}constructor(e,t){this.origin=e,this.extra=t,this.data={},this.pageCover=this._getPageCovers(e.coverList),this.cloudDraftMeta=this._getDraftMetaInfo(),Object.entries(e).forEach(e=>{var[t,r]=e;this[t](r)}),this.packageType(),this.combineResult()}}},54066:function(e,t,r){r.d(t,{r:function(){return p}});var i=r(876826),n=r(249651),o=r(555465),a=r(700645),s=r(867713),c=r(843698),l=r(274245),u=r(200493),d=r(798449),h=r(867556);class p{get onNetworkIdle(){return this._onNetworkIdleEmitter.event}postTask(e){var t=(0,l.$6)(e);return this._addTask(t),!this._isWorkLoopRunning&&this._isStarted&&(this._isWorkLoopRunning=!0,this._workLoop()),new l.AU(()=>{this._removeTask(t.key)&&this._history.totalTasksCount--})}cancelTask(e){var t=this._removeTask(e);return t&&this._history.totalTasksCount--,t}start(){this._isStarted=!0,!this._isWorkLoopRunning&&(this._isWorkLoopRunning=!0,this._workLoop())}_setNetworkIdleTimeout(){this._networkIdleTimeoutId&&clearTimeout(this._networkIdleTimeoutId),this._networkIdleTimeoutId=setTimeout(()=>{this._isNetworkIdle=!0,this._onNetworkIdleEmitter.fire(this._isNetworkIdle)},h.lY)}_listenNetworkRequest(){this._setNetworkIdleTimeout(),new PerformanceObserver(e=>{e.getEntriesByType("resource").some(e=>{var{initiatorType:t,transferSize:r,name:i}=e;return"link"!==t&&0!==r&&(0,u.i)(i)})&&(this._isNetworkIdle=!1,this._onNetworkIdleEmitter.fire(this._isNetworkIdle),this._setNetworkIdleTimeout())}).observe({entryTypes:["resource"]})}_removeTask(e){var t=this._tasksMap.get(e);return t?(this._tasksMap.delete(t.key),t.dispose(),!0):((0,d.c)("trying to remove a non-exist task",e),!1)}_addTask(e){if(this._tasksMap.has(e.key)){(0,d.c)("add task with duplicated key will use previous one",e.key);return}this._history.totalTasksCount++;this._tasksMap.set(e.key,e),this._tasksHeap.insert(e)}_workLoop(){var e=this;return(0,i._)(function*(){!e._isNetworkIdle&&((0,d.c)("work loop waiting for network idle"),yield new Promise(t=>{var r=e.onNetworkIdle(e=>{e&&(t(),r.dispose())})})),(0,d.c)("network idle, prefetch start");for(var t=[],r=0;r<h.uY;){var o=function(n){var o=e._tasksHeap.remove();return o?e._tasksMap.has(null==o?void 0:o.key)?void(t.push(new Promise(t=>{(0,a.n)((0,i._)(function*(){try{yield o.run()}finally{e._removeTask(o.key),e._history.completedTasksCount++,(0,d.w)([...e._tasksMap.values()],e._history),t()}}),{priorityLevel:s.q.IdlePriority})})),r=++n):(r=n,"continue"):(e._isWorkLoopRunning=!1,r=n,{v:void 0})}(r);if("object"===(0,n._)(o))return o.v}yield Promise.allSettled(t),(0,d.c)("prefetch done"),setTimeout(()=>window.requestAnimationFrame(()=>e._workLoop()),h.w4)})()}constructor(){this._history={totalTasksCount:0,completedTasksCount:0},this._tasksMap=new Map,this._tasksHeap=new o.H(l.PN),this._isStarted=!1,this._isWorkLoopRunning=!1,this._isNetworkIdle=!1,this._networkIdleTimeoutId=null,this._onNetworkIdleEmitter=new c.Q,this._listenNetworkRequest()}}},435889:function(e,t,r){r.d(t,{N:function(){return u}});var i=r(843698),n=r(874800),o=r(836413),a=r(638106),s=r(478164),c=r(861748);class l extends n.JT{cancel(){this._sdk.cancel(this._key),this._onError.fire((0,o.wf)(a.pY.Cancelled,"upload task cancelled."))}constructor(e,t){super(),this._sdk=e,this._key=t,this._onCompleted=new i.Q,this._onError=new i.Q,this._onProgress=new i.Q,this.onComplete=this._onCompleted.event,this.onError=this._onError.event,this.onProgress=this._onProgress.event,this._sdk.on("complete",e=>{if(e.key===this._key){var t,r,{uploadResult:i}=e;this._onCompleted.fire({uri:null!==(r=i.Uri)&&void 0!==r?r:"",md5:null===(t=i.ObjectMeta)||void 0===t?void 0:t.Md5})}}),this._sdk.on("error",e=>{var t;if(e.key===this._key)this._onError.fire((0,o.wf)(null!==(t=e.extra.errorCode)&&void 0!==t?t:-1,e.extra.message))}),this._sdk.on("progress",e=>{if(e.key===this._key)this._onProgress.fire(e.percent)})}}function u(e,t){var r=e.addFile({file:t.file,stsToken:t.stsToken,type:s.A.Object});e.start(r);var i=new l(e,r);return t.cancellationToken&&(0,c._)(i,t.cancellationToken),i}},201031:function(e,t,r){r.d(t,{J:function(){return l}});var i=r(608358),n=r(497973),o=r(135750),a=r(841401),s=r(448224),c=r(29996);class l extends i.FS{createChild(e){return new l(e,this)}dispose(){for(var e of this._childs)e.dispose();for(var[t,r]of(this._parent instanceof l&&this._parent._childs.delete(this),this._services.entries)){if(!(r instanceof n.M)&&r!==this&&r.__origin__!==this){if((0,s.Wf)(r)){var i;switch(null===(i=this.services.ownerships)||void 0===i?void 0:i.get(t)){case o.x.Reference:break;case o.x.Owned:default:r.dispose()}}}}}constructor(e=new a.y,t){super(e,t,e=>{(0,c.PB)(e,this)}),this._childs=new Set,this._parent instanceof l&&this._parent._childs.add(this)}}},892611:function(e,t,r){r.d(t,{D:function(){return s},d:function(){return c}});var i=r(876826),n=r(599998),o=r(188294);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["appVersion","sdkVersion"];return Object.keys(e).filter(e=>-1===t.indexOf(e)).sort((e,t)=>e.localeCompare(t)).reduce((t,r)=>{var i=e[r];return(Array.isArray(i)?i=i.join(","):"object"==typeof i&&null!==i&&(i=a(i)),""===t)?"".concat(r,"_").concat(i):"".concat(t,"_").concat(r,"_").concat(i)},"")}function s(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s)return e.postWithCache=e.post,e;var c=e.post;return e.postWithCache=(0,i._)(function*(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];var l=a(null!==(v=i[1])&&void 0!==v?v:{}),u=r?"".concat(r,"_").concat(l):l,d=(null===(_=i[1])||void 0===_?void 0:_.sortingPosition)!==0;if(!d){performance.now();var h=yield t.database.connect(n.P.id,o.m.name);if(h.ok){f=h.value;var p=yield f.query(u);p.ok&&p.value&&(m=p.value)}}if(m)return c.apply(this,i).then(e=>{f&&e&&f.set(u,{id:u,request:i,response:e,maxAge:432e5})}),m.response;try{var _,v,m,f,g,y=yield c.apply(this,i),S=(null==y?void 0:null===(g=y.BaseResp)||void 0===g?void 0:g.StatusCode)===0||(null==y?void 0:y.ret)==="0";return f&&S&&!d&&f.set(u,{id:u,request:i,response:y,maxAge:432e5}),y}catch(e){throw e}}),e}function c(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s)return e.postWithCache=e.post,e;var c=e.post,l=!0;return e.postWithCache=function(){for(var e,s,u,d,h,p=arguments.length,_=Array(p),v=0;v<p;v++)_[v]=arguments[v];var m=l;l=!1;var f=a(null!==(h=_[1])&&void 0!==h?h:{}),g=r?"".concat(r,"_").concat(f):f,y=(null===(d=_[1])||void 0===d?void 0:d.sortingPosition)!==0;var S=(e=(0,i._)(function*(){try{var e=yield t.database.connect(n.P.id,o.m.name);if(e.ok)return e.value;return null}catch(e){return null}}),function(){return e.apply(this,arguments)})(),{promise:w,resolve:k,reject:b}=Promise.withResolvers(),C=this;var R=(s=(0,i._)(function*(){var e,t=performance.now(),r=null;try{r=yield c.apply(C,_),k(r)}catch(e){b(e);return}finally{m&&performance.measure("FETCH_".concat(f),{start:t})}var i=yield S,n=(null==r?void 0:null===(e=r.BaseResp)||void 0===e?void 0:e.StatusCode)===0||(null==r?void 0:r.ret)==="0";i&&n&&!y&&i.set(g,{id:g,request:_,response:r,maxAge:432e5})}),function(){return s.apply(this,arguments)});var E=(u=(0,i._)(function*(){var e=performance.now();try{var t=yield S;if(t){var r=yield t.query(g);if(r.ok&&r.value){var i=r.value;k(i.response)}}}finally{m&&performance.measure("QUERY_DB_".concat(f),{start:e})}}),function(){return u.apply(this,arguments)});return R(),!y&&E(),w},e}},457523:function(e,t,r){r.d(t,{c:function(){return o},u:function(){return a}});var i,n,o=((i={}).TrackEditor="track_editor",i.Export="export",i);var a=((n={})[n.Scale360p=1]="Scale360p",n[n.Scale720p=3]="Scale720p",n[n.Scale1080p=4]="Scale1080p",n[n.Scale4k=10]="Scale4k",n)},680534:function(e,t,r){r.d(t,{A:function(){return g}});var i=r(876826),n=r(85728),o=r(929753),a=r(789786),s=r(936226),c=r(636601),l=r(643590),u=r(875649),d=r(927457),h=r(836413),p=r(346526),_=r(807744),v=r(12939),m=r(150615),f=r(557343);class g{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new l.y().build(l.D),(0,u.i3)(e),(0,p.V)(e),e)}return this._networkClientInstance}batchGetResources(e){var t=this;return(0,i._)(function*(){var r=Date.now();try{var i,n,o,a,s=t._convertParamsToRequest(e),c=yield t._networkClient.post(t._batchGetResourcesApi,s,(0,v._)(t._accountService.userProfile.region,m.ZP.language)),l=Number(null!==(i=c.ret)&&void 0!==i?i:0),u=null!==(n=c.errmsg)&&void 0!==n?n:"";try{null===(a=t._slardarAdapterService)||void 0===a||a.sendEvent("vimo_material_fetch_result",{path:_.bl.GET_THIRD_PARTY_RESOURCES_BY_ID,ret:String(l),msg:u,panel:t.resourcePanelType,logid:c.logid,detailCount:null===(o=c.data.effect_item_list)||void 0===o?void 0:o.length,duration:Date.now()-r})}catch(e){console.error("_slardarAdapterService error",e)}if(0!==l)return(0,h.wf)(null!=l?l:-1,null!=u?u:"");var p=t._convertResponseToResourcesData(e,c);return(0,h.oW)(p)}catch(e){var f,g,y=(0,d.m)(e,-1,"".concat(t.resourcePanelType," batchGetResources api error: ").concat(null==e?void 0:e.message));console.error("BatchGetThirdPartyResourcesRepository batchGetResources error",e);try{null===(g=t._slardarAdapterService)||void 0===g||g.sendEvent("vimo_material_fetch_result",{path:_.bl.GET_THIRD_PARTY_RESOURCES_BY_ID,ret:String(y.code),logid:null===(f=y.cause)||void 0===f?void 0:f.logid,msg:y.msg,panel:t.resourcePanelType,duration:Date.now()-r})}catch(e){console.error("_slardarAdapterService error",e)}return y}})()}buildCustomRequest(e){return{}}_convertParamsToRequest(e){var{items:t}=e,r=this.buildCustomRequest(e);return(0,n._)({},{items:t},r)}_convertResponseToResourcesData(e,t){return{list:t.data.effect_item_list.map(e=>this.parseHeycanResponseDataToResources((0,o._)((0,n._)({},e),{panel:this.resourcePanelType})))}}get _batchGetResourcesApi(){return"".concat(c._L.getVar("web_domain")).concat(_.bl.GET_THIRD_PARTY_RESOURCES_BY_ID)}constructor(e,t){this._accountService=e,this._slardarAdapterService=t}}g=(0,a.gn)([(0,a.fM)(0,s.Gw),(0,a.fM)(1,f.L),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===s.Gw?Object:s.Gw,void 0===f.L?Object:f.L])],g)},319820:function(e,t,r){r.d(t,{m:function(){return a}});var i=r(789786),n=r(719800),o=r(187347);class a{getUploadToken(e){return this._getUploadTokenRepository.getUploadToken(e)}constructor(e){this._instantiationService=e,this._getUploadTokenRepository=this._instantiationService.createInstance(o.Q)}}a=(0,i.gn)([(0,i.fM)(0,n.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===n.T?Object:n.T])],a)},515347:function(e,t,r){r.d(t,{h:function(){return i}});var i=(0,r(971245).yh)("dreamina-bff-data-service")},26980:function(e,t,r){r.d(t,{k:function(){return s}});var i=r(789786),n=r(719800),o=r(238386),a=r(130942);class s{fetchCampaignDetail(e){return this._fissionRepository.fetchCampaignDetail(e)}claimCampaignReward(e){return this._fissionRepository.claimCampaignReward(e)}fetchFissionDetail(e){return this._fissionRepository.fetchFissionDetail(e)}resumeInviteCode(e){return this._fissionRepository.resumeInviteCode(e)}fetchCommonResource(e){return this._ugResourceRepository.fetchCommonResource(e)}constructor(e){this._instantiationService=e,this._fissionRepository=this._instantiationService.createInstance(o.n),this._ugResourceRepository=this._instantiationService.createInstance(a.d)}}s=(0,i.gn)([(0,i.fM)(0,n.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===n.T?Object:n.T])],s)},633397:function(e,t,r){r.d(t,{b:function(){return i}});var i={VIP_PRICE_LIST:"/commerce/v1/subscription/price_list",OVERSEA_VIP_PRICE_LIST:"/commerce/v1/subscription/cc_price_list",CREDIT_PRICE_LIST:"/commerce/v1/purchase/price_list"}},834951:function(e,t,r){r.d(t,{W:function(){return y}});var i=r(876826),n=r(85728),o=r(929753),a=r(789786),s=r(216342),c=r(836413),l=r(346526),u=r(643590),d=r(107908),h=r(416105),p=r(875649),_=r(820266),v=r(927457),m=r(216822),f=r(442452),g=r(280166);class y{get _networkClient(){if(!this._networkClientInstance){var e,t;this._networkClientInstance=(e=String(this._environmentService.appId),t=new u.y().build({headers:{"Content-Type":"application/json",appid:String(e)},withCredentials:!0}),(0,d.x)(t,e),(0,h.mH)(t),(0,p.i3)(t),(0,l.V)(t),t)}return this._networkClientInstance}_getApi(e){return this._httpApiSettingService.getRequestURL({domainType:f.Y.COMMERCE,path:e})}makeCreditOrder(e,t){var r=this;return(0,i._)(function*(){try{var i=yield r._networkClient.post(r._getApi(m.b.MAKE_CREDIT_ORDER),(0,_.X)(t),{ctx:e});if("0"!==i.ret)return(0,c.wf)(Number(i.ret),i.errmsg);return(0,c.oW)((0,_.b)(i.data))}catch(e){return(0,v.m)(e,-1,"make credit order error")}})()}queryCreditOrderStatus(e,t){var r=this;return(0,i._)(function*(){try{var i=yield r._networkClient.post(r._getApi(m.b.CREDIT_ORDER_STATUS),(0,_.X)(t),{ctx:e});if("0"!==i.ret)return(0,c.wf)(Number(i.ret),i.errmsg);return i.data.sys_time=Number(i.systime),i.data.payment_method=i.data.pay_channel,(0,c.oW)((0,_.b)(i.data))}catch(e){return(0,v.m)(e,-1,"query credit order status error")}})()}cancelCreditOrder(e){var t=this;return(0,i._)(function*(){try{var r=yield t._networkClient.post(t._getApi(m.b.CANCEL_CREDIT_ORDER),(0,_.X)((0,o._)((0,n._)({},e),{isSubscribe:!1})));if("0"!==r.ret)return(0,c.wf)(Number(r.ret),r.errmsg);return(0,c.ly)()}catch(e){return(0,v.m)(e,-1,"cancel credit order error")}})()}constructor(e,t){this._httpApiSettingService=e,this._environmentService=t}}(0,a.gn)([(0,s.lI)("CreditOrderRepository","makeCreditOrder"),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context,"undefined"==typeof IMakeCreditOrderParams?Object:IMakeCreditOrderParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"makeCreditOrder",null),(0,a.gn)([(0,s.lI)("CreditOrderRepository","queryCreditOrderStatus"),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context,"undefined"==typeof IQueryOrderStatusParams?Object:IQueryOrderStatusParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"queryCreditOrderStatus",null),y=(0,a.gn)([(0,a.fM)(0,f.x),(0,a.fM)(1,g.Y),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===f.x?Object:f.x,void 0===g.Y?Object:g.Y])],y)},492778:function(e,t,r){r.d(t,{h:function(){return a}});var i=r(789786),n=r(522231),o=r(719800);class a{fetchVIPInfo(e){return this._vipRepository.fetchVIPInfo(e)}constructor(e){this._instantiationService=e,this._vipRepository=this._instantiationService.createInstance(n.J)}}a=(0,i.gn)([(0,i.fM)(0,o.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===o.T?Object:o.T])],a)},96613:function(e,t,r){r.d(t,{w:function(){return _}});var i=r(876826),n=r(789786),o=r(643590),a=r(416105),s=r(875649),c=r(927457),l=r(836413),u=r(346526),d=r(442452),h=r(660149),p=r(879976);class _{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new o.y().build({headers:{"Content-Type":"application/json"},withCredentials:!0}),(0,p.V)(e),(0,a.mH)(e),(0,s.i3)(e),(0,u.V)(e),e)}return this._networkClientInstance}feedbackTask(e){var t=this;return(0,i._)(function*(){try{var r={item_id:e.historyRecordId,feedback_status:e.feedBackType},i=yield t._networkClient.post("".concat(t._httpApiSettingService.getRequestURL({domainType:d.Y.DEFAULT,path:h.b.FEEDBACK_TASK})),r);if("0"!==i.ret)return(0,l.wf)(Number(i.ret),i.errmsg);return(0,l.oW)(!0)}catch(e){return(0,c.m)(e,-1,"feedback task fail error")}})()}constructor(e){this._httpApiSettingService=e}}_=(0,n.gn)([(0,n.fM)(0,d.x),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===d.x?Object:d.x])],_)},875421:function(e,t,r){r.d(t,{B:function(){return u}});var i=r(85728),n=r(789786),o=r(936226),a=r(116244),s=r(897727),c=r(484876),l=r(128581);class u extends l.i{get resourceType(){return s.g.Image}parseHeycanResponseDataToResources(e){return(0,a.Ar)(e)}buildCustomRequest(e){var t;return(0,i._)({},{pack_optional:{large_image_formats:c.r,need_thumb:!0,only_commercial:null!==(t=e.onlyCommercial)&&void 0!==t&&t,need_contract:!0,thumb_opt:'{"is_support_webp":1}'}})}constructor(e){super(e),this._capcutAccountService=e}}u=(0,n.gn)([(0,n.fM)(0,o.Gw),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===o.Gw?Object:o.Gw])],u)},101289:function(e,t,r){r.d(t,{z:function(){return o}});var i=r(324069),n=r(721434);class o extends i.i{parseResponseDataToResources(e){return(0,n.Mk)(e,!0)}}},520406:function(e,t,r){r.d(t,{K:function(){return s}});var i=r(598506),n=r(897727),o=r(457523),a=r(294202);class s extends i.T{get effectType(){return n.g.Video}get effectSource(){return a.Hw.TUCHONG}get scene(){return o.c.TrackEditor}buildCustomRequest(e){var t;return{video_scale:null!==(t=e.videoScale)&&void 0!==t?t:o.u.Scale360p}}}},761946:function(e,t,r){r.d(t,{F:function(){return i}});function i(e){return{workspaceId:e.workspace_id,name:e.name,spaceId:e.space_id,role:e.role,callerNickname:e.caller_nickname,memberLimit:e.member_limit,memberCount:e.member_cnt,owner:e.owner,ownerName:e.owner_name,quota:e.quota,usage:e.usage,avatarColor:e.avatar_color,invitationLink:e.invitation_link,expireTime:e.expire_time,region:e.region,idc:e.idc,dcName:e.dcName,spaceIdc:e.space_idc,spaceHost:e.space_host,spaceResHost:e.space_res_host,spaceType:e.space_type,rawSpaceType:e.raw_space_type,hasBrandPermission:e.has_brand_permission}}},44924:function(e,t,r){r.d(t,{R:function(){return n}});var i=r(322289);class n extends i.O{reportBusinessEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!!this._filter(t))super.reportBusinessEvent(e,t,r)}reportBusinessExitEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!!this._filter(t))super.reportBusinessExitEvent(e,t,r)}reportDevEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!!this._filter(t))super.reportDevEvent(e,t)}reportDevError(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super.reportDevError(e,t,r)}constructor(e,t,r){super(e,t),this._filter=r}}}}]);