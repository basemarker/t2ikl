/*! For license information please see 1054.6e816ff9.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["1054"],{234075:function(e,t,r){"use strict";var a=r(499845);function i(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,a="",i=0,n=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else if(47===r)break;else r=47;if(47===r){if(n===s-1||1===o);else if(n!==s-1&&2===o){if(a.length<2||2!==i||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2)){if(a.length>2){var l=a.lastIndexOf("/");if(l!==a.length-1){-1===l?(a="",i=0):i=(a=a.slice(0,l)).length-1-a.lastIndexOf("/"),n=s,o=0;continue}}else if(2===a.length||1===a.length){a="",i=0,n=s,o=0;continue}}t&&(a.length>0?a+="/..":a="..",i=2)}else a.length>0?a+="/"+e.slice(n+1,s):a=e.slice(n+1,s),i=s-n-1;n=s,o=0}else 46===r&&-1!==o?++o:o=-1}return a}var o={resolve:function(){for(var e,t,r="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){if(s>=0?t=arguments[s]:(void 0===e&&(e=a.cwd()),t=e),i(t),0!==t.length)r=t+"/"+r,o=47===t.charCodeAt(0)}if(r=n(r,!o),o)return r.length>0?"/"+r:"/";if(r.length>0)return r;return"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return(0===(e=n(e,!t)).length&&!t&&(e="."),e.length>0&&r&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];i(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if(e=o.resolve(e),e===(t=o.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var a=e.length,n=a-r,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,u=n<l?n:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else n>u&&(47===e.charCodeAt(r+d)?c=d:0===d&&(c=0));break}var p=e.charCodeAt(r+d);if(p!==t.charCodeAt(s+d))break;47===p&&(c=d)}var f="";for(d=r+c+1;d<=a;++d)(d===a||47===e.charCodeAt(d))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,a=-1,n=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!n){a=o;break}}else n=!1;return -1===a?r?"/":".":r&&1===a?"//":e.slice(0,a)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');i(e);var r,a=0,n=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!o){a=r+1;break}}else -1===l&&(o=!1,l=r+1),s>=0&&(u===t.charCodeAt(s)?-1==--s&&(n=r):(s=-1,n=l))}return a===n?n=l:-1===n&&(n=e.length),e.slice(a,n)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){a=r+1;break}}else -1===n&&(o=!1,n=r+1);return -1===n?"":e.slice(a,n)},extname:function(e){i(e);for(var t=-1,r=0,a=-1,n=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!n){r=s+1;break}continue}-1===a&&(n=!1,a=s+1),46===l?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return -1===t||-1===a||0===o||1===o&&t===a-1&&t===r+1?"":e.slice(t,a)},format:function(e){var t,r,a;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return r=(t=e).dir||t.root,a=t.base||(t.name||"")+(t.ext||""),r?r===t.root?r+a:r+"/"+a:a},parse:function(e){i(e);var t,r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var a=e.charCodeAt(0),n=47===a;n?(r.root="/",t=1):t=0;for(var o=-1,s=0,l=-1,u=!0,c=e.length-1,d=0;c>=t;--c){if(47===(a=e.charCodeAt(c))){if(!u){s=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===a?-1===o?o=c:1!==d&&(d=1):-1!==o&&(d=-1)}return -1===o||-1===l||0===d||1===d&&o===l-1&&o===s+1?-1!==l&&(0===s&&n?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(s,l)):(0===s&&n?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(s,o),r.base=e.slice(s,l)),r.ext=e.slice(o,l)),s>0?r.dir=e.slice(0,s-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o},593062:function(e,t,r){"use strict";r.d(t,{EQ:function(){return n},MY:function(){return i}});function a(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var a=e[r];if("*"===a||"+"===a||"?"===a){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===a){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===a){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===a){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===a){for(var i="",n=r+1;n<e.length;){var o=e.charCodeAt(n);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||95===o){i+=e[n++];continue}break}if(!i)throw TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:i}),r=n;continue}if("("===a){var s=1,l="",n=r+1;if("?"===e[n])throw TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<e.length;){if("\\"===e[n]){l+=e[n++]+e[n++];continue}if(")"===e[n]){if(0==--s){n++;break}}else if("("===e[n]&&(s++,"?"!==e[n+1]))throw TypeError("Capturing groups are not allowed at ".concat(n));l+=e[n++]}if(s)throw TypeError("Unbalanced pattern at ".concat(r));if(!l)throw TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:l}),r=n;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),a=t.prefixes,i=void 0===a?"./":a,n="[^".concat(o(t.delimiter||"/#?"),"]+?"),s=[],l=0,u=0,c="",d=function(e){if(u<r.length&&r[u].type===e)return r[u++].value},p=function(e){var t=d(e);if(void 0!==t)return t;var a=r[u],i=a.type,n=a.index;throw TypeError("Unexpected ".concat(i," at ").concat(n,", expected ").concat(e))},f=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};u<r.length;){var m=d("CHAR"),_=d("NAME"),y=d("PATTERN");if(_||y){var g=m||"";-1===i.indexOf(g)&&(c+=g,g=""),c&&(s.push(c),c=""),s.push({name:_||l++,prefix:g,suffix:"",pattern:y||n,modifier:d("MODIFIER")||""});continue}var h=m||d("ESCAPED_CHAR");if(h){c+=h;continue}if(c&&(s.push(c),c=""),d("OPEN")){var g=f(),v=d("NAME")||"",T=d("PATTERN")||"",w=f();p("CLOSE"),s.push({name:v||(T?l++:""),pattern:v&&!T?n:T,prefix:g,suffix:w,modifier:d("MODIFIER")||""});continue}p("END")}return s}function i(e,t){return function(e,t){void 0===t&&(t={});var r=s(t),a=t.encode,i=void 0===a?function(e){return e}:a,n=t.validate,o=void 0===n||n,l=e.map(function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),r)});return function(t){for(var r="",a=0;a<e.length;a++){var n=e[a];if("string"==typeof n){r+=n;continue}var s=t?t[n.name]:void 0,u="?"===n.modifier||"*"===n.modifier,c="*"===n.modifier||"+"===n.modifier;if(Array.isArray(s)){if(!c)throw TypeError('Expected "'.concat(n.name,'" to not repeat, but got an array'));if(0===s.length){if(u)continue;throw TypeError('Expected "'.concat(n.name,'" to not be empty'))}for(var d=0;d<s.length;d++){var p=i(s[d],n);if(o&&!l[a].test(p))throw TypeError('Expected all "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(p,'"'));r+=n.prefix+p+n.suffix}continue}if("string"==typeof s||"number"==typeof s){var p=i(String(s),n);if(o&&!l[a].test(p))throw TypeError('Expected "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(p,'"'));r+=n.prefix+p+n.suffix;continue}if(!u){var f=c?"an array":"a string";throw TypeError('Expected "'.concat(n.name,'" to be ').concat(f))}}return r}}(a(e,t),t)}function n(e,t){var r=[];return function(e,t,r){void 0===r&&(r={});var a=r.decode,i=void 0===a?function(e){return e}:a;return function(r){var a=e.exec(r);if(!a)return!1;for(var n=a[0],o=a.index,s=Object.create(null),l=1;l<a.length;l++)!function(e){if(void 0===a[e])return;var r=t[e-1];"*"===r.modifier||"+"===r.modifier?s[r.name]=a[e].split(r.prefix+r.suffix).map(function(e){return i(e,r)}):s[r.name]=i(a[e],r)}(l);return{path:n,index:o,params:s}}}(l(e,r,t),r,t)}function o(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function l(e,t,r){var i,n,u,c,d,p,f;if(e instanceof RegExp)return function(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,a=0,i=r.exec(e.source);i;)t.push({name:i[1]||a++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(e.source);return e}(e,t);if(Array.isArray(e)){;return i=e,n=t,u=r,c=i.map(function(e){return l(e,n,u).source}),new RegExp("(?:".concat(c.join("|"),")"),s(u))}return d=e,p=t,function(e,t,r){void 0===r&&(r={});for(var a=r.strict,i=void 0!==a&&a,n=r.start,l=r.end,u=r.encode,c=void 0===u?function(e){return e}:u,d=r.delimiter,p=r.endsWith,f="[".concat(o(void 0===p?"":p),"]|$"),m="[".concat(o(void 0===d?"/#?":d),"]"),_=void 0===n||n?"^":"",y=0;y<e.length;y++){var g=e[y];if("string"==typeof g)_+=o(c(g));else{var h=o(c(g.prefix)),v=o(c(g.suffix));if(g.pattern){if(t&&t.push(g),h||v){if("+"===g.modifier||"*"===g.modifier){var T="*"===g.modifier?"?":"";_+="(?:".concat(h,"((?:").concat(g.pattern,")(?:").concat(v).concat(h,"(?:").concat(g.pattern,"))*)").concat(v,")").concat(T)}else _+="(?:".concat(h,"(").concat(g.pattern,")").concat(v,")").concat(g.modifier)}else"+"===g.modifier||"*"===g.modifier?_+="((?:".concat(g.pattern,")").concat(g.modifier,")"):_+="(".concat(g.pattern,")").concat(g.modifier)}else _+="(?:".concat(h).concat(v,")").concat(g.modifier)}}if(void 0===l||l)!i&&(_+="".concat(m,"?")),_+=r.endsWith?"(?=".concat(f,")"):"$";else{var w=e[e.length-1],M="string"==typeof w?m.indexOf(w[w.length-1])>-1:void 0===w;!i&&(_+="(?:".concat(m,"(?=").concat(f,"))?")),!M&&(_+="(?=".concat(m,"|").concat(f,")"))}return new RegExp(_,s(r))}(a(d,f=r),p,f)}},375302:function(e,t,r){var a,i,n=r(499845);a=i||(i={}),function(e){var t="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=n(a);function n(e,t){return function(r,a){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:a}),t&&t(r,a)}}void 0===t.Reflect?t.Reflect=a:i=n(t.Reflect,i),e(i)}(function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,a=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s=({__proto__:[]})instanceof Array,l=!o&&!s,u={create:o?function(){return C(Object.create(null))}:s?function(){return C({__proto__:null})}:function(){return C({})},has:l?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:l?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),d="object"==typeof n&&n.env&&"true"===n.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var a=this._keys.length,i=r+1;i<a;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,a)},t.prototype.values=function(){return new r(this._keys,this._values,n)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function a(e,t){return e}function n(e,t){return t}function o(e,t){return[e,t]}}():Map,f=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}():Set,m=new(d||"function"!=typeof WeakMap?function(){var e=u.create(),r=a();return function(){function e(){this._key=a()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=a()},e}();function a(){var t;do t="@@WeakMap@@"+function(){var e=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):n(new Uint8Array(e),e);return n(Array(e),e)}(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",r=0;r<16;++r){var a=e[r];(4===r||6===r||8===r)&&(t+="-"),a<16&&(t+="0"),t+=a.toString(16).toLowerCase()}return t}();while(u.has(e,t));return e[t]=!0,t}function i(e,a){if(!t.call(e,r)){if(!a)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function n(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}}():WeakMap);e("decorate",function(e,t,r,a){if(w(r)){if(!A(e)||!E(t))throw TypeError();return function(e,t){for(var r=e.length-1;r>=0;--r){var a=(0,e[r])(t);if(!w(a)&&!M(a)){if(!E(a))throw TypeError();t=a}}return t}(e,t)}if(!A(e)||!b(t)||!b(a)&&!w(a)&&!M(a))throw TypeError();return M(a)&&(a=void 0),function(e,t,r,a){for(var i=e.length-1;i>=0;--i){var n=(0,e[i])(t,r,a);if(!w(n)&&!M(n)){if(!b(n))throw TypeError();a=n}}return a}(e,t,r=S(r),a)});e("metadata",function(e,t){return function(r,a){if(!b(r)||!w(a)&&!function(e){switch(T(e)){case 3:case 4:return!0;default:return!1}}(a))throw TypeError();h(e,t,r,a)}});e("defineMetadata",function(e,t,r,a){if(!b(r))throw TypeError();return!w(a)&&(a=S(a)),h(e,t,r,a)});e("hasMetadata",function(e,t,r){if(!b(t))throw TypeError();return!w(r)&&(r=S(r)),function e(t,r,a){if(y(t,r,a))return!0;var i=I(r);return!M(i)&&e(t,i,a)}(e,t,r)});e("hasOwnMetadata",function(e,t,r){if(!b(t))throw TypeError();return!w(r)&&(r=S(r)),y(e,t,r)});e("getMetadata",function(e,t,r){if(!b(t))throw TypeError();return!w(r)&&(r=S(r)),function e(t,r,a){if(y(t,r,a))return g(t,r,a);var i=I(r);if(!M(i))return e(t,i,a)}(e,t,r)});e("getOwnMetadata",function(e,t,r){if(!b(t))throw TypeError();return!w(r)&&(r=S(r)),g(e,t,r)});e("getMetadataKeys",function(e,t){if(!b(e))throw TypeError();return!w(t)&&(t=S(t)),function e(t,r){var a=v(t,r),i=I(t);if(null===i)return a;var n=e(i,r);if(n.length<=0)return a;if(a.length<=0)return n;for(var o=new f,s=[],l=0;l<a.length;l++){var u=a[l],c=o.has(u);!c&&(o.add(u),s.push(u))}for(var d=0;d<n.length;d++){var u=n[d],c=o.has(u);!c&&(o.add(u),s.push(u))}return s}(e,t)});e("getOwnMetadataKeys",function(e,t){if(!b(e))throw TypeError();return!w(t)&&(t=S(t)),v(e,t)});e("deleteMetadata",function(e,t,r){if(!b(t))throw TypeError();!w(r)&&(r=S(r));var a=_(t,r,!1);if(w(a)||!a.delete(e))return!1;if(a.size>0)return!0;var i=m.get(t);return i.delete(r),!!(i.size>0)||(m.delete(t),!0)});function _(e,t,r){var a=m.get(e);if(w(a)){if(!r)return;a=new p,m.set(e,a)}var i=a.get(t);if(w(i)){if(!r)return;i=new p,a.set(t,i)}return i}function y(e,t,r){var a=_(t,r,!1);return!w(a)&&function(e){return!!e}(a.has(e))}function g(e,t,r){var a=_(t,r,!1);if(!w(a))return a.get(e)}function h(e,t,r,a){_(r,a,!0).set(e,t)}function v(e,t){var r=[],a=_(e,t,!1);if(w(a))return r;for(var n=function(e){var t=R(e,i);if(!P(t))throw TypeError();var r=t.call(e);if(!b(r))throw TypeError();return r}(a.keys()),o=0;;){var s=function(e){var t=e.next();return!t.done&&t}(n);if(!s)return r.length=o,r;var l=function(e){return e.value}(s);try{r[o]=l}catch(e){try{(function(e){var t=e.return;t&&t.call(e)})(n)}finally{throw e}}o++}}function T(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function M(e){return null===e}function b(e){return"object"==typeof e?null!==e:"function"==typeof e}function S(e){var t=function(e,t){switch(T(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r="string",i=R(e,a);if(void 0!==i){var n=i.call(e,r);if(b(n))throw TypeError();return n}return function(e,t){if("string"===t){var r=e.toString;if(P(r)){var a=r.call(e);if(!b(a))return a}var i=e.valueOf;if(P(i)){var a=i.call(e);if(!b(a))return a}}else{var i=e.valueOf;if(P(i)){var a=i.call(e);if(!b(a))return a}var n=e.toString;if(P(n)){var a=n.call(e);if(!b(a))return a}}throw TypeError()}(e,"default"===r?"number":r)}(e,3);if("symbol"==typeof t)return t;return""+t}function A(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function P(e){return"function"==typeof e}function E(e){return"function"==typeof e}function R(e,t){var r=e[t];if(null!=r){if(!P(r))throw TypeError();return r}}function I(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c||t!==c)return t;var r=e.prototype,a=r&&Object.getPrototypeOf(r);if(null==a||a===Object.prototype)return t;var i=a.constructor;return"function"!=typeof i||i===e?t:i}function C(e){return e.__=void 0,delete e.__,e}})},417597:function(e,t,r){"use strict";r.d(t,{Ri:function(){return et}}),e=r.hmd(e);var a,i,n=r(499845);function o(e){return e.arrayBuffer?e.arrayBuffer():new Promise((t,r)=>{let a=new FileReader;a.addEventListener("loadend",()=>{t(a.result)}),a.addEventListener("error",r),a.readAsArrayBuffer(e)})}async function s(e){return new Uint8Array(await o(e))}function l(e){return"undefined"!=typeof Blob&&e instanceof Blob}function u(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}let c=void 0!==n&&n.versions&&void 0!==n.versions.node&&void 0===n.versions.electron;class d{constructor(e){this.typedArray=e instanceof ArrayBuffer||u(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class p{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){let r=this.blob.slice(e,e+t);return new Uint8Array(await o(r))}async sliceAsBlob(e,t,r=""){return this.blob.slice(e,e+t,r)}}function f(e,t){var r=e.length;if(t<=r)return e;var a=new Uint8Array(Math.max(r<<1,t));return a.set(e,0),a}function m(e,t,r,a,i,n){for(var o=v,s=w,l=0;l<r;){var u=e[s(a,i)&t];i+=15&u;var c=u>>>4;if(c<=15)n[l]=c,l++;else{var d=0,p=0;16==c?(p=3+o(a,i,2),i+=2,d=n[l-1]):17==c?(p=3+o(a,i,3),i+=3):18==c&&(p=11+o(a,i,7),i+=7);for(var f=l+p;l<f;)n[l]=d,l++}}return i}function _(e,t,r,a){for(var i=0,n=0,o=a.length>>>1;n<r;){var s=e[n+t];a[n<<1]=0,a[(n<<1)+1]=s,s>i&&(i=s),n++}for(;n<o;)a[n<<1]=0,a[(n<<1)+1]=0,n++;return i}function y(e,t){for(var r,a,i,n,o,s=e.length,l=M.bl_count,n=0;n<=t;n++)l[n]=0;for(n=1;n<s;n+=2)l[e[n]]++;var u=M.next_code;for(a=1,r=0,l[0]=0;a<=t;a++)r=r+l[a-1]<<1,u[a]=r;for(i=0;i<s;i+=2)0!=(o=e[i+1])&&(e[i]=u[o],u[o]++)}function g(e,t,r){for(var a=e.length,i=M.rev15,n=0;n<a;n+=2)if(0!=e[n+1]){for(var o=n>>1,s=e[n+1],l=o<<4|s,u=t-s,c=e[n]<<u,d=c+(1<<u);c!=d;)r[i[c]>>>15-t]=l,c++}}function h(e,t){for(var r=M.rev15,a=15-t,i=0;i<e.length;i+=2){var n=e[i]<<t-e[i+1];e[i]=r[n]>>>a}}function v(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<r)-1}function T(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<r)-1}function w(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)}let M=(a=Uint16Array,i=Uint32Array,{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new a(65536),prev:new a(32768)});!function(){for(var e=0;e<32768;e++){var t=e;t=(0xff00ff00&(t=(0xf0f0f0f0&(t=(0xcccccccc&(t=(0xaaaaaaaa&t)>>>1|(0x55555555&t)<<1))>>>2|(0x33333333&t)<<2))>>>4|(0xf0f0f0f&t)<<4))>>>8|(0xff00ff&t)<<8,M.rev15[e]=(t>>>16|t<<16)>>>17}function r(e,t,r){for(;0!=t--;)e.push(0,r)}for(var e=0;e<32;e++)M.ldef[e]=M.of0[e]<<3|M.exb[e],M.ddef[e]=M.df0[e]<<4|M.dxb[e];r(M.fltree,144,8),r(M.fltree,112,9),r(M.fltree,24,7),r(M.fltree,8,8),y(M.fltree,9),g(M.fltree,9,M.flmap),h(M.fltree,9),r(M.fdtree,32,5),y(M.fdtree,5),g(M.fdtree,5,M.fdmap),h(M.fdtree,5),r(M.itree,19,0),r(M.ltree,286,0),r(M.dtree,30,0),r(M.ttree,320,0)}();let b={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,a=0;a<8;a++)1&r?r=0xedb88320^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,a){for(var i=0;i<a;i++)e=b.table[(e^t[r+i])&255]^e>>>8;return e},crc:function(e,t,r){return 0xffffffff^b.update(0xffffffff,e,t,r)}},S={numWorkers:1,workerURL:"",useWorkers:!1},A=0,P=0,E=!0,R=[],I=[],C=[],k=new Map;function D(e){O(e.target);let{id:t,error:r,data:a}=e.data,i=k.get(t);k.delete(t),r?i.reject(r):i.resolve(a)}function x(e){return new Promise((t,r)=>{let a=new Worker(e);a.onmessage=e=>{"start"===e.data?(a.onerror=void 0,a.onmessage=void 0,t(a)):r(Error(`unexpected message: ${e.data}`))},a.onerror=r})}let N=function(){if(!c)return{async createWorker(e){let t;try{return await x(e)}catch(t){console.warn("could not load worker:",e)}try{let r=await fetch(e,{mode:"cors"});if(!r.ok)throw Error(`could not load: ${e}`);t=await r.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));let a=await x(e);return S.workerURL=e,a}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;let r=await x(e);return S.workerURL=e,r}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};{var t;let{Worker:r}=(t="worker_threads",e.require(t));return{createWorker:async e=>new r(e),addEventListener(e,t){e.on("message",r=>{t({target:e,data:r})})},async terminate(e){await e.terminate()}}}}();function O(e){I.push(e),F()}async function L(){if(0===I.length&&P<S.numWorkers){++P;try{let e=await N.createWorker(S.workerURL);R.push(e),I.push(e),N.addEventListener(e,D)}catch(e){E=!1}}return I.pop()}async function F(){if(0!==C.length){if(S.useWorkers&&E){let e=await L();if(E){if(e){if(0===C.length){O(e);return}let{id:t,src:r,uncompressedSize:a,type:i,resolve:n,reject:o}=C.shift();k.set(t,{id:t,resolve:n,reject:o});e.postMessage({type:"inflate",data:{id:t,type:i,src:r,uncompressedSize:a}},[])}return}}for(;C.length;){let{src:e,uncompressedSize:t,type:r,resolve:a}=C.shift(),i=e;l(e)&&(i=await s(e)),!function(e,t,r,a){let i=new Uint8Array(t);!function(e,t){var r,a,i=Uint8Array;if(3==e[0]&&0==e[1])return t||new i(0);var n=T,o=v,s=m,l=w,u=null==t;u&&(t=new i(e.length>>>2<<3));for(var c=0,d=0,p=0,h=0,b=0,S=0,A=0,P=0,E=0;0==c;){if(c=n(e,E,1),d=n(e,E+1,2),E+=3,0==d){(7&E)!=0&&(E+=8-(7&E));var R=(E>>>3)+4,I=e[R-4]|e[R-3]<<8;u&&(t=f(t,P+I)),t.set(new i(e.buffer,e.byteOffset+R,I),P),E=R+I<<3,P+=I;continue}if(u&&(t=f(t,P+131072)),1==d&&(r=M.flmap,a=M.fdmap,S=511,A=31),2==d){p=o(e,E,5)+257,h=o(e,E+5,5)+1,b=o(e,E+10,4)+4,E+=14;for(var C=0;C<38;C+=2)M.itree[C]=0,M.itree[C+1]=0;for(var k=1,C=0;C<b;C++){var D=o(e,E+3*C,3);M.itree[(M.ordr[C]<<1)+1]=D,D>k&&(k=D)}E+=3*b,y(M.itree,k),g(M.itree,k,M.imap),r=M.lmap,a=M.dmap,E=s(M.imap,(1<<k)-1,p+h,e,E,M.ttree);var x=_(M.ttree,0,p,M.ltree);S=(1<<x)-1;var N=_(M.ttree,p,h,M.dtree);A=(1<<N)-1,y(M.ltree,x),g(M.ltree,x,r),y(M.dtree,N),g(M.dtree,N,a)}for(;;){var O=r[l(e,E)&S];E+=15&O;var L=O>>>4;if(L>>>8==0)t[P++]=L;else if(256==L)break;else{var F=P+L-254;if(L>264){var U=M.ldef[L-257];F=P+(U>>>3)+o(e,E,7&U),E+=7&U}var B=a[l(e,E)&A];E+=15&B;var G=B>>>4,j=M.ddef[G],H=(j>>>4)+n(e,E,15&j);for(E+=15&j,u&&(t=f(t,P+131072));P<F;)t[P]=t[P++-H],t[P]=t[P++-H],t[P]=t[P++-H],t[P]=t[P++-H];P=F}}}t.length==P?t:t.slice(0,P)}(e,i),a(r?new Blob([i],{type:r}):i.buffer)}(i,t,r,a)}}}function U(e,t,r){return new Promise((a,i)=>{C.push({src:e,uncompressedSize:t,type:r,resolve:a,reject:i,id:A++}),F()})}class B{constructor(e,t){var r,a;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(r=t.lastModFileDate,new Date((r>>9&127)+1980,(r>>5&15)-1,31&r,(a=t.lastModFileTime)>>11&31,a>>5&63,(31&a)*2,0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await X(this._reader,this._rawEntry,e)}async arrayBuffer(){return await Q(this._reader,this._rawEntry)}async text(){return K(new Uint8Array(await this.arrayBuffer()))}async json(){return JSON.parse(await this.text())}}async function G(e,t,r){return await e.read(t,r)}async function j(e,t,r,a){return e.sliceAsBlob?await e.sliceAsBlob(t,r,a):await e.read(t,r)}let H={unsigned:()=>0};function W(e,t){return e[t]+256*e[t+1]}function q(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+0x1000000*e[t+3]}function z(e,t){return q(e,t)+0x100000000*q(e,t+4)}let V=new TextDecoder;function K(e,t){return u(e.buffer)&&(e=new Uint8Array(e)),V.decode(e)}async function Y(e,t){let r=Math.min(65557,t),a=t-r,i=await G(e,a,r);for(let t=r-22;t>=0;--t){if(0x6054b50!==q(i,t))continue;let r=new Uint8Array(i.buffer,i.byteOffset+t,i.byteLength-t),n=W(r,4);if(0!==n)throw Error(`multi-volume zip files are not supported. This is volume: ${n}`);let o=W(r,10),s=q(r,12),l=q(r,16),u=W(r,20),c=r.length-22;if(u!==c)throw Error(`invalid comment length. expected: ${c}, actual: ${u}`);let d=new Uint8Array(r.buffer,r.byteOffset+22,u),p=K(d);if(65535===o||0xffffffff===l)return await J(e,a+t,p,d);return await Z(e,l,s,o,p,d)}throw Error("could not find end of central directory. maybe not zip file")}async function J(e,t,r,a){let i=await G(e,t-20,20);if(0x7064b50!==q(i,0))throw Error("invalid zip64 end of central directory locator signature");let n=z(i,8),o=await G(e,n,56);if(0x6064b50!==q(o,0))throw Error("invalid zip64 end of central directory record signature");let s=z(o,32),l=z(o,40);return Z(e,z(o,48),l,s,r,a)}async function Z(e,t,r,a,i,n){let o=0,s=await G(e,t,r),l=[];for(let e=0;e<a;++e){let e=s.subarray(o,o+46),t=q(e,0);if(0x2014b50!==t)throw Error(`invalid central directory file header signature: 0x${t.toString(16)}`);let r={versionMadeBy:W(e,4),versionNeededToExtract:W(e,6),generalPurposeBitFlag:W(e,8),compressionMethod:W(e,10),lastModFileTime:W(e,12),lastModFileDate:W(e,14),crc32:q(e,16),compressedSize:q(e,20),uncompressedSize:q(e,24),fileNameLength:W(e,28),extraFieldLength:W(e,30),fileCommentLength:W(e,32),internalFileAttributes:W(e,36),externalFileAttributes:q(e,38),relativeOffsetOfLocalHeader:q(e,42)};if(64&r.generalPurposeBitFlag)throw Error("strong encryption is not supported");o+=46;let a=s.subarray(o,o+r.fileNameLength+r.extraFieldLength+r.fileCommentLength);r.nameBytes=a.slice(0,r.fileNameLength),r.name=K(r.nameBytes);let i=r.fileNameLength+r.extraFieldLength,n=a.slice(r.fileNameLength,i);r.extraFields=[];let u=0;for(;u<n.length-3;){let e=W(n,u+0),t=W(n,u+2),a=u+4,i=a+t;if(i>n.length)throw Error("extra field length exceeds extra field buffer size");r.extraFields.push({id:e,data:n.slice(a,i)}),u=i}if(r.commentBytes=a.slice(i,i+r.fileCommentLength),r.comment=K(r.commentBytes),o+=a.length,0xffffffff===r.uncompressedSize||0xffffffff===r.compressedSize||0xffffffff===r.relativeOffsetOfLocalHeader){let e=r.extraFields.find(e=>1===e.id);if(!e)throw Error("expected zip64 extended information extra field");let t=e.data,a=0;if(0xffffffff===r.uncompressedSize){if(a+8>t.length)throw Error("zip64 extended information extra field does not include uncompressed size");r.uncompressedSize=z(t,a),a+=8}if(0xffffffff===r.compressedSize){if(a+8>t.length)throw Error("zip64 extended information extra field does not include compressed size");r.compressedSize=z(t,a),a+=8}if(0xffffffff===r.relativeOffsetOfLocalHeader){if(a+8>t.length)throw Error("zip64 extended information extra field does not include relative header offset");r.relativeOffsetOfLocalHeader=z(t,a),a+=8}}let c=r.extraFields.find(e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&q(e.data,1),H.unsigned(r.nameBytes));if(c&&(r.fileName=K(c.data.slice(5))),0===r.compressionMethod){let e=r.uncompressedSize;if((1&r.generalPurposeBitFlag)!=0&&(e+=12),r.compressedSize!==e)throw Error(`compressed size mismatch for stored file: ${r.compressedSize} != ${e}`)}l.push(r)}return{zip:{comment:i,commentBytes:n},entries:l.map(t=>new B(e,t))}}async function $(e,t){let r;if(1&t.generalPurposeBitFlag)throw Error("encrypted entries not supported");let a=await G(e,t.relativeOffsetOfLocalHeader,30),i=await e.getLength(),n=q(a,0);if(0x4034b50!==n)throw Error(`invalid local file header signature: 0x${n.toString(16)}`);let o=W(a,26),s=W(a,28),l=t.relativeOffsetOfLocalHeader+a.length+o+s;if(0===t.compressionMethod)r=!1;else if(8===t.compressionMethod)r=!0;else throw Error(`unsupported compression method: ${t.compressionMethod}`);let u=l+t.compressedSize;if(0!==t.compressedSize&&u>i)throw Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${i}`);return{decompress:r,fileDataStart:l}}async function Q(e,t){let{decompress:r,fileDataStart:a}=await $(e,t);if(!r){var i;let r=await G(e,a,t.compressedSize);return 0===(i=r).byteOffset&&i.byteLength===i.buffer.byteLength?r.buffer:r.slice().buffer}let n=await j(e,a,t.compressedSize);return await U(n,t.uncompressedSize)}async function X(e,t,r){let{decompress:a,fileDataStart:i}=await $(e,t);if(!a){let a=await j(e,i,t.compressedSize,r);return l(a)?a:new Blob([u(a.buffer)?new Uint8Array(a):a],{type:r})}let n=await j(e,i,t.compressedSize);return await U(n,t.uncompressedSize,r)}async function ee(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new p(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new d(e);else if(u(e)||u(e.buffer))t=new d(e);else if("string"==typeof e){let r=await fetch(e);if(!r.ok)throw Error(`failed http request ${e}, status: ${r.status}: ${r.statusText}`);t=new p(await r.blob())}else if("function"==typeof e.getLength&&"function"==typeof e.read)t=e;else throw Error("unsupported source type");let r=await t.getLength();if(r>Number.MAX_SAFE_INTEGER)throw Error(`file too large. size: ${r}. Only file sizes up 4503599627370496 bytes are supported`);return await Y(t,r)}async function et(e){let{zip:t,entries:r}=await ee(e);return{zip:t,entries:Object.fromEntries(r.map(e=>[e.name,e]))}}},467475:function(e,t,r){"use strict";function a(e){var t=[];return(null==e?void 0:e.region)&&t.push("store_region=".concat(e.region.toLowerCase())),(null==e?void 0:e.lang)&&t.push("lang=".concat(e.lang.toLowerCase())),t.length>0?"?".concat(t.join("&")):""}r.d(t,{AF:()=>n,_S:()=>s,yM:()=>o});var i,n=548669,o={APP_NAME:"cc_web",APP_ID:"".concat(n),APP_PF:"7",CHANNEL:"sg",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",CC4B_PAGE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return"https://www.capcut.com/business/campaign/commercepro-early-bird-recruitment"},PRIVACY_POLICY:e=>"https://www.douyin.com/draft/douyin_agreement/douyin_agreement_privacy.html",GOOGLE_PRIVACY_POLICY:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:e=>"https://www.douyin.com/draft/douyin_agreement/douyin_agreement_user.html",COOKIE_POLICY:e=>"/clause/cookies-policy"+a(e),MATERIALS_POLICY:e=>"/clause/material-license-agreement"+a(e),CREATOR_AGREEMENT:e=>"/clause/creator-agreement"+a(e),COMMUNITY_GUIDELINE:e=>"/clause/community-guideline"+a(e),AUSTRALIAN_ONLINE_SAFETY:e=>"/clause/australian-online-safety"+a(e),DSA_COMPLIANCE:e=>"/clause/dsa-compliance-capcut"+a(e)};var s=((i={})[i.commerce=573081]="commerce",i[i.inspireVid=578169]="inspireVid",i[i.packPic=578251]="packPic",i[i.speech=581541]="speech",i[i.dreamina=513641]="dreamina",i[i.capcut=348188]="capcut",i)},559309:function(e,t,r){"use strict";r.d(t,{ie:function(){return o},yp:function(){return n}});var a,i,n=((a={}).US="US",a.BR="BR",a.SG="SG",a.KR="KR",a.ID="ID",a.GB="GB",a.CA="CA",a.AU="AU",a.NZ="NZ",a.AT="AT",a.BE="BE",a.BG="BG",a.HR="HR",a.CY="CY",a.CZ="CZ",a.DK="DK",a.EE="EE",a.FI="FI",a.FR="FR",a.DE="DE",a.GR="GR",a.HU="HU",a.IS="IS",a.IE="IE",a.IT="IT",a.LV="LV",a.LI="LI",a.LT="LT",a.LU="LU",a.MT="MT",a.NL="NL",a.NO="NO",a.PL="PL",a.PT="PT",a.RO="RO",a.SK="SK",a.SI="SI",a.ES="ES",a.SE="SE",a.IL="IL",a.PS="PS",a.TW="TW",a.HK="HK",a.MO="MO",a.JP="JP",a.MX="MX",a);var o=((i={}).VA="maliva",i.GCP="useast2a",i.SG="sg1",i)},267728:function(e,t,r){"use strict";r.d(t,{U_:()=>er.U_,$R:()=>E,hm:()=>er.hm,Bd:()=>tv,vz:()=>em,cJ:()=>tI,vx:()=>tA,zL:()=>ev,ij:()=>to,J5:()=>tf,RG:()=>ts,Mn:()=>tR,$$:()=>tE,ff:()=>D,RA:()=>tn,qz:()=>ey});var a,i,n,o,s,l,u,c,d,p,f,m,_,y,g,h,v,T=r("85728"),w=r("929753"),M=r("876826");class b{setAxiosInstances(e){this.axiosInstances=e}}var S=r("940140"),A=r("591586"),P="custom-host-name-type",E="need-x-lvweb-idc-header",R=r("372699"),I=r("818398"),C=r.n(I);class k{static get apiSetting(){return k._apiSetting}static setApiSetting(e){k._apiSetting=e,k.commonInterceptor.updateApiSetting(e)}addInterceptor(e){return Array.isArray(e)?this._interceptors.push(...e):this._interceptors.push(e),this}setDefaultConfig(e){return this._defaultConfig=null!=e?e:{},this}useJsonBigTransformResponse(){var e,t;return this._defaultConfig=(0,w._)((0,T._)({},this._defaultConfig),{transformResponse:[...Array.isArray(null===(e=this._defaultConfig)||void 0===e?void 0:e.transformResponse)?null===(t=this._defaultConfig)||void 0===t?void 0:t.transformResponse:[],e=>{try{return C().parse(e)}catch(t){return{data:e}}}]}),this}build(){var e=R.Z.create(this._defaultConfig);return this._applyInterceptors(e),e}_applyInterceptors(e){for(var t of[...this._interceptors,...this._baseInterceptors])t.axiosInstances=e,t.request&&e.interceptors.request.use(t.request.onFulfilled,t.request.onRejected,t.request.options),t.response&&e.interceptors.response.use(t.response.onFulfilled,t.response.onRejected,t.response.options)}constructor(){this._interceptors=[],this._baseInterceptors=[k.commonInterceptor]}}k.commonInterceptor=new class e extends b{updateApiSetting(e){this._setting=e}constructor(...e){var t,r;super(...e),t=this,this.request={onFulfilled:(r=(0,M._)(function*(e){var r,a,i=!!(null===(r=e.baseURL)||void 0===r?void 0:r.startsWith("https")),n=e[P]||S.b_.Default,o=null===(a=e[E])||void 0===a||a;if(!i){var s=!1;setTimeout(()=>{!s&&A.t.error("current request".concat(e.url," is blocking by route. Please check"))},2e3);var l=yield t._setting.getRequestDomain({type:n});s=!0,e.baseURL=l}var u=(0,w._)((0,T._)({loc:yield t._setting.getUserRegion()},e.headers),{"x-lvweb-idc":t._setting.userIDC});return!o&&delete u["x-lvweb-idc"],Object.assign(e,{headers:u,withCredentials:!0}),e}),function(e){return r.apply(this,arguments)})}}};var D=k,x=r("789786");class N extends b{constructor(...e){super(...e),this.response={onFulfilled:e=>{if(200!==e.status)return Promise.reject(e);var{data:t}=e;return"0"!==t.ret?Promise.reject(t):t.data}}}}var O="5.8.0",L="feed",F={GetCategories:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/get_collections"},GetTemplatesAccordCategory:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/get_collection_templates"},GetRecentList:{hostNameType:S.b_.Default,url:"/lv/v1/editor/template/recent_list"},ReportRecently:{hostNameType:S.b_.Default,url:"/lv/v1/editor/use_report"},GetTemplateDetail:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/get_template_detail"},GetTemplateHotWords:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/replicate/get_search_words"},SearchTemplates:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/replicate/search_templates"},GetAllTemplateRatio:{HostNameType:S.b_.Default,url:"https://lf16-beecdn.ibytedtos.com/obj/ies-fe-bee-sg/bee_prod/biz_49/bee_prod_49_bee_publish_709.json"},GetTemplateScenes:{HostNameType:S.b_.Default,url:"https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-ies.ccweb.graphic_template_scene-default"},GetBatchCategories:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/get_categories"},GetBatchTemplatesByCategory:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/batch_get_collection_templates"},GetPresets:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/get_collection_presets"},GetPresetDetail:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/preset_template_detail"},PostDeletePresetsTemplate:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/del_presets_template"},FuzzySearchTemplateByTitle:{hostNameType:S.b_.Default,url:"/lv/v1/cc_web/plane/fuzzy_search_templates"}},U={0:[0],1:[1],2:[2],3:[3],4:[4],">4":[5,1e4]},B=r("998498"),G=r.n(B);function j(e){var{url:t,pf:r,appvr:a,tdid:i}=e,n=Math.floor(Date.now()/1e3);return{sign:G()("9e2c|".concat(t.slice(-7),"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(i,"|11ac")).toLowerCase(),"device-time":n}}class H extends b{constructor(...e){super(...e),this.request={onFulfilled:e=>{var t,r=(0,w._)((0,T._)({},j({url:null!==(t=e.url)&&void 0!==t?t:"",pf:"7",appvr:O,tdid:""})),{"sign-ver":1,pf:"7",appvr:O});return Object.assign(e,{headers:(0,T._)({},e.headers,r)}),e}}}}var W=r("150615"),q="browser",z={SaveDraftUrl:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane_draft/save"},GetDraftUrl:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane_draft/get_draft_detail"},GetTemplateUrl:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane_draft/get_template_detail"},SyncDraftOpenTime:{hostNameType:S.b_.Default,url:"/cc/v1/workspace/sync_file_open_time"},SyncSaveToken:{hostNameType:S.b_.Default,url:"/lv/v1/editor/draft/get_version_list"},PublishAsTemplate:{hostNameType:S.b_.Default,url:"/lv/v1/editor/template/add"},CheckPublishTemplatePermission:{hostNameType:S.b_.Default,url:"/lv/v1/editor/template/check_post_permission"},DraftOpenReport:{hostNameType:S.b_.Default,url:"/lv/v1/event/report"},GetTemplateFile:{hostNameType:S.b_.Default,url:"/lv/v1/editor/draft/get_template_file"}};r("375302");var V=Symbol("reflect_metadata_api:name");function K(e){return function(t,r,a){if(!!a.value)return Reflect.defineMetadata(V,null!=e?e:r.toString(),t,r.toString()),a}}class Y{static getInstance(){return!Y._instance&&(Y._instance=new Y),Y._instance}registerApi(e){var t=Object.getPrototypeOf(e);for(var[r,a]of Object.getOwnPropertyNames(t).filter(e=>"function"==typeof t[e]&&"constructor"!==e).map(e=>{var r=Reflect.getMetadata(V,t,e);return[e,r]}).filter(e=>!!e[1])){var i=t[r];this._apiMethodMap.set(a,{name:r,method:i.bind(e)})}}getApiMethod(e){var t=this._apiMethodMap.get(e);return null==t?void 0:t.method}constructor(){this._apiMethodMap=new Map}}var J=r("598879"),Z="custom-axios-retry";function $(e){var t=(null==e?void 0:e[Z])||{};return t.retryCount=t.retryCount||0,t}class Q extends b{constructor(e){super(),this.request={onFulfilled:e=>{var t=$(e);return t.lastRequestTime=Date.now(),e[Z]=t,e}},this.response={onRejected:e=>{var{config:t}=e;if(!t)return Promise.reject(e);var{retries:r=1,isRetry:a=()=>!0,retryDelay:i=200,resetTimeout:n=!0}=(0,T._)({},this._retryOptions,null==t?void 0:t[Z]),o=$(t);if((a(t.url,e)||o.canRetry)&&o.retryCount<r){o.retryCount+=1;var s,l,u="number"==typeof i?i:i(o.retryCount,e);if(s=this.axiosInstances,l=t,s.defaults.agent===l.agent&&delete l.agent,s.defaults.httpAgent===l.httpAgent&&delete l.httpAgent,s.defaults.httpsAgent===l.httpsAgent&&delete l.httpsAgent,!n&&t.timeout&&o.lastRequestTime){var c=Date.now()-o.lastRequestTime;t.timeout=Math.max(t.timeout-c-u,1)}return t.transformRequest=[e=>e],new Promise(e=>setTimeout(()=>e(this.axiosInstances(t)),u))}return Promise.reject(e)}},this._retryOptions=e}}var X="999.999.999",ee="16.1.0",et={method:"POST",headers:{"Content-Type":"application/json","app-sdk-version":X}},er=r("487059");er.hm.SalesSticker,er.hm.SalesFont,er.hm.SalesTextTemplate,er.hm.Svg,er.hm.SalesFrame,er.hm.SalesFilter,er.hm.SalesImageEffect,er.hm.AIBackground;var ea=((a={}).ImageEditor="image_editor",a.BatchImageEditor="batch_image_editor",a),ei={ReportRecently:{hostNameType:S.b_.Default,url:"/lv/v1/editor/use_report"}},en="5.8.0",eo=r("295834"),es=r("234075"),el=r.n(es);var eu=((i={})[i.MetaTypeNone=0]="MetaTypeNone",i[i.MetaTypeVideo=1]="MetaTypeVideo",i[i.MetaTypePhoto=2]="MetaTypePhoto",i[i.MetaTypeGif=3]="MetaTypeGif",i[i.MetaTypeMusic=4]="MetaTypeMusic",i[i.MetaTypeExtractMusic=5]="MetaTypeExtractMusic",i[i.MetaTypeSound=6]="MetaTypeSound",i[i.MetaTypeRecord=7]="MetaTypeRecord",i[i.MetaTypeImage=8]="MetaTypeImage",i[i.MetaTypeText=9]="MetaTypeText",i[i.MetaTypeSubtitle=10]="MetaTypeSubtitle",i[i.MetaTypeLyrics=11]="MetaTypeLyrics",i[i.MetaTypeSticker=12]="MetaTypeSticker",i[i.MetaTypeFilter=13]="MetaTypeFilter",i[i.MetaTypeLUT=14]="MetaTypeLUT",i[i.MetaTypeReshape=15]="MetaTypeReshape",i[i.MetaTypeBeauty=16]="MetaTypeBeauty",i[i.MetaTypeVideoEffect=17]="MetaTypeVideoEffect",i[i.MetaTypeBrightness=18]="MetaTypeBrightness",i[i.MetaTypeContrast=19]="MetaTypeContrast",i[i.MetaTypeSaturation=20]="MetaTypeSaturation",i[i.MetaTypeSharpen=21]="MetaTypeSharpen",i[i.MetaTypeHighlight=22]="MetaTypeHighlight",i[i.MetaTypeShadow=23]="MetaTypeShadow",i[i.MetaTypeTemperature=24]="MetaTypeTemperature",i[i.MetaTypeHue=25]="MetaTypeHue",i[i.MetaTypeFade=26]="MetaTypeFade",i[i.MetaTypeLightSensation=27]="MetaTypeLightSensation",i[i.MetaTypeVignetting=28]="MetaTypeVignetting",i[i.MetaTypeParticle=29]="MetaTypeParticle",i[i.MetaTypeSegCanvas=30]="MetaTypeSegCanvas",i[i.MetaTypeCanvasColor=31]="MetaTypeCanvasColor",i[i.MetaTypeCanvasImage=32]="MetaTypeCanvasImage",i[i.MetaTypeCanvasBlur=33]="MetaTypeCanvasBlur",i[i.MetaTypeTransition=34]="MetaTypeTransition",i[i.MetaTypeAudioEffect=35]="MetaTypeAudioEffect",i[i.MetaTypeAudioFade=36]="MetaTypeAudioFade",i[i.MetaTypeBeats=37]="MetaTypeBeats",i[i.MetaTypeTailLeader=38]="MetaTypeTailLeader",i[i.MetaTypeAnimation=39]="MetaTypeAnimation",i[i.MetaTypeVideoAnimation=40]="MetaTypeVideoAnimation",i[i.MetaTypeTextEffect=41]="MetaTypeTextEffect",i[i.MetaTypeTextShape=42]="MetaTypeTextShape",i[i.MetaTypeTextToAudio=43]="MetaTypeTextToAudio",i[i.MetaTypeVideoMix=44]="MetaTypeVideoMix",i[i.MetaTypeAdjust=45]="MetaTypeAdjust",i[i.MetaTypeVideoMask=46]="MetaTypeVideoMask",i[i.MetaTypeSpeed=47]="MetaTypeSpeed",i[i.MetaTypeChroma=48]="MetaTypeChroma",i[i.MetaTypeTextTemplate=49]="MetaTypeTextTemplate",i[i.MetaTypeVideoOriginalSound=50]="MetaTypeVideoOriginalSound",i[i.MetaTypeStretchLeg=51]="MetaTypeStretchLeg",i[i.MetaTypeRealtimeDenoise=52]="MetaTypeRealtimeDenoise",i[i.MetaTypeFigure=53]="MetaTypeFigure",i[i.MetaTypeFaceEffect=54]="MetaTypeFaceEffect",i[i.MetaTypeVideoTracking=55]="MetaTypeVideoTracking",i[i.MetaTypeHsl=56]="MetaTypeHsl",i[i.MetaTypeColorCurves=57]="MetaTypeColorCurves",i[i.MetaTypeAudioBalance=58]="MetaTypeAudioBalance",i[i.MetaTypeComposition=59]="MetaTypeComposition",i[i.MetaTypeCover=60]="MetaTypeCover",i[i.MetaTypeLeader=61]="MetaTypeLeader",i[i.MetaTypeTailer=62]="MetaTypeTailer",i[i.MetaTypePrimaryColorWheels=63]="MetaTypePrimaryColorWheels",i[i.MetaTypeLogColorWheels=64]="MetaTypeLogColorWheels",i[i.MetaTypeHandwriteImage=65]="MetaTypeHandwriteImage",i[i.MetaTypeHandwriteRes=66]="MetaTypeHandwriteRes",i[i.MetaTypeCombination=67]="MetaTypeCombination",i[i.MetaTypeManualDeformation=68]="MetaTypeManualDeformation",i[i.MetaTypePluginEffect=69]="MetaTypePluginEffect",i[i.MetaTypeAdCube=70]="MetaTypeAdCube",i[i.MetaTypeAll=71]="MetaTypeAll",i);var ec=((n={})[n.EffectPlatformLoki=0]="EffectPlatformLoki",n[n.EffectPlatformArtist=1]="EffectPlatformArtist",n[n.EffectPlatformBrand=2]="EffectPlatformBrand",n),ed=e=>{switch(e){case er.U_.TextTemplate:return 49;case er.U_.Flower:return 41;default:return 71}},ep=e=>{if(!e)return"";var t,r=null===(t=e.ImageURLList)||void 0===t?void 0:t.map(e=>({width:e.Width,height:e.Height,url:e.URL}));return{imageWidth:e.ImageWidth,imageHeight:e.ImageHeight,imageUrlList:r,uri:e.URI,url:e.URL,md5:e.Md5}},ef=e=>(null==e?void 0:e.length)?e.map(e=>{var t,r=null===(t=e.ImageURLList)||void 0===t?void 0:t.map(e=>({width:e.Width,height:e.Height,url:e.URL}));return{imageWidth:e.ImageWidth,imageHeight:e.ImageHeight,imageUrlList:r,uri:e.URI,url:e.URL,md5:e.Md5,imageSize:e.ImageSize,path:e.Path,name:e.Name,mime:e.Mime,imageFormat:e.ImageFormat}}):[],em=(e,t)=>{var r=Object.values(e.ModelNames?JSON.parse(e.ModelNames):{}).reduce((e,t)=>[...e,...t],[]),a={md5:e.FileUrl.Uri,url:e.FileUrl.UrlList[0],name:e.Name,previewUrl:e.IconUrl.UrlList[0],animatedUrl:e.IconUrl.UrlList[0],metaType:ed(e.Panel),effectId:e.EffectId.toString(),resourceId:e.ResourceId.toString(),relatedId:"",sourcePlatform:0,requirements:e.Requirements,modelNames:r,isBusiness:!1,author:"",duration:0,extra:{},sdkExtra:{},contentJSON:e.ContentJson,contentFile:e.ContentFile,dependency:(null===(o=e.DependResourceList)||void 0===o?void 0:o.map(e=>{var{ResourceId:t}=e,r=(0,eo._)(e,["ResourceId"]);return(0,w._)((0,T._)({},r),{ResourceId:t.toString()})}))||[],panel:e.Panel,stickerImage:ep(e.StickerImage),reportTimestamp:null!==(l=e.UseReportMs)&&void 0!==l?l:Date.now(),childEffects:null===(s=e.ChildEffects)||void 0===s?void 0:s.map(e=>em(e)),sdkVersion:e.SdkVersion,imageFiles:ef(e.ImageFiles),tags:e.Tags};try{var i=/^[{].*[}]$/.test(e.Extra)?e.Extra:"{}";a.extra=JSON.parse(i)}catch(e){}try{var n=/^[{].*[}]$/.test(e.SdkExtra)?e.SdkExtra:"{}";a.sdkExtra=JSON.parse(n)}catch(e){}if(Object.keys(a.extra).length>0){var o,s,l,u,{Resources:c,canvas_cover:d,video_duration:p,hover_icon:f,preview_cover:m,track_thumbnail:_,is_business:y,web_icon:g}=a.extra;if(y&&(a.isBusiness=!0),p&&(a.duration=1e3*p),void 0===t&&(null===(u=e.FileUrl)||void 0===u?void 0:u.UrlList.length)>0&&(t=el().dirname(e.FileUrl.UrlList[0])),(f||m||_)&&(a.previewUrl="".concat(t,"/").concat(f||m||_)),g&&(a.previewUrl="".concat(t).concat(g)),c||d){var h=c||d;a.md5=el().basename(h,el().extname(h)),a.url="".concat(t,"/").concat(h)}}return a},e_=r("541566");var ey=((o={})[o.Jianying=1775]="Jianying",o[o.CapCut=1124]="CapCut",o[o.HypicCN=2515]="HypicCN",o[o.Hypic=1197]="Hypic",o),eg=e=>({GET_CATEGORY_EFFECTS:{HostNameType:S.b_.Default,url:"/lv/v1/effect/get_category_effects"},GET_RECENT_LIST:{HostNameType:S.b_.Default,url:"/lv/v1/editor/effect/recent_list"},GET_EFFECTS_BY_RES_ID:{HostNameType:S.b_.Default,url:"/lv/v1/effect/batch_by_resource"},GET_LOKI_CATEGORY_BY_ID:{HostNameType:S.b_.Default,url:"/lv/v1/effect/get_panel_info"},GET_LOKI_ALL_FONT:{HostNameType:S.b_.Default,url:"/lv/v1/effect/get_all_fonts"}})[e],eh=e=>{var{category:t,limit:r,offset:a,sortingPosition:i,panel:n,channel:o}=e;return{panel:n,sortingPosition:i,category:t,limit:r,offset:a,channel:o,album_resource_id:e.albumResourceId,enable_album:e.enableAlbum,album_size_limit:e.albumSizeLimit,hasChildrenCategory:e.hasChildrenCategory}},ev=new class e{switchLokiPanelRegion(e){this.hasDependencyCN=e}sendRecentMaterialItem(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ei.ReportRecently,i=(0,T._)({},e);t._service.interceptors.request.use(e=>(e.headers=(0,w._)((0,T._)({},e.headers,j({url:"".concat(location.origin).concat(e.url),pf:"7",appvr:en,tdid:""})),{"app-sdk-version":X,"sign-ver":1,pf:"7",appvr:en}),e));var{ret:n,errmsg:o,svr_time:s,log_id:l}=yield t._service({url:r,data:i,[P]:a});return{ret:n,errMsg:o,svrTime:s,logId:l}})()}getEffectsByResourceIds(e,t){var r=this;return(0,M._)(function*(){var a,{url:i,hostNameType:n}=eg("GET_EFFECTS_BY_RES_ID"),o={appVersion:X,sdkVersion:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),enter_from:null!=t?t:ea.ImageEditor,list:e.map(e=>(0,w._)((0,T._)({},e),{appVersion:X}))};return null===(a=(yield r._service({url:i,data:o,[P]:n})).data)||void 0===a?void 0:a.map(e=>em(e))})()}fetchMaterialRecentList(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eg("GET_RECENT_LIST"),i=(0,w._)((0,T._)({},e),{app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{has_more:n,new_cursor:o,item_list:s=[],artist_item_list:l=[]}=(yield t._service({url:r,data:i,[P]:a})).data,u=null==l?void 0:l.map(e=>(0,w._)((0,T._)({},(0,e_.tv)(e)),{reportTimestamp:e.UseReportMs}));return{list:null==s?void 0:s.map(e=>em(e)),cursor:o,hasMore:n,photoList:u}})()}fetchCategoryEffectsAll(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eg("GET_CATEGORY_EFFECTS"),{CategoryEffects:{Effects:n,Cursor:o,HasMore:s,SortingPosition:l},UrlPrefix:u}=(yield t._service({url:a,[P]:i,data:(0,T._)({appVersion:X,sdkVersion:ee,enter_from:null!==(r=e.enterFrom)&&void 0!==r?r:ea.ImageEditor,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()},eh(e))})).data;if(!n)throw Error("loki resource bad response");return{list:n.map(e=>em(e,null==u?void 0:u[0])),cursor:o,hasMore:s,sortingPosition:l}})()}fetchLokiCategory(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eg("GET_LOKI_CATEGORY_BY_ID"),n=yield t._service({url:a,[P]:i,data:(0,w._)((0,T._)({appVersion:X,sdkVersion:ee,enter_from:null!==(r=e.enterFrom)&&void 0!==r?r:ea.ImageEditor,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()},eh(e)),{category:void 0,hasCategoryEffects:!0})}),{CategoryList:o,CategoryEffects:s,UrlPrefix:l}=n.data,{category_info_map:u}=n;if(!o)throw Error("loki resource bad response");return{list:o.map(e=>{var t,r=(null!==(t=null==e?void 0:e.ChildrenCategories)&&void 0!==t?t:[]).map(e=>u[e]?{id:u[e].Id,name:u[e].Name,key:u[e].Key,extra:u[e].Extra}:{}).filter(e=>e.id);return{id:e.Id,name:e.Name,key:e.Key,childrenCategories:r}}),effects:0===o.length?s.Effects.filter(e=>"4.0.0"!==e.SdkVersion).map(e=>em(e,null==l?void 0:l[0])):[]}})()}fetchLokiAllText(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eg("GET_LOKI_ALL_FONT"),{CategoryEffects:{Effects:i,Cursor:n,HasMore:o,SortingPosition:s},UrlPrefix:l}=(yield t._service({url:r,[P]:a,data:{appVersion:X,sdkVersion:ee,enter_from:ea.ImageEditor,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),panel:e.panel,limit:1e3}})).data;if(!i)throw Error("loki resource bad response");return{list:i.map(e=>em(e,null==l?void 0:l[0])),cursor:n,hasMore:o,sortingPosition:s}})()}constructor(e={}){var t=new D().setDefaultConfig((0,T._)({},et,{transformRequest:[(e,t)=>JSON.stringify((0,w._)((0,T._)({},e),{lang:W.ZP.language}))]},e)).useJsonBigTransformResponse().addInterceptor(new Q({})).build();t.interceptors.response.use(e=>{if(200===e.status){var t=e.data;if(!t.BaseResp||0===t.BaseResp.StatusCode)return Promise.resolve(t)}return Promise.reject(e)}),this._service=t}};class eT{serverReport(e,t,r){var{url:a,hostNameType:i}=z.DraftOpenReport;return this.axiosInstance.post(a,{params:t,event_name:e,custom_info:r},{[P]:i})}syncSaveTicket(e,t){var r=this;return(0,M._)(function*(){var{url:a,hostNameType:i}=z.SyncSaveToken,{version_list:n}=yield r.axiosInstance.post(a,{package_key:e,package_type:5,workspace_id:t,cursor:0,count:1},{[P]:i});return n.map(e=>e.package_id)[0]})()}submitDraftData(e){var t=this;return(0,M._)(function*(){var r,a,i,n,o,s,l,u,c,d,p=(null===(s=e.cloudAlbumAssert)||void 0===s?void 0:s.map(e=>({source_path:e.sourcePath,md5:e.md5,size:e.size})))||[],f=p.filter(t=>{var r;return null===(r=e.referencedAssert)||void 0===r?void 0:r.includes(t.md5)}),m=null===(u=e.cover)||void 0===u?void 0:null===(l=u.split("base64,"))||void 0===l?void 0:l[1];var _=null!==(c=e.cloudDraftMeta)&&void 0!==c?c:t._getCloudDraftMeta(e.id,e.name,e.dimension,!e.ticket||"0"===e.ticket,(r=e.draftData,a=null!=m?m:"",i=f.map(e=>e.size),o=(n=new TextEncoder).encode(r).length+n.encode(a).length,i.forEach(e=>o+=e),o),e.userInfo),{url:y,hostNameType:g}=z.SaveDraftUrl;return yield t.axiosInstance.post(y,{workspace_id:e.workspaceId,package_type:5,package_key:e.id,base_package_id:null!==(d=e.ticket)&&void 0!==d?d:"0",template_data:e.draftData,template_meta:JSON.stringify(_),package_assets:p,referenced_assets:f,materials:e.materials,user_actions:"{}",cover_image_content:m,page_covers:e.coverList.map((e,t)=>({data:e,source_path:"cover".concat(t>0?"_".concat(t):"",".jpg")}))},{[P]:g})})()}publishAsTemplate(e){var t=this;return(0,M._)(function*(){var r,a,i,{id:n,name:o,dimension:s,userInfo:l,item_type:u,title:c,cover_height:d,cover_width:p,template_data:f,template_file:m,limit:_,extra:y,extra_v2:g,fragment_count:h,replaceable_image_list:v,main_version:M,features_version:b,revise_version:S,source_workspace_id:A,template_theme:E}=e,{url:R,hostNameType:I}=z.PublishAsTemplate,k=null===(a=e.cover)||void 0===a?void 0:null===(r=a.split("base64,"))||void 0===r?void 0:r[1];!(null===(i=_.platform)||void 0===i?void 0:i.length)&&(_.platform=[q]);var D={create_time:Date.now(),platform:q,feature_list:_.features};return yield t.axiosInstance.post(R,{item_type:u,title:c,cover:k,cover_height:d,cover_width:p,template_data:f,template_meta:JSON.stringify(D),template_theme:E,template_file:m,limit:_,extra:y,extra_v2:(0,w._)((0,T._)({},g),{source_draft_id:n}),fragment_count:h,replaceable_image_list:v,main_version:M,features_version:b,revise_version:S,source_workspace_id:A},{[P]:I,transformResponse:e=>C().parse(e)})})()}getDraftData(e,t){var r=this;return(0,M._)(function*(){var a=yield r.axiosInstance.post(z.GetDraftUrl.url,{package_key:e,app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),workspace_id:t,package_asset_limit:30},{[P]:z.GetDraftUrl.hostNameType}),i=JSON.parse(a.template_data),n=function(e){var t,r="",a=[],i=[],n=Date.now();try{i=e.package_assets.map(e=>({md5:e.md5,size:e.size,sourcePath:e.source_path})),n=(t=JSON.parse(e.package_meta)).createSource.createTime,r=t.draft.name,a=e.referenced_assets.map(e=>JSON.parse(e)).map(e=>{var t,r,a;return a=(t=e).preview_url.bucket_key_1080p,t.image_transcode_info&&(r={},Object.keys(t.image_transcode_info).forEach(e=>{if(!t.image_transcode_info[e])return;var{preview_url:i,width:n,height:o}=t.image_transcode_info[e];if(!(!i||!n||!o||(0,J.jv)(i))){if(e.includes("origin")){a=i;return}r["".concat(n,"x").concat(o)]={width:n,height:o,full_url:i,aesKey:t.preview_key}}})),{assetId:t.asset_id,sourcePath:t.source_path,aesKey:t.preview_key,sourceUrl:t.origin_download_link,originUrl:a,transcode:r,md5:t.md5,size:t.size,mime:t.mime}})}catch(e){A.t.error("draft-api-helper parse json error",e)}return{draftTitle:r,draftCreateTime:n,draftUsedEverAsserts:a,draftAllEverAsserts:i,draftData:e.template_data,token:e.package_id,materials:e.materials,allowToEdit:e.allow_to_edit}}(a);return r._draftCreateTime=n.draftCreateTime,(0,w._)((0,T._)({},n),{draftData:i})})()}getTemplateFile(e){var t=this;return(0,M._)(function*(){return yield t.axiosInstance.post(z.GetTemplateFile.url,{uris:e},{[P]:z.GetDraftUrl.hostNameType})})()}reportDraftOpen(e,t){return this.axiosInstance.post(z.SyncDraftOpenTime.url,{workspace_id:t,file_id:e,file_type:1},{[P]:z.SyncDraftOpenTime.hostNameType})}checkPublishTemplatePermission(){var e=this;return(0,M._)(function*(){var t=yield e.axiosInstance.post(z.CheckPublishTemplatePermission.url,{},{[P]:z.CheckPublishTemplatePermission.hostNameType});return{hasPermission:t.has_permission,hasCNPermission:t.has_cn_permission,publishCoverTemplate:t.cover_template_permission}})()}_getCloudDraftMeta(e,t,a,i,n,o){var s,l,u,c=Date.now(),d="editor-batch"===(0,J.Cm)()||void 0;return{draft:{id:e,name:t,type:5,duration:0,updateTime:c,size:n,segmentCount:0,version:"1.0.0",platformSupport:q,isMainTrackEmpty:!1,isScriptTemplate:!1,renderIndexTrackMode:!1,canvasInfo:{width:a[0].width,height:a[0].height,sizeUnit:a[0].unit,pageInfoList:a.map(e=>(0,w._)((0,T._)({},e),{sizeUnit:e.unit}))},coverUrl:"cover.jpg",cover:"cover.jpg",graphicInfo:{isUseInCn:null!==(s=ev.hasDependencyCN)&&void 0!==s&&s,isBatch:d}},uploadSource:{owner:null!==(l=null==o?void 0:o.uid)&&void 0!==l?l:"0",platform:q,systemVersion:r.g.navigator.userAgent,appVersion:"1.0.0",createTime:i||!this._draftCreateTime?c:this._draftCreateTime},createSource:{owner:null!==(u=null==o?void 0:o.uid)&&void 0!==u?u:"0",platform:q,systemVersion:r.g.navigator.userAgent,appVersion:"1.0.0",createTime:i||!this._draftCreateTime?c:this._draftCreateTime}}}constructor(){this.axiosInstance=new D().addInterceptor([new H,new N]).addInterceptor(new Q({isRetry:e=>e.indexOf(z.SaveDraftUrl.url)>=0,retries:1})).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String,String,String]),(0,x.w6)("design:returntype",void 0)],eT.prototype,"serverReport",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String,String]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"syncSaveTicket",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof SaveDraftDataRequestData?Object:SaveDraftDataRequestData]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"submitDraftData",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof PublishAsTemplateParams?Object:PublishAsTemplateParams]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"publishAsTemplate",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String,String]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"getDraftData",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[Array]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"getTemplateFile",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String,String]),(0,x.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],eT.prototype,"reportDraftOpen",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eT.prototype,"checkPublishTemplatePermission",null);var ew=r("718337"),eM=r("211069"),eb=e=>{if(!!e){var{effects:t=[],local_images:r,replaceable_images:a,yk_images:i}=e;return{effects:t.map(e=>{var t,r=C().parse(e);return r.Source===S.UI.HeyPan?{name:r.Name,md5:r.FileUrl.Uri,url:r.FileUrl.UrlList[0],resourceId:r.ResourceId.toString(),panel:null!==(t=(0,eM.j)(r.EffectType))&&void 0!==t?t:"",effectId:r.EffectId.toString()}:em(r)}),localImages:r,replaceableImages:a,ykImages:null==i?void 0:i.map(e=>{try{return JSON.parse(e)}catch(t){A.t.warn("template-api","parse yk image error",e)}return null}).filter(e=>!!e)}}};class eS extends b{constructor(...e){super(...e),this.request={onFulfilled:e=>(Object.assign(e,{headers:(0,w._)((0,T._)({},e.headers),{lan:W.ZP.language})}),e)}}}class eA{getAllTemplateRatio(){return(0,M._)(function*(){var e,{data:t,status:r}=null!==(e=yield R.Z.get(F.GetAllTemplateRatio.url).catch(()=>void 0))&&void 0!==e?e:{};if(200===r)return t})()}getCategories(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.GetCategories,i={sdk_version:ee,category_type:e.categoryType,scale:e.scale,canvas_width:e.canvasWidth,canvas_height:e.canvasHeight};return{categories:(yield t._service({url:r,data:i,[P]:a})).collections}})()}getTemplateAccordCategory(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=F.GetTemplatesAccordCategory,n=(0,T._)({},e,{}),o=(0,T._)({sdk_version:ee,enter_from:L,count:20,lang:W.ZP.language},n),{data:s}=yield t._serviceWithFullData({url:a,data:o,[P]:i});if("0"!==s.ret)return Promise.reject(s);var{data:l,log_id:u}=s;return{cursor:l.new_cursor,hasMore:l.has_more,list:null===(r=l.item_list)||void 0===r?void 0:r.map(e=>{var t;if(null===(t=e.sign_info)||void 0===t?void 0:t.json_str)try{var r=JSON.parse(e.sign_info.json_str);e.commerceInfo=r.capcut_commerce_info}catch(e){}return(0,w._)((0,T._)({},e),{id:e.web_id||e.id.toString(),requestId:u})})}})()}getRecentList(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=F.GetRecentList,n=(0,T._)({count:50,lang:W.ZP.language},e),o=yield t._service({url:a,data:n,[P]:i});return{cursor:o.new_cursor,hasMore:o.has_more,list:null===(r=o.item_list)||void 0===r?void 0:r.map(e=>(0,w._)((0,T._)({},e),{id:e.id.toString()}))}})()}reportRecently(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.ReportRecently,i=(0,T._)({type:"template"},e);return yield t._service({url:r,data:i,[P]:a})})()}getTemplateDetail(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.GetTemplateDetail,i={sdk_version:ee,enter_from:L,app_version:O,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),template_id:e.templateId,need_draft:e.needDraft},n=yield t._service({url:r,data:i,[P]:a}),{template_data:o,creator_info:s}=n,{template_url:l,materials:u,main_version:c,revise_version:d,feature_version:p,draft_data:f,theme_data:m,text_theme_covers:_,text_theme_effects:y,extra_v2:g}=n;return{templateUrl:l,draftData:f,templateData:o,templateVersion:"".concat(c,".").concat(p,".").concat(d),creator:s,materials:eb(u),textThemeCovers:_,themeData:m,textThemeEffects:y,extra:g}})()}getTemplateDataByUrl(e){return(0,M._)(function*(){var t=yield R.Z.get(e.replace(/^https*:\/\//,"https://"));return 200!==t.status&&204!==t.status?Promise.reject(Error("get template data fail, url:".concat(e))):t.data})()}getTemplateScenes(){return(0,M._)(function*(){var{data:e}=yield R.Z.get(F.GetTemplateScenes.url);return{templateSceneList:Object.values(e).flat()}})()}getTemplateHotWords(){var e=this;return(0,M._)(function*(){var{url:t,hostNameType:r}=F.GetTemplateHotWords;return{list:(yield e._service({url:t,[P]:r})).hot_word_list}})()}searchTemplates(e){var t=this;return(0,M._)(function*(){var r,a,{url:i,hostNameType:n}=F.SearchTemplates,{sdkVersion:o,searchId:s,enterFrom:l,categoryIds:u,sceneId:c,featureKey:d,colors:p,graphNum:f}=e,m=(0,eo._)(e,["sdkVersion","searchId","enterFrom","categoryIds","sceneId","featureKey","colors","graphNum"]);if(p){var _=(0,ew.Oo)(p);r={r:_[0],g:_[1],b:_[2]}}var y=(0,T._)({sdk_version:o,search_id:s,enter_from:l,category_ids:u,scene_id:c,lang:W.ZP.language,strategy_extra:d?JSON.stringify({image_feature_key:d}):void 0,custom_colors:r?[r]:void 0,graph_num:f?U[f]:void 0},m),g=yield t._serviceWithFullData({url:i,data:y,[P]:n});if(200!==g.status)return Promise.reject(g);var{data:h}=g;if("0"!==h.ret)return Promise.reject(h);var{data:v,log_id:M}=g.data;return{hasMore:v.has_more,list:(null!==(a=v.image_templates)&&void 0!==a?a:[]).map(e=>(0,w._)((0,T._)({},e),{id:e.web_id,searchId:v.search_id,requestId:M})),cursor:v.new_cursor,searchId:v.search_id,requestId:M}})()}getBatchCategories(){var e=this;return(0,M._)(function*(){var{url:t,hostNameType:r}=F.GetBatchCategories;return{categories:yield e._service({url:t,data:{sdk_version:ee},[P]:r})}})()}getBatchTemplatesByCategory(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.GetBatchTemplatesByCategory,i=(0,T._)({},e);return{templatesDataList:(yield t._service({url:r,data:i,[P]:a})).map(e=>(0,w._)((0,T._)({},e),{item_list:e.item_list.map(e=>(0,w._)((0,T._)({},e),{id:e.web_id}))}))}})()}getPresets(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.GetPresets,i=(0,T._)({},e),n=yield t._service({url:r,data:i,[P]:a});return(0,w._)((0,T._)({},n),{item_list:n.item_list.map(e=>(0,w._)((0,T._)({},e),{id:e.web_id}))})})()}getPresetDetail(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.GetPresetDetail,i={sdk_version:ee,enter_from:L,app_version:O,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),template_id:e.templateId,need_draft:e.needDraft,work_space_id:e.workspaceId},n=yield t._service({url:r,data:i,[P]:a}),{template_data:o,creator_info:s}=n,{template_url:l,materials:u,main_version:c,revise_version:d,feature_version:p,draft_data:f,extra_v2:m}=n;return{templateUrl:l,draftData:f,templateData:o,templateVersion:"".concat(c,".").concat(p,".").concat(d),creator:s,materials:eb(u),extra:m}})()}postDeletePresetsTemplate(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.PostDeletePresetsTemplate,i=(0,T._)({},e);yield t._service({method:"post",url:r,data:i,[P]:a})})()}fuzzySearchTemplateByTitle(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=F.FuzzySearchTemplateByTitle,i=(0,T._)({},e);return{item_list:(yield t._service({method:"post",url:r,data:i,[P]:a})).item_list.map(e=>(0,w._)((0,T._)({},e),{id:e.web_id}))}})()}constructor(){var e=new D;this._service=e.setDefaultConfig(et).useJsonBigTransformResponse().addInterceptor([new Q({}),new H,new N,new eS]).build();var t=new D;this._serviceWithFullData=t.setDefaultConfig(et).addInterceptor([new Q({}),new H]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getAllTemplateRatio",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetCategoriesReq?Object:GetCategoriesReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getCategories",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetTemplateAccordCategoryReq?Object:GetTemplateAccordCategoryReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getTemplateAccordCategory",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetRecentListReq?Object:GetRecentListReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getRecentList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof ReportRecentlyReq?Object:ReportRecentlyReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"reportRecently",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetTemplateDetailReq?Object:GetTemplateDetailReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getTemplateDetail",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getTemplateDataByUrl",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getTemplateScenes",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getTemplateHotWords",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof SearchTemplatesReq?Object:SearchTemplatesReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"searchTemplates",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getBatchCategories",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetBatchTemplateByCategoryReq?Object:GetBatchTemplateByCategoryReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getBatchTemplatesByCategory",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetPresetsReq?Object:GetPresetsReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getPresets",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetPresetDetailReq?Object:GetPresetDetailReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"getPresetDetail",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof PostDeletePresetsTemplateReq?Object:PostDeletePresetsTemplateReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"postDeletePresetsTemplate",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof FuzzySearchTemplateByTitleReq?Object:FuzzySearchTemplateByTitleReq]),(0,x.w6)("design:returntype",Promise)],eA.prototype,"fuzzySearchTemplateByTitle",null);var eP=((s={}).Template="template",s.Effect="effect",s.Material="material",s.Common="common",s),eE={GetAutoColorTheme:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/color/auto"},GetRecommendPalette:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/color/recommend"},GetApplyPalette:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/color/apply"},GetRecentList:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/common/recent_list"},GetPlanePaletteFeed:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/color/feed"},ReportRecently:{hostNameType:S.b_.Default,url:"/lv/v1/editor/use_report"}},eR=eP.Common;class eI{getAutoColorTheme(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eE.GetAutoColorTheme,i=(0,w._)((0,T._)({},e),{app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{canvas:n,layers:o=[],palette_recommend_list:s}=JSON.parse((yield t._service({url:r,data:i,[P]:a})).result);return{canvas:n,layers:o,paletteList:s[0].palette_list}})()}getRecommendColorPalette(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eE.GetRecommendPalette,i=(0,w._)((0,T._)({},e),{app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{canvas:n,layers:o=[],palette_recommend_list:s}=yield t._service({url:r,data:i,[P]:a});return{canvas:n,layers:o,recommendList:null==s?void 0:s.map(e=>({layerId:e.layer_id,paletteList:e.palette_list}))}})()}getApplyColorPalette(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eE.GetApplyPalette,i=(0,w._)((0,T._)({},e),{app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{canvas:n,layers:o=[]}=JSON.parse((yield t._service({url:r,data:i,[P]:a})).result);return{canvas:n,layers:o}})()}getRecentlyUsedColorPalette(){var e=this;return(0,M._)(function*(){var{url:t,hostNameType:r}=eE.GetRecentList,a={cursor:0,count:50,common_action_key:"palette",app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()},{new_cursor:i,has_more:n,item_list:o=[]}=yield e._service({url:t,data:a,[P]:r});return{newCursor:i,hasMore:n,itemList:o}})()}reportRecentlyUsedPalette(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eE.ReportRecently,i={type:eR,common_action_key:"palette",common_action_value:e.commonActionValue};return yield t._service({url:r,data:i,[P]:a})})()}getPlanePaletteFeedList(){var e=this;return(0,M._)(function*(){var{url:t,hostNameType:r}=eE.GetPlanePaletteFeed;return yield e._service({url:t,data:{type:eR,common_action_key:"palette"},[P]:r})})()}constructor(){var e=new D;this._service=e.setDefaultConfig(et).useJsonBigTransformResponse().addInterceptor([new Q({}),new H,new N]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AutoColorThemeReqParams?Object:AutoColorThemeReqParams]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"getAutoColorTheme",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AutoColorThemeReqParams?Object:AutoColorThemeReqParams]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"getRecommendColorPalette",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof ApplyColorPaletteParams?Object:ApplyColorPaletteParams]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"getApplyColorPalette",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"getRecentlyUsedColorPalette",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof ColorPaletteRecentReportParams?Object:ColorPaletteRecentReportParams]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"reportRecentlyUsedPalette",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eI.prototype,"getPlanePaletteFeedList",null);class eC extends b{constructor(...e){super(...e),this.request={onFulfilled:e=>{var t,r,a=(t=document.cookie.match(RegExp("(^| )_tea_web_id=([^;]+)")),!(r=window.GATEWAY_INJECTED_WEB_ID||"")&&null!==t&&(r=t[2]),r),i={aid:"348188",device_platform:"web",region:window.__locationCountryCode||"us",web_id:a};return Object.assign(e,{params:(0,T._)({},e.params||{},i)}),e}}}}var ek={GetAICutout:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/saliency_seg"},GetAICutoutWithBrush:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/interactive_matting"},GetAICutoutToAutoSelection:{hostNameType:S.b_.Default,url:"/api/biz/v1/image/entity_seg"},GetAIBackground:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/gen_background"},ApplyAutoLayout:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/resize/auto"},GetAutoLayoutDimensions:{url:"https://lf16-beecdn.ibytedtos.com/obj/ies-fe-bee-sg/bee_prod/biz_149/bee_prod_149_bee_publish_854.json",HostNameType:S.b_.Default},AIChangeStickerColor:{HostNameType:S.b_.Default,url:"/lv/v1/editor/color/change_sticker_color"},T2DTemplateLists:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/intelligence/query_recommend_template"},T2DTemplateDetails:{hostNameType:S.b_.Default,url:"/lv/v1/editor/plane/intelligence/fill_render"},ImageEmbedResource:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/embed_resource"},IdentifyPerson:{hostNameType:S.b_.Default,url:"/lv/v1/editor/human_detection"}};var eD=((l={})[l.EverPhoto=1]="EverPhoto",l[l.ImageX=2]="ImageX",l[l.Yk=3]="Yk",l[l.CommonURL=4]="CommonURL",l[l.Raw=5]="Raw",l[l.BrandImage=7]="BrandImage",l),ex=r("796776"),eN={[S.F5.IMAGE]:"image",[S.F5.TEXT]:"text",[S.F5.SHAPE]:"shape",[S.F5.LINE]:"line",[S.F5.GROUP_LAYER]:"group",[S.F5.IMAGE_CONTAINER]:"image",[S.F5.GRID]:"image",[S.F5.SVG_IMAGE]:"image"};class eO{getAutoLayoutDimensions(){return(0,M._)(function*(){var{data:e}=yield R.Z.get(ek.GetAutoLayoutDimensions.url),t=t=>t.map(t=>e.imageAllSceneList.find(e=>e.scenario===t)).filter(e=>e).map(e=>({title:e.scenario,titleI18Key:e.titleKey,dimension:e.extInfo,scenarioId:e.scenarioId}));return{scenarioList:e.newImageSceneList.map(e=>{var r,a;return{name:e.id,i18Key:e.titleKey,list:t(e.sceneIdList),children:null!==(a=null===(r=e.childrens)||void 0===r?void 0:r.map(e=>({name:e.id,i18Key:e.titleKey,list:t(e.sceneIdList)})))&&void 0!==a?a:[]}})}})()}getAiAutoLayoutResult(e,t,r,a){var i=this;return(0,M._)(function*(){var{ApplyAutoLayout:n}=ek;return e.canvas={width:Math.round(e.canvas.width),height:Math.round(e.canvas.height)},e.layers=e.layers.map(e=>{var t,r,{fontSize:a}=e;e.fontSize=void 0;var i=(0,w._)((0,T._)({},e),{layout:e.layout.map(e=>Math.round(e)),type:eN[e.type],font_size:a?Math.round(a):void 0});return e.assetMD5?i.asset_md5=e.assetMD5:e.imagePath?i.template_file_uri=e.imagePath:e.effect&&(i.effect_panel=e.effect.panel,i.effect_source=e.effect.source,i.effect_resource_id=e.effect.resourceId),(null===(t=e.effect)||void 0===t?void 0:t.source)===S.UI.UserBrand&&(i.brand_workspace_id=null===(r=e.effect)||void 0===r?void 0:r.workspaceId),i}).filter(e=>e.type!==eN[S.F5.GROUP_LAYER]),(yield i._service.post(n.url,(0,w._)((0,T._)({},e),{image_content:null==a?void 0:a.split(";base64,")[1],aspect_ratio:t.map(e=>{var{width:t,height:r}=(0,ex.Ln)(e);return[Math.round(t),Math.round(r)]}),workspace_id:r,app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{[P]:n.hostNameType})).results.map(e=>0===e.status?e:null)})()}aiCutout(e){var t=this;return(0,M._)(function*(){var r,a,{url:i,hostNameType:n}=ek.GetAICutout,o=(0,w._)((0,T._)({},t.src2Source(e.src)),{image_width:null===(r=e.size)||void 0===r?void 0:r.width,image_height:null===(a=e.size)||void 0===a?void 0:a.height,workspace_id:e.workspaceId,skip_image_output:e.skipImgOutput,seg_option:{get_algo_resp_json:!0,only_mask:4,refine_mask:2,rgb:[-1,-1,-1]}});return yield t._service({url:i,data:o,[P]:n})})()}aiCutoutWithBrush(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ek.GetAICutoutWithBrush,i={pen_type:e.penType,pen_size:e.penSize,ret_mode:e.retMode},n={prev_result_type:e.prevResultType,prev_result:e.prevResult,workspace_id:e.workspaceId,matting_option:i};return yield t._service({url:r,data:n,[P]:a})})()}aiCutoutToAutoSelection(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ek.GetAICutoutToAutoSelection,i={workspace_id:e.workspaceId,image:{source_type:3,binary:e.imageBase64}};return yield t._service({url:r,data:i,[P]:a})})()}aiBackground(e,t){var r=this;return(0,M._)(function*(){var a,i,n,o,s,l,{url:u,hostNameType:c}=ek.GetAIBackground,d={source_type:null!==(a=e.sourceType)&&void 0!==a?a:eD.ImageX,source:e.uri,prompt:e.prompt||"",mode:e.mode,image_width:e.width,image_height:e.height,canvas_width:null!==(i=e.canvas_width)&&void 0!==i?i:e.width,canvas_height:null!==(n=e.canvas_height)&&void 0!==n?n:e.height,num_generate:null!==(o=e.num)&&void 0!==o?o:1,position_x:null!==(s=e.position_x)&&void 0!==s?s:0,position_y:null!==(l=e.position_y)&&void 0!==l?l:0,request_scene:e.request_scene};return yield r._service({url:u,data:d,params:t,[P]:c})})()}aiBackgroundFull(e,t){var r=this;return(0,M._)(function*(){var a,i,{url:n,hostNameType:o}=ek.GetAIBackground,s={source_type:null!==(a=e.sourceType)&&void 0!==a?a:eD.ImageX,source:e.uri,prompt:e.prompt||"",mode:e.mode,image_width:e.width,image_height:e.height,canvas_width:e.width,canvas_height:e.height,num_generate:null!==(i=e.num)&&void 0!==i?i:1,position_x:0,position_y:0,request_scene:e.request_scene};return yield r._serviceWithFullData({url:n,data:s,params:t,[P]:o})})()}aiChangeStickerColor(e){var t=this;return(0,M._)(function*(){var{type:r,url:a,width:i,height:n,rgb:o,workspaceId:s}=e,{url:l,HostNameType:u}=ek.AIChangeStickerColor;return(yield t._service({url:l,data:{source_type:r,source:a,image_width:i,image_height:n,refer_rgb:o,use_pad:!0},[P]:u})).image})()}imageEmbedResource(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ek.ImageEmbedResource,i={source_type:e.type,source:e.type===eD.Raw?e.data.split(",")[1]:e.data,workspace_id:e.workspaceId};return(yield t._service({url:r,data:i,[P]:a})).scene_key})()}identifyPerson(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ek.IdentifyPerson,{src:i,workspaceId:n}=e,{source:o,source_type:s}=t.src2Source(i);return yield t._service({url:r,data:{asset:o,asset_type:s,workspace_id:n||"0"},[P]:a})})()}src2Source(e){switch(e.type){case S.lJ.CloudImageSticker:return{source_type:eD.EverPhoto,source:e.md5};case S.lJ.Svg:case S.lJ.Cutout:case S.lJ.ReplaceableCutout:return{source_type:eD.ImageX,source:e.path};case S.lJ.YkSicker:case S.lJ.YkImage:return{source_type:eD.Yk,source:e.resourceId};case S.lJ.Raw:return{source_type:eD.Raw,source:e.path.substring(e.path.indexOf(",")+1)};case S.lJ.BrandImage:case S.lJ.BrandSticker:return{source_type:eD.BrandImage,source:e.resourceId};default:return{source_type:eD.CommonURL,source:e.path}}}constructor(){var e=new D;this._service=e.setDefaultConfig(et).addInterceptor([new Q({}),new H,new N,new eC]).build();var t=new D;this._serviceWithFullData=t.setDefaultConfig(et).addInterceptor([new Q({}),new H,new eC]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"getAutoLayoutDimensions",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AutoLayoutDraft?Object:AutoLayoutDraft,Array,Object,String]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"getAiAutoLayoutResult",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AICutoutParams?Object:AICutoutParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiCutout",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AICutoutWithBrushParams?Object:AICutoutWithBrushParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiCutoutWithBrush",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof IAICutoutToAutoSelection?Object:IAICutoutToAutoSelection]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiCutoutToAutoSelection",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AIBackgroundParams?Object:AIBackgroundParams,"undefined"==typeof IAigcUrlParams?Object:IAigcUrlParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiBackground",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AIBackgroundParams?Object:AIBackgroundParams,"undefined"==typeof IAigcUrlParams?Object:IAigcUrlParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiBackgroundFull",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AIChangeStickerColorParams?Object:AIChangeStickerColorParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"aiChangeStickerColor",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof ImageEmbedResourceParams?Object:ImageEmbedResourceParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"imageEmbedResource",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof IdentifyPersonParams?Object:IdentifyPersonParams]),(0,x.w6)("design:returntype",Promise)],eO.prototype,"identifyPerson",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof ImageSrc?Object:ImageSrc]),(0,x.w6)("design:returntype",void 0)],eO.prototype,"src2Source",null);var eL={GetSearchWords:{hostNameType:S.b_.Default,url:"/artist/v1/effect/get_search_words"},GetRecommends:{hostNameType:S.b_.Default,url:"/artist/v1/effect/ccweb/feed"},Search:{hostNameType:S.b_.Default,url:"/artist/v1/effect/search"},Order:{hostNameType:S.b_.Default,url:"/artist/v1/library/tuchong/order"},PhotoAdobeSearch:{hostNameType:S.b_.Default,url:"/artist/v1/library/tuchong/search"},PhotoHeycanList:{hostNameType:S.b_.Default,url:"/artist/v1/effect/mget_artist_item"},GetSuggestWords:{hostNameType:S.b_.Default,url:"/artist/v1/effect/get_suggest_words"},PhotoAdobeList:{hostNameType:S.b_.Default,url:"/artist/v1/effect/mget_item"},PhotoSimilar:{hostNameType:S.b_.Default,url:"/artist/v1/effect/get_recommend_items"}},eF={"1:1":"square","9:16":"strict_vertical","16:9":"strict_horizontal"};class eU{getSearchWords(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.GetSearchWords,n={app_id:e.appId,effect_type:e.effectType,search_word_type:e.searchWordType,cc_web_use_new_search:e.ccWebUseNewSearch},o=yield t._getParamsConfig(),s=yield t._service.post(a,n,(0,T._)({[P]:i,[E]:!1},o));return{defaultWord:s.default_word,recommendWords:null!==(r=null==s?void 0:s.recommend_words)&&void 0!==r?r:[]}})()}getRecommends(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.GetRecommends,n={offset:e.offset,count:e.count,effect_type:e.effectType,pack_optional:e.packOptional,statistics_optional:e.statisticsOptional,request_id:e.requestId},o=yield t._getParamsConfig(),s=yield t._service.post(a,n,(0,T._)({[P]:i,[E]:!1},o));return{hasMore:s.has_more,nextOffset:s.next_offset,list:(0,e_.aW)(null!==(r=s.effect_item_list)&&void 0!==r?r:[])}})()}search(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.Search,n=yield t._getParamsConfig(),o={app_id:e.appId,effect_type:e.effectType,query:e.query,offset:e.offset,count:e.count,pack_optional:e.packOptional,need_recommend:e.needRecommend,strategy_extra:e.strategyExtra,search_option:(0,T._)({filter_uncommercial:!0,input_type:e.strategyExtra?"by_image":void 0},t._getSearchParams(e.searchOption))};e.searchId&&(o.search_id=e.searchId);var s=yield t._service.post(a,o,(0,T._)({[P]:i,[E]:!1},n));return{hasMore:s.has_more,nextOffset:s.next_offset,list:(0,e_.aW)(null!==(r=s.effect_item_list)&&void 0!==r?r:[],{searchId:s.search_id,requestId:s.request_id}).filter(e=>e.height&&e.width),searchId:s.search_id,isSearchResult:s.is_search_result,relatedWords:s.related_words,emptySearchReason:s.empty_search_reason,requestId:s.request_id}})()}order(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eL.Order,i=yield t._getParamsConfig();return yield t._service.post(r,e,(0,T._)({[P]:a,[E]:!1},i))})()}photoAdobeSearch(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.PhotoAdobeSearch,n=yield t._getParamsConfig(),o={effect_type:e.effectType,query:e.query,offset:e.offset,count:e.count,pack_optional:e.packOptional};e.searchId&&(o.search_id=e.searchId);var s=yield t._service.post(a,o,(0,T._)({[P]:i,[E]:!1},n));return{hasMore:s.has_more,nextOffset:s.next_offset,searchId:s.search_id,requestId:s.request_id,list:(0,e_.EJ)(null!==(r=s.effect_item_list)&&void 0!==r?r:[],{searchId:s.search_id,requestId:s.request_id})}})()}photoHeycanRecentList(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.PhotoHeycanList,n={id_list:e.idList,pack_optional:e.packOptional},o=yield t._service.post(a,n,{[P]:i,[E]:!1,params:{aid:S.AF,device_platform:"web",region:yield D.apiSetting.getUserRegion(),lang:W.ZP.language}});return{list:(0,e_.aW)(null!==(r=o.effect_item_list)&&void 0!==r?r:[])}})()}getSuggestWords(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eL.GetSuggestWords,i=yield t._getParamsConfig(),n={app_id:e.appId,query:e.query,count:e.count,effect_type:e.effectType,cc_web_use_new_search:e.ccWebUseNewSearch};return yield t._service.post(r,n,(0,T._)({[P]:a,[E]:!1},i))})()}photoAdobeRecentList(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.PhotoAdobeList,n=yield t._getParamsConfig(),o=yield t._service.post(a,e,(0,T._)({[P]:i,[E]:!1},n));return{list:(0,e_.aW)(null!==(r=o.effect_item_list)&&void 0!==r?r:[])}})()}photoSimilar(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=eL.PhotoSimilar,n=yield t._getParamsConfig(),o={app_id:S.AF,req_scene:"similarity_rec",panel:"image",context_info:JSON.stringify({similarity_item_id:e.similarItemId}),filters:(0,T._)({filter_uncommercial:!0},t._getSearchParams(e.searchOption)),offset:e.offset,count:e.count,pack_optional:e.packOptional},s=yield t._service.post(a,o,(0,T._)({[P]:i,[E]:!1},n));return{hasMore:s.has_more,nextOffset:s.next_offset,list:(0,e_.EJ)(null!==(r=s.effect_item_list)&&void 0!==r?r:[])}})()}_getParamsConfig(){return(0,M._)(function*(){return{params:{aid:S.AF,version_name:"10.1.0",version_code:"10.1.0",sdk_version:"15.1.0",effect_sdk_version:"15.1.0",device_platform:"web",region:yield D.apiSetting.getUserRegion(),language:W.ZP.language}}})()}_getSearchParams(e){var t;if(null==e?void 0:e.customColors){var r=(0,ew.Oo)(e.customColors);t={r:r[0],g:r[1],b:r[2]}}return{aspect_ratio:(null==e?void 0:e.aspectRatio)?eF[e.aspectRatio]:void 0,custom_colors:t?[t]:void 0}}constructor(){var e=new D;this._service=e.addInterceptor([new Q({}),new H,new N]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetSearchWordsReq?Object:GetSearchWordsReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"getSearchWords",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetRecommendsReq?Object:GetRecommendsReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"getRecommends",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof SearchReq?Object:SearchReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"search",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof OrderServerReq?Object:OrderServerReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"order",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof PhotoAdobeSearchReq?Object:PhotoAdobeSearchReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"photoAdobeSearch",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof PhotoHeycanRecentListReq?Object:PhotoHeycanRecentListReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"photoHeycanRecentList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetSuggestWordsReq?Object:GetSuggestWordsReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"getSuggestWords",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof photoAdobeRecentListServerReq?Object:photoAdobeRecentListServerReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"photoAdobeRecentList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof PhotoSimilarReq?Object:PhotoSimilarReq]),(0,x.w6)("design:returntype",Promise)],eU.prototype,"photoSimilar",null);var eB="5.8.0",eG=e=>({GET_URL_BY_URI:{HostNameType:S.b_.Default,url:"/lv/v1/editor/image/batch_get_url"}})[e];class ej{getUrlListByUris(e){var t=this;return(0,M._)(function*(){var r,{url:a}=eG("GET_URL_BY_URI"),i=yield t._service(a,{data:{uri_info:e.map(e=>({biz:t._biz,uri:e}))}});return null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.map(e=>({uri:null==e?void 0:e.uri,url:null==e?void 0:e.full_url,transcode:null==e?void 0:e.transcode}))})()}constructor(e={}){this._biz="editor";var t=new D().setDefaultConfig((0,T._)({},et,e)).useJsonBigTransformResponse().addInterceptor(new Q({})).build();t.interceptors.request.use(e=>(e.headers=(0,w._)((0,T._)({},e.headers,j({url:"".concat(location.origin).concat(e.url),pf:"7",appvr:eB,tdid:""})),{"app-sdk-version":X,"sign-ver":1,pf:"7",appvr:eB}),e)),t.interceptors.response.use(e=>{if(200===e.status){var t=e.data;if(!t.BaseResp||0===t.BaseResp.StatusCode)return Promise.resolve(t)}return Promise.reject(e)}),this._service=t}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[Array]),(0,x.w6)("design:returntype",Promise)],ej.prototype,"getUrlListByUris",null);var eH=((u={})[u.SUCCESS=0]="SUCCESS",u[u.COMMON_ERROR=1]="COMMON_ERROR",u[u.PARAM_ERROR=400]="PARAM_ERROR",u[u.MODEL_VERSION_MAP_ERROR=401]="MODEL_VERSION_MAP_ERROR",u[u.SDK_ERROR=1001]="SDK_ERROR",u[u.NOT_EXSIT=1002]="NOT_EXSIT",u[u.VERSION_MAP_EMPTY=2e3]="VERSION_MAP_EMPTY",u);class eW extends b{constructor(...e){super(...e),this.response={onFulfilled:e=>200!==e.status?Promise.reject(e):e.data.status_code!==eH.SUCCESS?Promise.reject(e.data):e.data}}}var eq={url:"/model/api/arithmetics"};class ez{getEffectModelArithmetics(e){var t=this;return(0,M._)(function*(){var r,a="".concat(window.location.origin).concat(eq.url);return(yield t._service.get(a,{params:(0,T._)({busi_id:100,sdk_version:ee,device_type:"capcut_web",device_platform:"web",aid:0,app_name:"capcut",app_version:X,platform_sdk_version:ee},(null==e?void 0:null===(r=e.list)||void 0===r?void 0:r.length)?{required_model_list:e.list.join(",")}:null)})).data.arithmetics})()}constructor(){var e=new D;this._service=e.addInterceptor([new Q({}),new eW]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[Object]),(0,x.w6)("design:returntype",Promise)],ez.prototype,"getEffectModelArithmetics",null);var eV={GetModelSourceList:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/ai_model/materials"},getClothMaskInfo:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/ai_model/create_cloth_mask"},submitModelTask:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/ai_model/submit_task"},getModelGenerateResult:{hostNameType:S.b_.Default,url:"/lv/v1/editor/image/ai_model/batch_get_results"}};class eK{getModelSourceList(){var e=this;return(0,M._)(function*(){var{url:t,hostNameType:r}=eV.GetModelSourceList;return(yield e._service({url:t,data:{},[P]:r})).model_resources||[]})()}getClothMaskInfo(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eV.getClothMaskInfo;return yield t._service({url:r,data:e,[P]:a})})()}submitModelTask(e,t){var r=this;return(0,M._)(function*(){var{url:a,hostNameType:i}=eV.submitModelTask,{credits_credentials:n}=e,o=(0,eo._)(e,["credits_credentials"]),s=yield r._serviceWithFullData({url:a,data:(0,T._)({},o),params:t,[P]:i,headers:n?{"business-credit-credential":n}:{}});return null==s?void 0:s.data})()}getModelGenerateResult(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=eV.getModelGenerateResult,{credits_credentials:i}=e,n=(0,eo._)(e,["credits_credentials"]),o=yield t._serviceWithFullData({url:r,data:(0,T._)({},n),[P]:a,headers:i?{"business-credit-credential":i}:{}});return null==o?void 0:o.data})()}aiT2DTemplateList(e,t){var r=this;return(0,M._)(function*(){var{inputText:a,assets:i,workspaceId:n,assetType:o,aspectRatio:s}=e,{url:l,hostNameType:u}=ek.T2DTemplateLists,c={asset_type:o,input_text:a,assets:i,workspace_id:n,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion(),aspect_ratio:[s]};return(yield r._serviceWithFullData({url:l,data:c,params:t,[P]:u,[E]:!1})).data})()}aiT2DTemplateDetail(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=ek.T2DTemplateDetails,{templateIdList:i,reqId:n,workspaceId:o,assetType:s}=e,l={asset_type:s,template_id_list:i,req_id:n,workspace_id:o,app_version:ee,sdk_version:"14.0.0",lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()};return(yield t._serviceWithFullData({url:r,data:l,[P]:a,[E]:!1})).data})()}constructor(){var e=new D;this._service=e.setDefaultConfig(et).useJsonBigTransformResponse().addInterceptor([new Q({}),new H,new N]).build();var t=new D;this._serviceWithFullData=t.setDefaultConfig(et).addInterceptor([new Q({}),new eC,new H]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"getModelSourceList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetClothMaskInfoReq?Object:GetClothMaskInfoReq]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"getClothMaskInfo",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof SubmitModelTaskReq?Object:SubmitModelTaskReq,"undefined"==typeof IAppUrlParams?Object:IAppUrlParams]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"submitModelTask",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetModelGenerateResultReq?Object:GetModelGenerateResultReq]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"getModelGenerateResult",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AIT2DTemplateListParams?Object:AIT2DTemplateListParams,"undefined"==typeof IAppUrlParams?Object:IAppUrlParams]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"aiT2DTemplateList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AIT2DTemplateDetailParams?Object:AIT2DTemplateDetailParams]),(0,x.w6)("design:returntype",Promise)],eK.prototype,"aiT2DTemplateDetail",null);var eY={GetEnableList:{hostNameType:S.b_.Default,url:"/lv/v1/ad_maker/user/get_enable_list"},QueryPlatformAuthStatus:{hostNameType:S.b_.Default,url:"/lv/v1/platform/query_auth_status"}},eJ=r("837150"),eZ=r.n(eJ),e$=r("171824"),eQ=r.n(e$),eX=r("368801"),e0=r.n(eX),e1=r("496043"),e6=r.n(e1);class e2{getEnableList(){var e=this;return(0,M._)(function*(){return(yield e.axiosInstance.post(eY.GetEnableList.url,void 0,{[P]:eY.GetEnableList.hostNameType})).enable_list})()}getPlatformAuthInfo(e){var t=this;return(0,M._)(function*(){var r=eZ().parse("b226cf0959923f45ec6a255e5a608e1b"),a=eQ().encrypt(e,r,{mode:e0(),padding:e6()}).toString();return{isTwoFactorVerified:(yield t.axiosInstance.post(eY.QueryPlatformAuthStatus.url,void 0,{[P]:eY.QueryPlatformAuthStatus.hostNameType,headers:{"x-identity":a}})).is_two_factor_verified}})()}constructor(){var e;this.axiosInstance=new D().setDefaultConfig((0,w._)((0,T._)({},et),{headers:(0,w._)((0,T._)({},et.headers),{lan:null!==(e=W.ZP.language)&&void 0!==e?e:"en",tdid:""}),withCredentials:!0})).addInterceptor([new H,new N]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],e2.prototype,"getEnableList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[String]),(0,x.w6)("design:returntype",Promise)],e2.prototype,"getPlatformAuthInfo",null);var e5={GetBatchPresetResources:{hostNameType:S.b_.Default,url:"/lv/v1/intelligence/preset_resource_list"},SyncAsset:{hostNameType:S.b_.Default,url:"/lv/v1/ever_photo/batch_sync_asset"},SyncAssetStatus:{hostNameType:S.b_.Default,url:"/lv/v1/ever_photo/batch_get_sync_state"}};var e3=((c={})[c.SyncStateProcessing=1]="SyncStateProcessing",c[c.SyncStateSuccess=2]="SyncStateSuccess",c[c.SyncStateFail=3]="SyncStateFail",c[c.SyncStateNotFound=4]="SyncStateNotFound",c);class e4{getBatchPresetResourceList(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=e5.GetBatchPresetResources,i={smart_tool_type:e.smartToolType,refer_source:0};return yield t._service({url:r,data:i,[P]:a,[E]:!1})})()}syncBatchPresetAsset(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=e5.SyncAsset,i={resources:e.resources,workspace_id:e.workspaceId};return yield t._serviceWithFullData({url:r,data:i,[P]:a,[E]:!1})})()}getSyncStatus(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=e5.SyncAssetStatus,i={resource_ids:e.resourceIds,workspace_id:e.workspaceId},n=()=>t._service({url:r,data:i,[P]:a,[E]:!1});return yield new Promise((e,t)=>{var r,a=(r=(0,M._)(function*(){try{var r=yield n();switch(r.status){case e3.SyncStateSuccess:e(r);break;case e3.SyncStateProcessing:setTimeout(a,1e3);break;default:t(r.status)}}catch(e){t(e)}}),function(){return r.apply(this,arguments)});a()})})()}constructor(){var e=new D;this._service=e.setDefaultConfig(et).useJsonBigTransformResponse().addInterceptor([new Q({}),new H,new N]).build();var t=new D;this._serviceWithFullData=t.setDefaultConfig(et).addInterceptor([new Q({}),new H]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[Object]),(0,x.w6)("design:returntype",Promise)],e4.prototype,"getBatchPresetResourceList",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof AsyncAssetRequest?Object:AsyncAssetRequest]),(0,x.w6)("design:returntype",Promise)],e4.prototype,"syncBatchPresetAsset",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof SyncStateReq?Object:SyncStateReq]),(0,x.w6)("design:returntype",Promise)],e4.prototype,"getSyncStatus",null);var e7={GetIsBindShopify:{hostNameType:S.b_.Default,url:"/lv/v1/third_party_clouds/user_info?type=multi"}};class e9{getIsBindShopify(){var e=this;return(0,M._)(function*(){var t,{url:r,hostNameType:a}=e7.GetIsBindShopify,i=yield e._service.post(r,{platform:"Shopify"},{[P]:a,[E]:!1});return{isBind:!!(null==i?void 0:null===(t=i.user_infos)||void 0===t?void 0:t.length)}})()}constructor(){var e=new D;this._service=e.addInterceptor([new Q({}),new H,new N]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",[]),(0,x.w6)("design:returntype",Promise)],e9.prototype,"getIsBindShopify",null);var e8=/capcut.com/.test(null===(v=r.g)||void 0===v?void 0:null===(h=v.location)||void 0===h?void 0:h.href)?"https://feed-api.capcut.com":"",te={GetCommercialPhotoTaskDetail:{hostNameType:S.b_.Default,url:"/lv/v2/task/multi_get_tasks"},BindCommercialPhotoTask:{hostNameType:S.b_.Default,url:"/lv/v2/cc_web_task/task_bind_draft"},GetCommercialPhotoTaskDrafts:{hostNameType:S.b_.Default,url:"/lv/v2/cc_web_task/get_task_draft"}},tt=r("467475"),tr=r("559309");class ta{getCommercialPhotoTaskDetail(e){var t=this;return(0,M._)(function*(){var r={task_ids:e.taskIds,app_id:tt.AF},{url:a,hostNameType:i}=te.GetCommercialPhotoTaskDetail;try{var n,o,s=yield t._service.post("".concat(t._getDomain()).concat(a),r,{[P]:i});return{taskList:null!==(o=null===(n=s.task_list)||void 0===n?void 0:n.map(e=>t._formatTaskInfo(e)))&&void 0!==o?o:[]}}catch(e){return{taskList:[]}}})()}bindCommercialPhotoTask(e){var t=this;return(0,M._)(function*(){var r={task_id:e.taskId,draft_id:e.draftId,workspace_id:e.workspaceId,is_unbind:e.isUnBind,app_id:tt.AF},{url:a,hostNameType:i}=te.BindCommercialPhotoTask;yield t._service.post("".concat(t._getDomain()).concat(a),r,{[P]:i})})()}getCommercialPhotoTaskDrafts(e){var t=this;return(0,M._)(function*(){var r={task_id:e.taskId,app_id:tt.AF},{url:a,hostNameType:i}=te.GetCommercialPhotoTaskDrafts;try{var n,o,s=yield t._service.post("".concat(t._getDomain()).concat(a),r,{[P]:i});return{draftInfo:null!==(o=null===(n=s.draft_info)||void 0===n?void 0:n.map(e=>({draftId:e.draft_id,workspaceId:e.workspace_id})))&&void 0!==o?o:[]}}catch(e){return{draftInfo:[]}}})()}_formatImageUrl(e){return e?/(http|https):\/\//.test(e)?e:"".concat("https://p16-capcut-sg.ibyteimg.com/").concat(e).concat("~tplv-6rr7idwo9f-image.webp"):""}_formatTaskInfo(e){var{task_id:t,main_type:r,sub_type:a,description:i,require_reward:n,task_limit:o,visible_start_time:s,visible_end_time:l,task_start_time:u,task_end_time:c,update_time:d,status:p}=e,f="",m="";try{var _,y,g=JSON.parse(i);f=g.title,m=this._formatImageUrl(null===(y=g.cover_img_url)||void 0===y?void 0:null===(_=y.head_cover)||void 0===_?void 0:_.uri)}catch(e){console.error("test1",e)}return{title:f,img:m,taskId:t,mainType:r,subType:a,description:i,status:p,requireReward:n,taskLimit:o,visibleStartTime:s,visibleEndTime:l,taskStartTime:u,taskEndTime:c,updateTime:d}}_getDomain(){var e,t=(null===(e=window.__locationInfo)||void 0===e?void 0:e.web_idc)===tr.ie.SG?"sg":"va";return e8.replace("feed-api","feed-api-".concat(t))}constructor(){var e,t,a,{Country:i={Code:""}}=null!==(t=null===(e=r.g)||void 0===e?void 0:e.ip_location_info)&&void 0!==t?t:{};this._service=new D().setDefaultConfig((0,w._)((0,T._)({},et),{headers:(0,w._)((0,T._)({},et.headers),{lan:null!==(a=W.ZP.language)&&void 0!==a?a:"en",tdid:"",loc:i.Code}),withCredentials:!0})).addInterceptor([new Q({}),new H,new N]).build()}}(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetCommercialPhotoTaskDetailReq?Object:GetCommercialPhotoTaskDetailReq]),(0,x.w6)("design:returntype",Promise)],ta.prototype,"getCommercialPhotoTaskDetail",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof BindCommercialPhotoTaskReq?Object:BindCommercialPhotoTaskReq]),(0,x.w6)("design:returntype",Promise)],ta.prototype,"bindCommercialPhotoTask",null),(0,x.gn)([K(),(0,x.w6)("design:type",Function),(0,x.w6)("design:paramtypes",["undefined"==typeof GetCommercialPhotoTaskDraftsReq?Object:GetCommercialPhotoTaskDraftsReq]),(0,x.w6)("design:returntype",Promise)],ta.prototype,"getCommercialPhotoTaskDrafts",null);var ti=[new eT,new eA,new eI,new eO,new eU,new ez,new eK,new e2,new e4,new e9,new ej,new ta],tn=function(e){for(var t of e)Y.getInstance().registerApi(t);return new Proxy({},{get(e,t){var r=Y.getInstance().getApiMethod(t);if(r)return r}})}(ti);var to=((d={})[d.CapcutWeb=106]="CapcutWeb",d[d.Hypic=109]="Hypic",d[d.Jianying=1]="Jianying",d[d.HypicCN=8]="HypicCN",d);var ts=((p={})[p.Capcut=3006]="Capcut",p[p.Hypic=7356]="Hypic",p[p.Jianying=1775]="Jianying",p[p.HypicCN=2515]="HypicCN",p);var tl=((f={}).ImageEditor="image_editor",f.BatchImageEditor="batch_image_editor",f);var tu=((m={}).Loki="loki",m.Vimo="heycan",m);var tc=((_={})[_.Vimo=1]="Vimo",_[_.Loki=2]="Loki",_),td=r(499845),tp={[S.Ab.fonts]:er.hm.SalesFont,[S.Ab.design]:er.hm.SaleDesign,[S.Ab.textPreset]:er.hm.SalesTextPreset,[S.Ab.wordArt]:er.U_.Flower,[S.Ab.sticker]:er.hm.SalesSticker,[S.Ab.svgSticker]:er.hm.SalesSticker,[S.Ab.textTemplate]:td.env.CUSTOM_BUILD_REGION?er.hm.TextTemplateMarketing:er.hm.SalesTextTemplate,[S.Ab.svg]:er.hm.Svg,[S.Ab.grid]:er.hm.SalesGrid,[S.Ab.frame]:er.hm.SalesFrame,[S.Ab.filter]:er.hm.SalesFilter,[S.Ab.imageEffect]:er.hm.SalesImageEffect,[S.Ab.textGlow]:er.hm.SalesTextGlow,[S.Ab.beautyFace]:er.hm.SalesRetouchFace,[S.Ab.beautyMakup]:er.hm.SalesRetouchMakeup,[S.Ab.beautyBody]:er.hm.SalesRetouchBody,[S.Ab.beautyReshape]:er.hm.SalesRetouchReshape,[S.Ab.aiBackgroun]:er.hm.AIBackground,[S.Ab.textAnimation]:er.U_.Text,[S.Ab.stickerAnimation]:er.U_.Sticker},tf={[er.hm.SalesFont]:S.xP.SalesFont,[er.hm.SalesTextPreset]:S.xP.SalesTextPreset,[er.hm.FlowerTextMarketing]:S.xP.TextEffect,[er.hm.SalesSticker]:S.xP.SalesSticker,[er.hm.SalesTextTemplate]:S.xP.SalesTextTemplate,[er.hm.TextTemplateMarketing]:S.xP.TextTemplate,[er.hm.Svg]:S.xP.Svg,[er.hm.SalesGrid]:S.xP.SalesGrid,[er.hm.SalesFrame]:S.xP.SalesFrame,[er.hm.SalesFilter]:S.xP.SalesFilter,[er.hm.SalesImageEffect]:S.xP.SalesImageEffect,[er.hm.SalesTextGlow]:S.xP.SalesTextGlow,[er.hm.SalesRetouchFace]:S.xP.SalesRetouchFace,[er.hm.SalesRetouchMakeup]:S.xP.SalesRetouchMakeup,[er.hm.SalesRetouchBody]:S.xP.SalesRetouchBody,[er.hm.SalesRetouchReshape]:S.xP.SalesRetouchReshape,[er.hm.AIBackground]:S.xP.AIBackground,[er.hm.SaleDesign]:S.xP.SalesDesign,[er.U_.Flower]:S.xP.TextEffect,[er.U_.Text]:S.xP.TextAnimation,[er.U_.Sticker]:S.xP.StickerAnimation},tm={[tc.Loki]:ec.EffectPlatformLoki,[tc.Vimo]:ec.EffectPlatformArtist};ec.EffectPlatformLoki,tc.Loki,ec.EffectPlatformArtist,tc.Vimo;var t_=e=>{switch(e){case er.U_.TextTemplate:return eu.MetaTypeTextTemplate;case er.U_.Flower:return eu.MetaTypeTextEffect;default:return eu.MetaTypeAll}},ty=e=>{if(!(null==e?void 0:null===(t=e.sticker_package)||void 0===t?void 0:t.height_per_frame)||!(null==e?void 0:null===(r=e.sticker_package)||void 0===r?void 0:r.width_per_frame))return"";var t,r,a=[{width:e.sticker_package.width_per_frame,height:e.sticker_package.height_per_frame,url:e.large_image.image_url}];return{imageWidth:e.sticker_package.width_per_frame,imageHeight:e.sticker_package.height_per_frame,imageUrlList:a,url:e.large_image.image_url}},tg=e=>"https://sf16-web-tos-buz.capcutstatic.com/obj/capcut-web-buz-sg/vimo-graphic-font-svg/".concat(e,".svg"),th=e=>{var t;return null===(t=e.text_template)||void 0===t?void 0:t.depend_resource_list},tv=e=>{var t=Object.values((null===(i=e.common_attr)||void 0===i?void 0:i.model_names)?JSON.parse(null===(n=e.common_attr)||void 0===n?void 0:n.model_names):{}).reduce((e,t)=>[...e,...t],[]),r={md5:null!==(I=null===(o=e.common_attr)||void 0===o?void 0:o.md5)&&void 0!==I?I:"",url:null!==(k=null!==(C=null===(l=e.common_attr)||void 0===l?void 0:null===(s=l.item_urls)||void 0===s?void 0:s[0])&&void 0!==C?C:null===(u=e.common_attr)||void 0===u?void 0:u.file_url)&&void 0!==k?k:"",name:null!==(D=null===(c=e.common_attr)||void 0===c?void 0:c.title)&&void 0!==D?D:"",previewUrl:null!==(x=null===(p=e.common_attr)||void 0===p?void 0:null===(d=p.cover_url)||void 0===d?void 0:d.small)&&void 0!==x?x:"",animatedUrl:null!==(N=null===(m=e.common_attr)||void 0===m?void 0:null===(f=m.cover_url)||void 0===f?void 0:f.static_img)&&void 0!==N?N:"",metaType:t_(e.panel),effectId:null!==(O=null===(y=e.common_attr)||void 0===y?void 0:null===(_=y.effect_id)||void 0===_?void 0:_.toString())&&void 0!==O?O:"",resourceId:null!==(L=null===(h=e.common_attr)||void 0===h?void 0:null===(g=h.id)||void 0===g?void 0:g.toString())&&void 0!==L?L:"",relatedId:"",sourcePlatform:e.source?tm[e.source]:ec.EffectPlatformArtist,requirements:null!==(F=null===(v=e.common_attr)||void 0===v?void 0:v.requirements)&&void 0!==F?F:[],modelNames:t,isBusiness:!1,author:"",duration:0,extra:{},sdkExtra:{},contentJSON:(null===(w=e.contentJsonMap)||void 0===w?void 0:w[null!==(U=null===(T=e.common_attr)||void 0===T?void 0:T.md5)&&void 0!==U?U:""])||"",contentFile:"",dependency:th(e),panel:null!==(G=null!==(B=e.panel)&&void 0!==B?B:(null===(M=e.common_attr)||void 0===M?void 0:M.effect_type)&&tp[null===(b=e.common_attr)||void 0===b?void 0:b.effect_type])&&void 0!==G?G:"",stickerImage:ty(e.sticker),reportTimestamp:Date.now(),sdkVersion:null!==(j=e.sdkVersion)&&void 0!==j?j:"",imageFiles:[],tags:null===(A=e.common_attr)||void 0===A?void 0:A.tag_list,thirdResourceId:null==e?void 0:null===(P=e.common_attr)||void 0===P?void 0:P.third_resource_id_str,childEffects:(null===(E=e.sub_effects)||void 0===E?void 0:E.map(tv))||[]};try{var a,i,n,o,s,l,u,c,d,p,f,m,_,y,g,h,v,T,w,M,b,A,P,E,R,I,C,k,D,x,N,O,L,F,U,B,G,j,H,W=(null===(H=e.common_attr)||void 0===H?void 0:H.extra)&&/^[{].*[}]$/.test(e.common_attr.extra)?e.common_attr.extra:"{}";r.extra=JSON.parse(W)}catch(e){}try{var q,z=(null===(q=e.common_attr)||void 0===q?void 0:q.biz_extra)&&/^[{].*[}]$/.test(e.common_attr.biz_extra)?e.common_attr.biz_extra:void 0;z&&(r.extra=JSON.parse(z))}catch(e){}try{var V,K=(null===(V=e.common_attr)||void 0===V?void 0:V.sdk_extra)&&/^[{].*[}]$/.test(e.common_attr.sdk_extra)?e.common_attr.sdk_extra:"{}";r.sdkExtra=JSON.parse(K)}catch(e){}if((null===(R=e.common_attr)||void 0===R?void 0:R.effect_type)===S.Ab.fonts&&(r.previewUrl=tg(null==e?void 0:null===(a=e.common_attr)||void 0===a?void 0:a.id)),Object.keys(r.extra).length>0){var{Resources:Y,canvas_cover:J,video_duration:Z,hover_icon:$,preview_cover:Q,track_thumbnail:X,is_business:ee,web_icon:et}=r.extra;if(ee&&(r.isBusiness=!0),Z&&(r.duration=1e3*Z),($||Q||X)&&(r.previewUrl=$||Q||X),Y||J){var er=Y||J;r.md5=el().basename(er,el().extname(er)),r.url=er}}return r},tT=r(499845),tw=e=>({GET_HEYCAN_CATEGORY_BY_ID:{HostNameType:S.b_.Default,url:"/artist/v1/panel/get_panel_info"},GET_HEYCAN_RESOURCES_BY_CATEGORY_ID:{HostNameType:S.b_.Default,url:"/artist/v1/effect/get_resources_by_category_id"},GET_EFFECTS_BY_RES_ID:{HostNameType:S.b_.Default,url:"/artist/v1/effect/mget_item"},GET_RECENT_LIST:{HostNameType:S.b_.Default,url:"cn"===tT.env.CUSTOM_BUILD_REGION?"/lv/v1/editor/effect/recent_list":"/lv/v2/editor/effect/recent_list"},GET_CONTENT_MAP_BY_MD5:{HostNameType:S.b_.Default,url:"/lv/v1/editor/plane_draft/get_content_map"}})[e];function tM(e){var{region:t,language:r,sdkVersion:a,appID:i,useRegion:n,bizId:o}=e,{searchParams:s}=new URL(window.location.href);return{params:{aid:null!=i?i:348188,version_name:null!=a?a:"11.0.0",version_code:"11.0.0",sdk_version:null!=a?a:ee,effect_sdk_version:null!=a?a:ee,device_platform:"web",region:t,language:r,device_type:"web",channel:s.get("__local_test__")?"local_test":"online",use_region:n?1:void 0,biz_id:null!=o?o:to.Hypic},withCredentials:!0,[E]:!1}}var tb=(e,t)=>{if(!t)return e;try{return JSON.parse(t)}catch(t){return e}},tS=e=>e===er.hm.SalesTextTemplate,tA=new class e{_formatEffectList(e){var{effectItemList:t,panel:r,sourceMap:a,contentJsonMap:i,appID:n,bizId:o,lokiOptional:s,replicate_sdk_version:l}=e;return(null==t?void 0:t.map(e=>{var t,u,c,d,p,f=null===(u=tb({},null===(c=e.common_attr)||void 0===c?void 0:c.sdk_extra))||void 0===u?void 0:null===(t=u.depend_resource_list)||void 0===t?void 0:t.map(e=>({id:null==e?void 0:e.resource_id,panel:null==e?void 0:e.type,source:null==e?void 0:e.source})),m=f&&f.length>0&&this.getEffectsByResourceIds({items:f,app_id:n,biz_id:o,loki_optional:s,replicate_sdk_version:l});return(0,w._)((0,T._)({},tv((0,w._)((0,T._)({},e),{panel:r,source:null==a?void 0:a[null!==(p=null==e?void 0:null===(d=e.common_attr)||void 0===d?void 0:d.id)&&void 0!==p?p:""],contentJsonMap:i}))),{dependencyPromise:m})}))||[]}_fetchAllRemainingEffectsByCategoryId(e){var{panel:t,offset:r,count:a,categoryId:i,categoryKey:n,curDeep:o=1,maxDeep:s=3}=e,l=this;return(0,M._)(function*(){try{var{list:e,cursor:u,hasMore:c}=yield l.fetchCategoryEffects({panel:t,category_id:Number(i),category_key:n,offset:r,count:a}),d=[];return c&&o<=s&&({list:d}=yield l._fetchAllRemainingEffectsByCategoryId({panel:t,offset:u,count:a,categoryId:i,categoryKey:n,curDeep:o+1})),{list:e.concat(d)}}catch(e){return{list:[]}}})()}_moveItemToFirst(e,t){try{var r=e.findIndex(t);if(-1===r)return e;var a=e[r];return e.splice(r,1),e.unshift(a),e}catch(t){return e}}_sortWordsByFirstLetter(e){try{var t=e.slice();return t.sort((e,t)=>{for(var r=0;r<e.name.length&&r<t.name.length;){if(e.name[r]<t.name[r])return -1;if(e.name[r]>t.name[r])return 1;r++}return e.name.length-t.name.length}),t}catch(t){return e}}switchLokiPanelRegion(e){this.hasDependencyCN=e}fetchHeycanCategory(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=tw("GET_HEYCAN_CATEGORY_BY_ID"),n=tM({region:yield D.apiSetting.getUserRegion(),language:W.ZP.language,bizId:e.biz_id,appID:e.app_id}),{categories:o,category_resources:s}=(yield t._service((0,T._)({url:a,[P]:i,data:(0,w._)((0,T._)({},e),{panel_source:tu.Vimo,enter_from:null!==(r=e.enter_from)&&void 0!==r?r:tl.ImageEditor})},n))).data;if(!(null==o?void 0:o.length))throw Error("heycan resource bad response");return{list:o.map(e=>{var t,r=(null!==(t=null==e?void 0:e.sub_categories)&&void 0!==t?t:[]).map(e=>({id:e.category_id,name:e.category_name,key:e.category_key,extra:e.category_extra}));return{id:e.category_id,name:e.category_name,key:e.category_key,childrenCategories:r}}),categoryResources:s}})()}fetchCategoryEffects(e){var t=this;return(0,M._)(function*(){var r,{url:a,hostNameType:i}=tw("GET_HEYCAN_RESOURCES_BY_CATEGORY_ID"),n=tM({region:yield D.apiSetting.getUserRegion(),language:W.ZP.language,bizId:e.biz_id,appID:e.app_id,sdkVersion:e.replicate_sdk_version}),{effect_item_list:o,has_more:s,next_offset:l}=(yield t._service((0,T._)({url:a,[P]:i,data:(0,w._)((0,T._)({},e),{loki_opt:void 0,panel_source:tu.Vimo,enter_from:null!==(r=e.enter_from)&&void 0!==r?r:tl.ImageEditor})},n))).data;if(!o)throw Error("heycan resource bad response");var u={};if(tS(e.panel))try{u=yield t.getContentMap({md5_list:o.map(e=>{var t;return(null===(t=e.common_attr)||void 0===t?void 0:t.md5)||""})})}catch(e){}return{cursor:l,hasMore:s,list:t._formatEffectList({effectItemList:o,panel:e.panel,appID:e.app_id,bizId:e.biz_id,lokiOptional:e.loki_opt,replicate_sdk_version:e.replicate_sdk_version,contentJsonMap:u})}})()}getEffectsByResourceIds(e){var t=this;return(0,M._)(function*(){var r,a,i,{url:n,hostNameType:o}=tw("GET_EFFECTS_BY_RES_ID"),s=tM({region:yield D.apiSetting.getUserRegion(),language:W.ZP.language,sdkVersion:e.replicate_sdk_version}),l=yield t._service((0,T._)({url:n,[P]:o,data:(0,w._)((0,T._)({},e),{enter_from:null!==(a=e.enter_from)&&void 0!==a?a:tl.ImageEditor,loki_optional:e.loki_optional?(0,T._)({loki_biz_id:ey.Hypic},e.loki_optional):{loki_biz_id:ey.Hypic}})},s));if(!(null===(r=l.data)||void 0===r?void 0:r.effect_item_list))throw Error("heycan resource bad response");var u={};try{u=(null===(i=e.items)||void 0===i?void 0:i.reduce((e,t)=>t.id&&(null==t?void 0:t.source)?(0,w._)((0,T._)({},e),{[t.id]:t.source}):e,{}))||{}}catch(e){}var{effect_item_list:c}=l.data;return t._formatEffectList({effectItemList:c,sourceMap:u,appID:e.app_id,bizId:e.biz_id,lokiOptional:e.loki_optional})})()}fetchMaterialRecentList(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=tw("GET_RECENT_LIST"),i=(0,w._)((0,T._)({},e),{app_version:X,sdk_version:ee,lang:W.ZP.language,region:yield D.apiSetting.getUserRegion()}),{has_more:n,new_cursor:o,item_list:s=[]}=(yield t._service({url:r,data:i,[P]:a})).data;return{list:t._formatEffectList({effectItemList:s}),cursor:o,hasMore:n}})()}getContentMap(e){var t=this;return(0,M._)(function*(){var{url:r,hostNameType:a}=tw("GET_CONTENT_MAP_BY_MD5"),{content_json_map:i}=(yield t._service({url:r,data:e,[P]:a,headers:(0,w._)((0,T._)({},j({url:"".concat(location.origin).concat(r),pf:"7",appvr:en,tdid:""})),{"app-sdk-version":X,"sign-ver":1,pf:"7",appvr:en})})).data;return i})()}fetchHeycanAllText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this;return(0,M._)(function*(){var i,{list:n,categoryResources:o}=yield a.fetchHeycanCategory((0,w._)((0,T._)({},e),{get_all_resource:!0,enter_from:e.enter_from}));if(!o)return{list:[]};var s={};n.forEach(e=>{s[e.id]=e.key});var l=Object.keys(o).filter(e=>!t.includes(s[e])).map(e=>{var t;return(0,T._)({categoryId:e,categoryKey:null==n?void 0:null===(t=n.find(t=>String(t.id)===e))||void 0===t?void 0:t.key},o[e])});l=a._moveItemToFirst(l,e=>"english"===e.categoryKey);var u=r[W.ZP.language];return u&&(l=a._moveItemToFirst(l,e=>e.categoryKey===u)),{list:(yield Promise.all(l.map((i=(0,M._)(function*(t){var r,i=null==t?void 0:null===(r=t.effect_item_list)||void 0===r?void 0:r.map(t=>tv((0,w._)((0,T._)({},t),{panel:null==e?void 0:e.panel})));if(t.has_more){var{list:n}=yield a._fetchAllRemainingEffectsByCategoryId({panel:e.panel,categoryId:t.categoryId,offset:t.next_offset,count:1e3});return a._sortWordsByFirstLetter(i.concat(n))}return a._sortWordsByFirstLetter(i)}),function(e){return i.apply(this,arguments)})))).flat()}})()}constructor(e={}){var t=new D().setDefaultConfig((0,T._)({method:"POST"},e)).useJsonBigTransformResponse().addInterceptor(new Q({})).build();t.interceptors.response.use(e=>{if(200===e.status){var t=e.data;if(!t.BaseResp||0===t.BaseResp.StatusCode)return Promise.resolve(t)}return Promise.reject(e)}),this._service=t}},tP=r("777632");class tE{get userIDC(){return this._userIdc}updateRequestSetting(e){this.hostName=e.domain,this._userIdc=e.webIdc,this._userRegion=e.region,!this._initLocker.hasBeenDone&&this._initLocker.initDone()}getUserRegion(){var e=this;return(0,M._)(function*(){return yield e._initLocker.awaitForInit(),e._userRegion})()}getRequestDomain(e){var t=this;return(0,M._)(function*(){yield t._initLocker.awaitForInit();var{type:r}=Object.assign({},{type:S.b_.Default},e);return t.hostName[r]})()}constructor(){this.hostName={[S.b_.Default]:""},this._initLocker=new tP.G}}var tR=((y={})[y.EffectTypeAudioEffect=3]="EffectTypeAudioEffect",y[y.EffectTypeSong=4]="EffectTypeSong",y[y.EffectTypeVideo=5]="EffectTypeVideo",y[y.EffectTypeImage=9]="EffectTypeImage",y[y.EffectTypeWebImageTemplate=203]="EffectTypeWebImageTemplate",y);var tI=((g={}).TrackEditor="track_editor",g.Export="export",g)},370062:function(e,t,r){"use strict";r.d(t,{i:()=>u,B:()=>l});var a,i,n=r("876826"),o=r("85728"),s=!1,l=new class e{register(e){var t;this.context=e.context,this._loggerProvider=e.loggerProvider,this._tempReport=e.tempReport,this._prefix=null!==(t=e.prefix)&&void 0!==t?t:"VideoDocument-Data-Layer"}get ccLog(){var e;return!s&&(null===(e=this.context)||void 0===e?void 0:e.ccLog)?new Promise(e=>{Promise.all([r.e("6367"),r.e("3758")]).then(r.bind(r,477134)).then(t=>{var r,a,n,o;i=t.init({region:null!==(n=null===(r=this.context)||void 0===r?void 0:r.ccLog.region)&&void 0!==n?n:"boe",app_id:null!==(o=null===(a=this.context)||void 0===a?void 0:a.ccLog.appId)&&void 0!==o?o:""}),s=!0,e(i)})}):Promise.resolve(i)}log(){for(var e,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];null===(e=this._loggerProvider)||void 0===e||e.log(this._prefix,...r)}saveLog(e){var t=this;return(0,n._)(function*(){var r=yield t.ccLog;return yield r.saveLog(e)})()}info(){for(var e,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];null===(e=this._loggerProvider)||void 0===e||e.info(this._prefix,...r)}debug(){for(var e,t,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];null===(t=this._loggerProvider)||void 0===t||null===(e=t.debug)||void 0===e||e.call(t,this._prefix,...a)}error(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,i=r;a&&(i+=", stack: ".concat(a.stack)),console.error("****error",t,i,a),null===(e=this._loggerProvider)||void 0===e||e.error(this._prefix,t,r,i,a)}warn(){for(var e,t,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];null===(t=this._loggerProvider)||void 0===t||null===(e=t.warn)||void 0===e||e.call(t,this._prefix,...a)}fatal(){for(var e,t,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];null===(t=this._loggerProvider)||void 0===t||null===(e=t.fatal)||void 0===e||e.call(t,this._prefix,...a)}report(){for(var e,t,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];null===(t=this._loggerProvider)||void 0===t||null===(e=t.report)||void 0===e||e.call(t,this._prefix,...a)}cgiReport(e){var t,r;null===(r=this._tempReport)||void 0===r||null===(t=r.report)||void 0===t||t.call(r,e)}reportError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.error(e,t,r),this.ccLog.then(i=>{i.error((0,o._)({describe:e,reason:t,reasonWithStack:r?"".concat(t,", stack: ").concat(r.stack):""},a))})}constructor(){this._prefix="",Error.stackTraceLimit&&(Error.stackTraceLimit=50)}};var u=((a={})[a.CC=1]="CC",a[a.MWEB=2]="MWEB",a[a.LONG_TO_SHORT=3]="LONG_TO_SHORT",a[a.BUSINESS=4]="BUSINESS",a[a.AI_CREATOR=4]="AI_CREATOR",a)},211069:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var a=r(940140),i={[a.xP.SalesSticker]:[a.Ms.EffectTypeSticker],[a.xP.SalesFont]:[a.Ms.EffectTypeFont],[a.xP.YkImage]:[a.Ms.EffectTypeImage],[a.xP.TextEffect]:[a.Ms.EffectTypeWordArt]};function n(e){for(var[t,r]of Object.entries(i))if(r.includes(e))return t}},541566:function(e,t,r){"use strict";r.d(t,{EJ:function(){return l},aW:function(){return o},tv:function(){return u}});var a=r(85728),i=r(940140),n=e=>{var t,r,[a,i]=null!==(t=e.image.large_images)&&void 0!==t?t:[],{id:n,effect_id:o,source:s,title:l,copyright:u,is_business:c,aspect_ratio:d}=e.common_attr;return{resourceId:n,effectId:o,source:s,cardUrl:null==a?void 0:a.image_url,width:null==a?void 0:a.width,height:null==a?void 0:a.height,previewUrl:null==i?void 0:i.image_url,orderInfo:e.order_info,title:l,copyrightName:null!==(r=null==u?void 0:u.copyright_text)&&void 0!==r?r:"Deposit",artistName:null==u?void 0:u.artist_name,copyrightLogo:null==u?void 0:u.copyright_logo,previewWidth:null==i?void 0:i.width,previewHeight:null==i?void 0:i.height,isCommercial:c,aspectRatio:d}},o=(e,t)=>e.map(e=>t?(0,a._)({},n(e),t):n(e)),s=e=>{var t,[r]=null!==(t=e.image.large_images)&&void 0!==t?t:[],[a]=e.common_attr.item_urls,{id:i,effect_id:n,source:o,title:s,copyright:l,is_business:u,aspect_ratio:c}=e.common_attr;return{resourceId:i,effectId:n,source:o,cardUrl:r.image_url,width:r.width,height:r.height,previewUrl:a,orderInfo:e.order_info,title:s,copyrightName:null==l?void 0:l.copyright_text,artistName:null==l?void 0:l.artist_name,copyrightLogo:null==l?void 0:l.copyright_logo,isCommercial:u,aspectRatio:c}},l=(e,t)=>e.map(e=>t?(0,a._)({},s(e),t):s(e)),u=e=>{var{common_attr:t}=e;return t.source===i.iJ.TuChong?s(e):n(e)}},718337:function(e,t,r){"use strict";r.d(t,{go:()=>p,nr:()=>d,xc:()=>_,Il:()=>u,tB:()=>f,Oo:()=>m});var a=r("85728"),i=r("940140");function n(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}var o=r("302107"),s=/(rgba?)\(\s*?(\d+?)\s*?,\s*?(\d+?)\s*?,\s*?(\d+?)\s*?(?:,\s*?((0\.)?\d+?)\s*)?\)/,l=/#([0-9a-fA-F]{6})([0-9a-fA-F]{2})?/;class u{get r(){return this._v.r}set r(e){this._v.r=e}get g(){return this._v.g}set g(e){this._v.g=e}get b(){return this._v.b}set b(e){this._v.b=e}get a(){var e;return null!==(e=this._v.a)&&void 0!==e?e:1}set a(e){this._v.a=e}rgba(){return(0,a._)({},this._v)}hex(){var{r:e,g:t,b:r,a}=this._v,i=[e,t,r,null!=a?a:1].map((e,t)=>{var r=Number(3===t?Math.round(255*e):e).toString(16);return 1===r.length?"0".concat(r):r}).join("");return"#".concat(i)}array(){var{r:e,g:t,b:r,a}=this._v,i=[e,t,r];return void 0!==a&&i.push(a),i}string(){var{r:e,g:t,b:r,a}=this._v;return void 0===a?"rgb(".concat(e,",").concat(t,",").concat(r,")"):"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(a,")")}colorPick(){return{hex:this.hex(),rgb:this.rgba(),formatRGBA:this.string()}}isEqual(e){return this.a===e.a&&this.r===e.r&&this.g===e.g&&this.b===e.b}constructor(e){if(this._v={r:0,b:0,g:0,a:1},"string"==typeof e){var t=s.exec(e);if(t){var[,r,i,n,o,u]=t;this._v={r:Number(i),g:Number(n),b:Number(o),a:"rgb"===r?1:Number(u)};return}var c=l.exec(e);if(c){for(var d=[],[,p]=c,f=0;f<6;f+=2)d.push(parseInt(p.slice(f,f+2),16));this._v={r:d[0],g:d[1],b:d[2],a:1}}}else if(Array.isArray(e)){var m,[_,y,g]=e.map(e=>e>1?e:Math.round(255*e));this._v={r:_,g:y,b:g,a:null!==(m=e[3])&&void 0!==m?m:1}}else this._v=(0,a._)({},e)}}function c(e){if(!Array.isArray(e)||4!==e.length)return!1;for(var t=0;t<3;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!!n(e[3])&&!(e[3]<0)&&!(e[3]>1)&&!0}function d(e){var t=null==e?void 0:e.type;return!![i.cF.LinearGradient,i.cF.RadialGradient].includes(t)||!1}function p(e,t){var r,a;if(void 0===e&&void 0===t||c(e)&&c(t)&&function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!0;return!!(d(e)&&d(t)&&(r=e,a=t,(0,o.v)(r,a)))||!1}var f=e=>e?Array.isArray(e)?{solid:e}:e.type===i.cF.LinearGradient?{linearGradient:e,gradient:e}:e.type===i.cF.RadialGradient?{radialGradient:e,gradient:e}:{}:{};function m(e){var t=l.exec(e);if(t){for(var r=[],[,a,i]=t,n=0;n<6;n+=2)r.push(parseInt(a.slice(n,n+2),16));return[r[0],r[1],r[2],parseInt(null!=i?i:"ff",16)/255]}return[0,0,0,0]}function _(e){return"#".concat(e.map((e,t)=>{var r=Number(3===t?Math.round(255*e):e).toString(16);return 1===r.length?"0".concat(r):r}).join(""))}},121192:function(e,t,r){"use strict";r.d(t,{$3:function(){return o},js:function(){return s},ui:function(){return l}});var a=r(85728),i=r(929753),n=r(940140),o="Internal_Filter",s=[n.vA.SATURATION,n.vA.BRIGHTNESS,n.vA.CONTRAST,n.vA.LIGHT_SENSATION,n.vA.EXPOSURE,n.vA.FADE,n.vA.HIGHLIGHT,n.vA.SHADOW,n.vA.TEMPERATURE,n.vA.TONE,n.vA.VIBRANCE,n.vA.OLITEXTURE,n.vA.GRAIN].reduce((e,t)=>(0,i._)((0,a._)({},e),{[t]:void 0}),{}),l={colorScheme:{id:"53061813",resourceId:"7259669436393591297"},lumiHub:{id:"75388616",resourceId:"7272983534673859074"},faceRect:{id:"7406275882400189701",resourceId:"7406275882400189701"},makeupRoot:{id:"7406275420099824901",resourceId:"7406275420099824901"},lokiFaceRect:{id:"153058216",resourceId:"7207391969436242434"},lokiMakeupRoot:{id:"153093534",resourceId:"7280056145232794113"}};Object.keys(l).reduce((e,t)=>(0,i._)((0,a._)({},e),{[l[t].resourceId]:t}),{})},777632:function(e,t,r){"use strict";r.d(t,{G:function(){return a}});class a{get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!!this._initCostTimes){var{start:e,end:t}=this._initCostTimes;return(null!=t?t:Date.now())-e}}get initResult(){if(!!this._hasBeenDone)return{resolve:this._resolveResult,reject:this._rejectResult}}get isIniting(){return this._isIniting}awaitForInit(){var e,t,{key:r,timeout:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._hasBeenDone&&this.initResult){var{resolve:i,reject:n}=this.initResult;return n?Promise.reject(n):Promise.resolve(i)}if(r&&this._waitingResolverMap.has(r))return this._waitingResolverMap.get(r);if(!a){var o=new Promise((e,t)=>{this._waitingResolvers.add([e,t])});return r&&this._waitingResolverMap.set(r,o),o}var s=Promise.race([new Promise((r,a)=>{e=[()=>{clearTimeout(t),r()},a],this._waitingResolvers.add([e,a])}),new Promise((r,i)=>{t=setTimeout(()=>{this._waitingResolvers.delete(e),i(Error("Timed out waiting for init"))},a)})]);return r&&this._waitingResolverMap.set(r,s),s}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());var t=!1;for(var r of((null==e?void 0:e.reject)?(t=!0,this._rejectResult=e.reject):this._resolveResult=null==e?void 0:e.resolve,this._waitingResolvers))t?r[1](this._rejectResult):r[0](this._resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}}},796776:function(e,t,r){"use strict";r.d(t,{$S:function(){return n},Ln:function(){return o}});var a=r(940140);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return e/(2.54/t)}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return e/(t/2.54)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{width:r,height:n}=e;return e.unit===a.fb.CM&&(r=i(e.width),n=i(e.height)),t&&(r=Math.round(r),n=Math.round(n)),{width:r,height:n,unit:a.fb.PX}}},598879:function(e,t,r){"use strict";r.d(t,{Cm:function(){return i},jv:function(){return n},m4:function(){return l},vB:function(){return s}}),r(940140);var a=r(593062);function i(){var e,t=(0,a.EQ)("/:category(editor-graphic|editor-batch|editor-pc-launchpad)/:draftId?")(r.g.location.pathname);return null==t?void 0:null===(e=t.params)||void 0===e?void 0:e.category}function n(e){try{return new URL(e),!0}catch(e){return!1}}var o=e=>Object.entries(e).map(e=>{var[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))}).join("&"),s=()=>{var e;return o(null!==(e=r.g.location.originParams)&&void 0!==e?e:{})};class l{static create(e){return new l(e)}addQueryParameter(e,t){var r=-1===this._currentUrl.indexOf("?")?"?":"&";return this._currentUrl="".concat(this._currentUrl).concat(r).concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),this}removeAllQueryParameter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._currentUrl.split("?")[1];if(!t)return this;for(var r=t.split("&"),a=0;a<r.length;a++){var i=r[a].split("=")[0];!e.includes(i)&&(r.splice(a,1),a--)}return r.length>0?this._currentUrl=this._currentUrl.replace(t,r.join("&")):this._currentUrl=this._currentUrl.replace("?".concat(t),""),this}removeQueryParameter(e){var t=new RegExp("([&?])".concat(e,"=[^&]*[&]?"));return this._currentUrl=this._currentUrl.replace(t,e=>e.startsWith("?")?"?":e.endsWith("&")?"&":""),this}replaceResourceName(e){var t=this._currentUrl.match(/^(.*\/)([^/]+)$/);if(t&&t.length>2){var r=t[1],a=e.startsWith("/")?e.substr(1):e;this._currentUrl="".concat(r).concat(a)}return this}getQueryParameterValue(e){return new URLSearchParams(this._currentUrl.split("?")[1]).get(e)}getAllQueryParameterValues(){var e=this._currentUrl.split("?")[1];if(!e)return{};var t={};for(var[r,a]of new URLSearchParams(e))t[r]=a;return t}toString(){return this._currentUrl}constructor(e){this._currentUrl=e}}},711891:function(e,t,r){"use strict";r.d(t,{Q3:function(){return i},Ww:function(){return n},lr:function(){return a},s4:function(){return o}});var a="127.0.0",i="32.0.1",n="15.4.0",o=400000n},442452:function(e,t,r){"use strict";r.d(t,{Y:function(){return n},x:function(){return o}});var a,i=r(971245);var n=((a={}).DEFAULT="default",a.TTS="tts",a.SAMI="sami",a.FRONTIER="frontier",a.COMMERCE="commerce",a.JIANYING="jianying",a),o=(0,i.yh)("http-api-setting")},294202:function(e,t,r){"use strict";r.d(t,{C3:function(){return d},EE:function(){return _},Hw:function(){return f},Ll:function(){return y},Nb:function(){return h},PS:function(){return g},V6:function(){return m},n9:function(){return p}});var a,i,n,o,s,l,u,c,d=((a={})[a.MetaTypeNone=0]="MetaTypeNone",a[a.MetaTypeVideo=1]="MetaTypeVideo",a[a.MetaTypePhoto=2]="MetaTypePhoto",a[a.MetaTypeGif=3]="MetaTypeGif",a[a.MetaTypeMusic=4]="MetaTypeMusic",a[a.MetaTypeExtractMusic=5]="MetaTypeExtractMusic",a[a.MetaTypeSound=6]="MetaTypeSound",a[a.MetaTypeRecord=7]="MetaTypeRecord",a[a.MetaTypeImage=8]="MetaTypeImage",a[a.MetaTypeText=9]="MetaTypeText",a[a.MetaTypeSubtitle=10]="MetaTypeSubtitle",a[a.MetaTypeLyrics=11]="MetaTypeLyrics",a[a.MetaTypeSticker=12]="MetaTypeSticker",a[a.MetaTypeFilter=13]="MetaTypeFilter",a[a.MetaTypeLUT=14]="MetaTypeLUT",a[a.MetaTypeReshape=15]="MetaTypeReshape",a[a.MetaTypeBeauty=16]="MetaTypeBeauty",a[a.MetaTypeVideoEffect=17]="MetaTypeVideoEffect",a[a.MetaTypeBrightness=18]="MetaTypeBrightness",a[a.MetaTypeContrast=19]="MetaTypeContrast",a[a.MetaTypeSaturation=20]="MetaTypeSaturation",a[a.MetaTypeSharpen=21]="MetaTypeSharpen",a[a.MetaTypeHighlight=22]="MetaTypeHighlight",a[a.MetaTypeShadow=23]="MetaTypeShadow",a[a.MetaTypeTemperature=24]="MetaTypeTemperature",a[a.MetaTypeHue=25]="MetaTypeHue",a[a.MetaTypeFade=26]="MetaTypeFade",a[a.MetaTypeLightSensation=27]="MetaTypeLightSensation",a[a.MetaTypeVignetting=28]="MetaTypeVignetting",a[a.MetaTypeParticle=29]="MetaTypeParticle",a[a.MetaTypeSegCanvas=30]="MetaTypeSegCanvas",a[a.MetaTypeCanvasColor=31]="MetaTypeCanvasColor",a[a.MetaTypeCanvasImage=32]="MetaTypeCanvasImage",a[a.MetaTypeCanvasBlur=33]="MetaTypeCanvasBlur",a[a.MetaTypeTransition=34]="MetaTypeTransition",a[a.MetaTypeAudioEffect=35]="MetaTypeAudioEffect",a[a.MetaTypeAudioFade=36]="MetaTypeAudioFade",a[a.MetaTypeBeats=37]="MetaTypeBeats",a[a.MetaTypeTailLeader=38]="MetaTypeTailLeader",a[a.MetaTypeAnimation=39]="MetaTypeAnimation",a[a.MetaTypeVideoAnimation=40]="MetaTypeVideoAnimation",a[a.MetaTypeTextEffect=41]="MetaTypeTextEffect",a[a.MetaTypeTextShape=42]="MetaTypeTextShape",a[a.MetaTypeTextToAudio=43]="MetaTypeTextToAudio",a[a.MetaTypeVideoMix=44]="MetaTypeVideoMix",a[a.MetaTypeAdjust=45]="MetaTypeAdjust",a[a.MetaTypeVideoMask=46]="MetaTypeVideoMask",a[a.MetaTypeSpeed=47]="MetaTypeSpeed",a[a.MetaTypeChroma=48]="MetaTypeChroma",a[a.MetaTypeTextTemplate=49]="MetaTypeTextTemplate",a[a.MetaTypeVideoOriginalSound=50]="MetaTypeVideoOriginalSound",a[a.MetaTypeStretchLeg=51]="MetaTypeStretchLeg",a[a.MetaTypeRealtimeDenoise=52]="MetaTypeRealtimeDenoise",a[a.MetaTypeFigure=53]="MetaTypeFigure",a[a.MetaTypeFaceEffect=54]="MetaTypeFaceEffect",a[a.MetaTypeVideoTracking=55]="MetaTypeVideoTracking",a[a.MetaTypeHsl=56]="MetaTypeHsl",a[a.MetaTypeColorCurves=57]="MetaTypeColorCurves",a[a.MetaTypeAudioBalance=58]="MetaTypeAudioBalance",a[a.MetaTypeComposition=59]="MetaTypeComposition",a[a.MetaTypeCover=60]="MetaTypeCover",a[a.MetaTypeLeader=61]="MetaTypeLeader",a[a.MetaTypeTailer=62]="MetaTypeTailer",a[a.MetaTypePrimaryColorWheels=63]="MetaTypePrimaryColorWheels",a[a.MetaTypeLogColorWheels=64]="MetaTypeLogColorWheels",a[a.MetaTypeHandwriteImage=65]="MetaTypeHandwriteImage",a[a.MetaTypeHandwriteRes=66]="MetaTypeHandwriteRes",a[a.MetaTypeCombination=67]="MetaTypeCombination",a[a.MetaTypeManualDeformation=68]="MetaTypeManualDeformation",a[a.MetaTypePluginEffect=69]="MetaTypePluginEffect",a[a.MetaTypeLockObject=70]="MetaTypeLockObject",a[a.MetaTypeAdCube=71]="MetaTypeAdCube",a[a.MetaTypeMattingStroke=72]="MetaTypeMattingStroke",a[a.MetaTypeSmartColorAdjust=73]="MetaTypeSmartColorAdjust",a[a.MetaTypeChannelMapping=74]="MetaTypeChannelMapping",a[a.MetaTypeBloom=75]="MetaTypeBloom",a[a.MetaTypeTextPreset=76]="MetaTypeTextPreset",a[a.MetaTypeGreenScreen=77]="MetaTypeGreenScreen",a[a.MetaTypeArticleToVideoTemplate=78]="MetaTypeArticleToVideoTemplate",a[a.MetaTypeAll=79]="MetaTypeAll",a);var p=((i={})[i.MaterialPlatformDefault=0]="MaterialPlatformDefault",i[i.MaterialPlatformArtist=1]="MaterialPlatformArtist",i[i.MaterialPlatformXTApp=2]="MaterialPlatformXTApp",i[i.MaterialPlatformQYApp=3]="MaterialPlatformQYApp",i[i.MaterialPlatformFaceuApp=4]="MaterialPlatformFaceuApp",i[i.MaterialPlatformLVApp=5]="MaterialPlatformLVApp",i[i.MaterialPlatformCapCutApp=6]="MaterialPlatformCapCutApp",i[i.MaterialPlatformXigua=7]="MaterialPlatformXigua",i[i.MaterialPlatformGiphy=8]="MaterialPlatformGiphy",i[i.MaterialPlatformBrand=9]="MaterialPlatformBrand",i[i.MaterialPlatformEnterprise=10]="MaterialPlatformEnterprise",i[i.MaterialPlatformTuchongAdobe=11]="MaterialPlatformTuchongAdobe",i[i.MaterialPlatformTuchongDeposit=12]="MaterialPlatformTuchongDeposit",i[i.MaterialPlatformTuchongPond5=13]="MaterialPlatformTuchongPond5",i[i.MaterialPlatformStudioShooting=14]="MaterialPlatformStudioShooting",i);var f=((n={})[n.UNKNOWN=0]="UNKNOWN",n[n.HEYCAN=1]="HEYCAN",n[n.LOKI=2]="LOKI",n[n.MUSIC=3]="MUSIC",n[n.TUCHONG=5]="TUCHONG",n[n.BRAND=6]="BRAND",n);var m=((o={}).DEPOSIT="third_resource_tuchong_deposit",o.ADOBE="third_resource_tuchong_adobe",o.POND5="third_resource_tuchong_pond5",o);var _=((s={})[s.EffectPlatformLoki=0]="EffectPlatformLoki",s[s.EffectPlatformArtist=1]="EffectPlatformArtist",s[s.EffectPlatformBrand=2]="EffectPlatformBrand",s[s.EffectPlatformImportedFont=3]="EffectPlatformImportedFont",s[s.EffectPlatformServerTemplate=4]="EffectPlatformServerTemplate",s);var y=((l={})[l.AudioPlatformLibrary=0]="AudioPlatformLibrary",l[l.AudioPlatformArtist=1]="AudioPlatformArtist",l[l.AudioPlatformBrand=2]="AudioPlatformBrand",l[l.AudioPlatformEnterprise=3]="AudioPlatformEnterprise",l);var g=((u={}).AES_GCM="AES-GCM",u.AES_CBC="AES-CBC",u);var h=((c={})[c.New=1]="New",c[c.Old=0]="Old",c)},972394:function(e,t,r){"use strict";r.d(t,{N9:function(){return l},VD:function(){return o},yl:function(){return s}});var a,i,n,o=((a={})[a.EMPTY=-1]="EMPTY",a[a.BREAK=3]="BREAK",a[a.BACKSPACE=8]="BACKSPACE",a[a.TAB=9]="TAB",a[a.CLEAR=12]="CLEAR",a[a.ENTER=13]="ENTER",a[a.SHIFT=16]="SHIFT",a[a.CTRL=17]="CTRL",a[a.ALT=18]="ALT",a[a.PAUSE=19]="PAUSE",a[a.CAPS_LOCK=20]="CAPS_LOCK",a[a.ESCAPE=27]="ESCAPE",a[a.SPACE=32]="SPACE",a[a.PAGE_UP=33]="PAGE_UP",a[a.PAGE_DOWN=34]="PAGE_DOWN",a[a.END=35]="END",a[a.HOME=36]="HOME",a[a.ARROW_LEFT=37]="ARROW_LEFT",a[a.ARROW_UP=38]="ARROW_UP",a[a.ARROW_RIGHT=39]="ARROW_RIGHT",a[a.ARROW_DOWN=40]="ARROW_DOWN",a[a.SELECT=41]="SELECT",a[a.PRINT=42]="PRINT",a[a.EXECUTE=43]="EXECUTE",a[a.PRINT_SCREEN=44]="PRINT_SCREEN",a[a.INSERT=45]="INSERT",a[a.DELETE=46]="DELETE",a[a.HELP=47]="HELP",a[a.NUM_0=48]="NUM_0",a[a.NUM_1=49]="NUM_1",a[a.NUM_2=50]="NUM_2",a[a.NUM_3=51]="NUM_3",a[a.NUM_4=52]="NUM_4",a[a.NUM_5=53]="NUM_5",a[a.NUM_6=54]="NUM_6",a[a.NUM_7=55]="NUM_7",a[a.NUM_8=56]="NUM_8",a[a.NUM_9=57]="NUM_9",a[a.A=65]="A",a[a.B=66]="B",a[a.C=67]="C",a[a.D=68]="D",a[a.E=69]="E",a[a.F=70]="F",a[a.G=71]="G",a[a.H=72]="H",a[a.I=73]="I",a[a.J=74]="J",a[a.K=75]="K",a[a.L=76]="L",a[a.M=77]="M",a[a.N=78]="N",a[a.O=79]="O",a[a.P=80]="P",a[a.Q=81]="Q",a[a.R=82]="R",a[a.S=83]="S",a[a.T=84]="T",a[a.U=85]="U",a[a.V=86]="V",a[a.W=87]="W",a[a.X=88]="X",a[a.Y=89]="Y",a[a.Z=90]="Z",a[a.META_LEFT=91]="META_LEFT",a[a.META_RIGHT=93]="META_RIGHT",a[a.NUM_TIMES=106]="NUM_TIMES",a[a.NUM_PLUS=107]="NUM_PLUS",a[a.NUM_MINUS=109]="NUM_MINUS",a[a.NUM_POINT=110]="NUM_POINT",a[a.NUM_DIVIDE=111]="NUM_DIVIDE",a[a.F1=112]="F1",a[a.F2=113]="F2",a[a.F3=114]="F3",a[a.F4=115]="F4",a[a.F5=116]="F5",a[a.F6=117]="F6",a[a.F7=118]="F7",a[a.F8=119]="F8",a[a.F9=120]="F9",a[a.F10=121]="F10",a[a.F11=122]="F11",a[a.F12=123]="F12",a[a.SEMI=186]="SEMI",a[a.EQUAL=187]="EQUAL",a[a.COMMA=188]="COMMA",a[a.MINUS=189]="MINUS",a[a.PERIOD=190]="PERIOD",a[a.SLASH=191]="SLASH",a[a.BACKQUOTE=192]="BACKQUOTE",a[a.BRACKET_LEFT=219]="BRACKET_LEFT",a[a.BACK_SLASH=220]="BACK_SLASH",a[a.BRACKET_RIGHT=221]="BRACKET_RIGHT",a[a.QUOTE=222]="QUOTE",a);var s=((i={})[i.EQUAL=61]="EQUAL",i[i.MINUS=173]="MINUS",i[i.SEMI=59]="SEMI",i[i.META_FIREFOX=224]="META_FIREFOX",i);var l=((n={})[n.SHIFT=1e3]="SHIFT",n[n.ALT=1e4]="ALT",n[n.CTRL_WIN=1e5]="CTRL_WIN",n[n.CTRL_MAC=2e5]="CTRL_MAC",n[n.WIN=1e6]="WIN",n[n.COMMAND=2e6]="COMMAND",n)},422779:function(e,t,r){"use strict";r.d(t,{m:()=>f});var a=r("843698"),i=r("874800"),n=r("448224"),o=r("56935"),s=r("998125"),l=r("237990"),u=r("972394");class c{static getKeyCode(e){var{keyCode:t}=e;return s.vU&&(t===u.yl.EQUAL?t=u.VD.EQUAL:t===u.yl.MINUS&&(t=u.VD.MINUS)),t}static getAssistKey(e){var t=0;return s.V5||s.zc?(t+=e.altKey?u.N9.ALT:0,t+=e.shiftKey?u.N9.SHIFT:0,t+=e.ctrlKey?u.N9.CTRL_MAC:0,t+=e.metaKey?u.N9.COMMAND:0):(t+=e.altKey?u.N9.ALT:0,t+=e.shiftKey?u.N9.SHIFT:0,t+=e.ctrlKey?u.N9.CTRL_WIN:0,t+=e.metaKey?u.N9.WIN:0),t}}function d(e,t){return(t.weight||0)-(e.weight||0)}function p(e){return!!e&&"function"==typeof e.handler&&(!e.when||"function"==typeof e.when)&&(!e.keyBindings.mac||!!Array.isArray(e.keyBindings.mac))&&(!e.keyBindings.win||!!Array.isArray(e.keyBindings.win))&&(!e.description||!!Array.isArray(e.description))&&!0}class f extends i.JT{get targetNode(){return this._targetNode}get onKeydown(){return!this._emitter&&(this._emitter=new a.Q),this._emitter.event}register(e){return(0,o.Y2)(p(e)),e.keyBindings[this._platform].slice().forEach(t=>{if(t!==u.VD.EMPTY){var r=[e];if(this._keymap.has(t)){var a=this._keymap.get(t);a&&(r=r.concat(a))}this._keymap.set(t,r)}}),(0,n.UQ)(()=>{this._unregister(e)})}batchRegister(e){var t=[];return Object.entries(e.keyBindings).forEach(r=>{var[a,i]=r,n=a.split(",").map(e=>Number(e)),o="win"===this._platform?n:[],s="mac"===this._platform?n:[],l={shouldPreventDefault:e.shouldPreventDefault,when:e.when,weight:e.weight,description:e.description,handler:"function"==typeof i?i:i.handler,keyBindings:{win:o,mac:s}};"function"!=typeof i&&Object.assign(l,{shouldPreventDefault:i.shouldPreventDefault,when:i.when,weight:i.weight,description:i.description}),t.push(this.register(l))}),(0,n.UQ)(()=>{t.forEach(e=>e.dispose())})}unregister(e){(0,o.Y2)(p(e)),this._unregister(e)}get _platform(){return s.V5||s.gn?"mac":"win"}_execute(e,t){var r=this._keymap.get(e);if(!!r)r.sort(d),r.forEach(e=>{var{handler:r,shouldPreventDefault:a=!0,when:i,options:n={keydown:!0}}=e;if(!this._checkTagBlacklist(t,e)&&("keydown"!==t.type||!!n.keydown)&&("keyup"!==t.type||!!n.keyup))(!i||i(t))&&(a&&t&&t.preventDefault(),r(t))})}_checkTagBlacklist(e,t){if(!this._tagBlacklist.length)return!1;var r=e.target.tagName;return this._tagBlacklist.includes(r)}_unregister(e){e.keyBindings[this._platform].slice().forEach(t=>{if(t!==u.VD.EMPTY){if(this._keymap.has(t)){var r=this._keymap.get(t);if(r){var a=r.indexOf(e);a>-1&&r.splice(a,1)}}}})}constructor(e,t={}){super(),this._keymap=new Map,this._tagBlacklist=[],this._emitter=null,this._onKeydown=e=>{this._emitter&&this._emitter.fire(e);var t,r=c.getKeyCode(e),a=c.getAssistKey(e);if(null===(t=this._skipCondition)||void 0===t?!void 0:!t.call(this,r,a))this._execute(a+r,e)},this._onKeyup=e=>{var t,r=c.getKeyCode(e),a=c.getAssistKey(e);if(null===(t=this._skipCondition)||void 0===t?!void 0:!t.call(this,r,a))this._execute(a+r,e)},this._targetNode=e;var r,a,i=null!==(r=t.useCapture)&&void 0!==r&&r;this._skipCondition=t.skipCondition,this._tagBlacklist=null!==(a=t.tagBlacklist)&&void 0!==a?a:[],this._register((0,l.n)(e,"keydown",this._onKeydown,{capture:i})),this._register((0,l.n)(e,"keyup",this._onKeyup,{capture:i}))}}},998125:function(e,t,r){"use strict";r.d(t,{V5:function(){return m},gn:function(){return _},vU:function(){return g},zc:function(){return y}});var a,i=!1,n=!1,o=!1,s=!1,l=!1,u=!1,c=!1,d=!1,p=!1,f=!1;"object"==typeof navigator&&((a=navigator.userAgent).indexOf("Windows"),l=(a.indexOf("Macintosh")>=0||a.indexOf("iPad")>=0||a.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,a.indexOf("Linux"),u=a.indexOf("Mobi")>=0,c=a.indexOf("iPad")>=0,n=!u&&a.indexOf("Macintosh")>=0,d=/firefox/i.test(a),/chrome/i.test(a),/^((?!chrome|android).)*safari/i.test(a));var m=n,_=l,y=c,g=d},423381:function(e,t,r){"use strict";r.d(t,{C:function(){return a}});var a=.5},934385:function(e,t,r){"use strict";r.d(t,{$C:function(){return m},Bo:function(){return g},Dk:function(){return h},Jz:function(){return u},Rg:function(){return l},Rl:function(){return _},eY:function(){return v},pG:function(){return y}});var a=r(369617),i=r(100470),n=r(588735),o=r(391731),s=r(150615),l="1091",u="\u62B1\u6B49\uFF0C\u7CFB\u7EDF\u68C0\u6D4B\u5230\u60A8\u6709\u591A\u6B21\u8FDD\u89C4\uFF0C\u65E0\u6CD5\u4F7F\u7528\u8BE5\u529F\u80FD\uFF0C\u53EF\u901A\u8FC7\u6D88\u606F\u4E2D\u5FC3\u67E5\u770B\u89E3\u5C01\u65F6\u95F4\uFF0C\u5982\u6709\u95EE\u9898\u8BF7\u53CD\u9988\u7ED9\u6211\u4EEC\u3002",c=[i.b.ErrPunishLimitAIGenerate,i.b.ErrSharkNotPass],d=[n.sb.ErrPunishLimitAIGenerate,n.sb.ErrSharkNotPass],p=[o.T.LIMIT_AI_GENERATE,o.T.SHARK_NOT_PASS];function f(){a.s.warning(s.ZP.t("account_block_toast_feedback",{},u))}var m=e=>c.includes(e),_=e=>{!e.response.ok&&m(e.response.code)&&f()},y=e=>{!e.ok&&m(e.code)&&a.s.warningByThrottle(s.ZP.t("account_block_toast_feedback",{},u))},g=e=>d.includes(e),h=e=>{!e.ok&&g(e.code)&&f()},v=e=>p.includes(e)},894412:function(e,t,r){"use strict";r.d(t,{F:function(){return n},b:function(){return o}});var a,i=r(971245);var n=((a={})[a.Insufficient=2408]="Insufficient",a),o=(0,i.yh)("userMaterialsService")},777936:function(e,t,r){"use strict";r.d(t,{d:function(){return a}});var a=(0,r(971245).yh)("keybinding")},91781:function(e,t,r){"use strict";r.d(t,{DT:function(){return o},lT:function(){return s},zb:function(){return n}});var a,i=r(971245);var n=((a={}).Success="success",a.Info="info",a.Warning="warning",a.Error="error",a.Normal="normal",a.Loading="loading",a),o=3,s=(0,i.yh)("notification")},639746:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var a,i=((a={})[a.readonly=1]="readonly",a[a.editable=2]="editable",a[a.owner=3]="owner",a)},391731:function(e,t,r){"use strict";r.d(t,{T:function(){return n},l:function(){return o}});var a,i,n=((a={}).INVALID_PARAMS="1000",a.SYSTEM_ERR="1002",a.COPYRIGHT_ERR="7051",a.MAIN_CHINESE_ERR="7052",a.ONL_ENG_ERR="7053",a.LYRIC_AUDIT_ERR="3013",a.LIMIT_AI_GENERATE="1018",a.SHARK_NOT_PASS="1019",a);var o=((i={}).SYSTEM_ERR="1000",i.INVALID_PARAMS="1001",i.COPYRIGHT_ERR="1159",i.TEXT_AUDIT_ERR="1063",i.SAMI_CONCURRENCY_LIMIT="1157",i.SAMI_INVALID_CHAR="1158",i.MIX_CN_EN_ERR="1161",i.NOT_SUPPORT_LANG="1162",i)},262238:function(e,t,r){"use strict";r.d(t,{HM:function(){return u},Jp:function(){return m},Mw:function(){return f},PW:function(){return c},fl:function(){return p},zg:function(){return d}});var a,i,n,o,s,l=r(971245);var u=((a={})[a.Checking=9999]="Checking",a[a.NoFace=-1]="NoFace",a[a.Success=0]="Success",a[a.Refuse=3]="Refuse",a);var c=((i={}).Success="0",i.CopyrightLimit="2048",i.SecurityLimit="2039",i.ImageDownloadFail="2037",i.FaceCreateFail="4000",i.ServerBusiness="1057",i);var d=((n={})[n.Init=0]="Init",n[n.Processing=10]="Processing",n[n.Success=20]="Success",n[n.PoorEffect=21]="PoorEffect",n[n.Fail=30]="Fail",n[n.TnsFail=40]="TnsFail",n);var p=((o={})[o.VideoLipSyncPreProcess=0]="VideoLipSyncPreProcess",o[o.ImageFaceDetect=1]="ImageFaceDetect",o[o.ImageCreateAvatar=2]="ImageCreateAvatar",o[o.VideoTemplateImageDetect=3]="VideoTemplateImageDetect",o[o.VideoTemplateVideoDetect=4]="VideoTemplateVideoDetect",o);var f=((s={})[s.Default=0]="Default",s[s.Loopy=1]="Loopy",s[s.HQ=2]="HQ",s),m=(0,l.yh)("dreamina-lip-sync-data-service")},702095:function(e,t,r){"use strict";r.d(t,{YB:function(){return o},ZF:function(){return n},ov:function(){return s}});var a,i,n="-1";var o=((a={}).Video="video",a.Image="image",a.Audio="audio",a.File="file",a);var s=((i={}).EverCloud="everCloud",i.PublicSpace="publicSpace",i)},592030:function(e,t,r){"use strict";function a(e){var t,r,a,i,n;return{common:{singleFrameHeight:null!==(t=e.height)&&void 0!==t?t:0,singleFrameWidth:null!==(r=e.width)&&void 0!==r?r:0,totalSetNum:1},details:[{frameCount:1,imageWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:0,imageHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0,url:e.url,encryptedBucketKey:"",encryptedKey:null!==(n=e.key)&&void 0!==n?n:""}],isFromFallback:!0}}r.d(t,{y:function(){return a}})},974501:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});function a(e,t){var r,a,i,n;return{url:(r=e||100,a=t||100,(i=document.createElement("canvas")).width=r,i.height=a,(n=i.getContext("2d")).fillStyle="#000000",n.fillRect(0,0,r,a),i.toDataURL()),key:"",isFromFallback:!0}}},33586:function(e,t,r){"use strict";function a(e){return!e.filename}function i(e){var t,r;return!e.name||(null===(t=e.meta)||void 0===t?void 0:t.is_matting)||(null===(r=e.meta)||void 0===r?void 0:r.have_transcode)===!1}function n(e){var t;return null!==(t=e.is_matting)&&void 0!==t?t:e.is_reverse}function o(e){var t;return null!==(t=null==e?void 0:e.is_gameplay)&&void 0!==t&&t}r.d(t,{Ii:function(){return i},JI:function(){return o},Ml:function(){return a},jL:function(){return n}})},305466:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var a=r(876826),i=r(417597),n=["application/zip","application/x-zip-compressed","application/x-7z-compressed","application/gzip","application/x-tar"];function o(e,t){return s.apply(this,arguments)}function s(){return(s=(0,a._)(function*(e,t){var r;if(n.includes((r=t.split(";")[0])?r.trim():"")){var a={},{entries:o}=yield(0,i.Ri)(e);for(var[s,l]of Object.entries(o)){if(!(l.isDirectory||s.startsWith("__MACOSX")||s.includes(".DS_Store"))){var u=yield l.arrayBuffer();a[s.replaceAll("//","/")]={isDirectory:l.isDirectory,size:l.size,name:l.name,arrayBuffer:u}}}return Promise.resolve(a)}return Promise.resolve(e)})).apply(this,arguments)}},454882:function(){}}]);